var Beacon=function(c,a,b){this.pianist=c;this.track=a;this.ind=b;this.radNormMin=3;this.radNormMax=6;this.radNorm=this.radNormMax;this.radHitMin=10;this.radHitMax=19;this.radHit=this.radHitMax;this.easeRadius=0.2;this.alpha=(isMobile&&!(mobileOS=="iOS"))?0.6:1;this.colCurr;this.isGrabbed=false;this.isHovered=false;this.isVisible=false;this.rad=this.radNorm;this.init()};Beacon.prototype.init=function(){this.cv=cv1;this.xp;this.yp};Beacon.prototype.setColor=function(a){};Beacon.prototype.noteOn=function(){this.rad=this.radHit};Beacon.prototype.upd=function(){if(this.isVisible){this.cv.beginPath();this.cv.globalCompositeOperation=(isMobile&&!(mobileOS=="iOS"))?"normal":"multiply";this.rad=this.rad+(this.radNorm-this.rad)*this.easeRadius;this.cv.fillStyle=getColorMinusAlpha(this.colCurr,this.alpha);this.cv.arc(this.xp1+worldOriginX,this.yp1+worldOriginY,this.rad,0,2*MATH_PI);this.cv.fill();this.cv.closePath()}};Beacon.prototype.startGrab=function(){this.track.resetStroke(0.1);this.isGrabbed=true};Beacon.prototype.stopGrab=function(){this.track.resetStroke(0.7);this.isGrabbed=false};Beacon.prototype.setColor=function(a){this.colCurr=a};Beacon.prototype.updateSize=function(){var a=this.track.radiusRatio;this.radNorm=lerp(this.radNormMin,this.radNormMax,a);this.radHit=lerp(this.radHitMin,this.radHitMax,a)};Beacon.prototype.setVisible=function(a){this.isVisible=a};Beacon.prototype.setPos=function(a,b){this.xp1=a;this.yp1=b};Beacon.prototype.getX=function(){return this.xp1};Beacon.prototype.getY=function(){return this.yp1};