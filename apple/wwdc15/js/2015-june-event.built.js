/* ---- BUILT FILE. DO NOT MODIFY THIS DIRECTLY. ---- */
require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({hKo7Mr:[function(require,module,exports){/*! Dust - Asynchronous Templating - v2.3.3
* http://linkedin.github.io/dustjs/
* Copyright (c) 2014 Aleksander Williams; Released under the MIT License */
!function(root){function Context(a,b,c,d){this.stack=a,this.global=b,this.blocks=c,this.templateName=d}function Stack(a,b,c,d){this.tail=b,this.isObject=a&&"object"==typeof a,this.head=a,this.index=c,this.of=d}function Stub(a){this.head=new Chunk(this),this.callback=a,this.out=""}function Stream(){this.head=new Chunk(this)}function Chunk(a,b,c){this.root=a,this.next=b,this.data=[],this.flushable=!1,this.taps=c}function Tap(a,b){this.head=a,this.tail=b}var dust={},NONE="NONE",ERROR="ERROR",WARN="WARN",INFO="INFO",DEBUG="DEBUG",loggingLevels=[DEBUG,INFO,WARN,ERROR,NONE],EMPTY_FUNC=function(){},logger=EMPTY_FUNC,loggerContext=this;dust.debugLevel=NONE,dust.silenceErrors=!1,root&&root.console&&root.console.log&&(logger=root.console.log,loggerContext=root.console),dust.log=function(a,b){if(dust.isDebug&&dust.debugLevel===NONE&&(logger.call(loggerContext,'[!!!DEPRECATION WARNING!!!]: dust.isDebug is deprecated.  Set dust.debugLevel instead to the level of logging you want ["debug","info","warn","error","none"]'),dust.debugLevel=INFO),b=b||INFO,loggingLevels.indexOf(b)>=loggingLevels.indexOf(dust.debugLevel)&&(dust.logQueue||(dust.logQueue=[]),dust.logQueue.push({message:a,type:b}),logger.call(loggerContext,"[DUST "+b+"]: "+a)),!dust.silenceErrors&&b===ERROR)throw"string"==typeof a?new Error(a):a},dust.onError=function(a,b){if(logger.call(loggerContext,"[!!!DEPRECATION WARNING!!!]: dust.onError will no longer return a chunk object."),dust.log(a.message||a,ERROR),dust.silenceErrors)return b;throw a},dust.helpers={},dust.cache={},dust.register=function(a,b){a&&(dust.cache[a]=b)},dust.render=function(a,b,c){var d=new Stub(c).head;try{dust.load(a,d,Context.wrap(b,a)).end()}catch(e){dust.log(e,ERROR)}},dust.stream=function(a,b){var c=new Stream;return dust.nextTick(function(){try{dust.load(a,c.head,Context.wrap(b,a)).end()}catch(d){dust.log(d,ERROR)}}),c},dust.renderSource=function(a,b,c){return dust.compileFn(a)(b,c)},dust.compileFn=function(a,b){b=b||null;var c=dust.loadSource(dust.compile(a,b));return function(a,d){var e=d?new Stub(d):new Stream;return dust.nextTick(function(){"function"==typeof c?c(e.head,Context.wrap(a,b)).end():dust.log(new Error("Template ["+b+"] cannot be resolved to a Dust function"),ERROR)}),e}},dust.load=function(a,b,c){var d=dust.cache[a];return d?d(b,c):dust.onLoad?b.map(function(b){dust.onLoad(a,function(d,e){return d?b.setError(d):(dust.cache[a]||dust.loadSource(dust.compile(e,a)),void dust.cache[a](b,c).end())})}):b.setError(new Error("Template Not Found: "+a))},dust.loadSource=function(source,path){return eval(source)},Array.isArray?dust.isArray=Array.isArray:dust.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},dust.nextTick=function(){return function(a){setTimeout(a,0)}}(),dust.isEmpty=function(a){return dust.isArray(a)&&!a.length?!0:0===a?!1:!a},dust.filter=function(a,b,c){if(c)for(var d=0,e=c.length;e>d;d++){var f=c[d];"s"===f?(b=null,dust.log("Using unescape filter on ["+a+"]",DEBUG)):"function"==typeof dust.filters[f]?a=dust.filters[f](a):dust.log("Invalid filter ["+f+"]",WARN)}return b&&(a=dust.filters[b](a)),a},dust.filters={h:function(a){return dust.escapeHtml(a)},j:function(a){return dust.escapeJs(a)},u:encodeURI,uc:encodeURIComponent,js:function(a){return JSON?JSON.stringify(a):(dust.log("JSON is undefined.  JSON stringify has not been used on ["+a+"]",WARN),a)},jp:function(a){return JSON?JSON.parse(a):(dust.log("JSON is undefined.  JSON parse has not been used on ["+a+"]",WARN),a)}},dust.makeBase=function(a){return new Context(new Stack,a)},Context.wrap=function(a,b){return a instanceof Context?a:new Context(new Stack(a),{},null,b)},Context.prototype.get=function(a,b){return"string"==typeof a&&("."===a[0]&&(b=!0,a=a.substr(1)),a=a.split(".")),this._get(b,a)},Context.prototype._get=function(a,b){var c,d,e,f,g=this.stack,h=1;if(dust.log("Searching for reference [{"+b.join(".")+"}] in template ["+this.getTemplateName()+"]",DEBUG),d=b[0],e=b.length,a&&0===e)f=g,g=g.head;else{if(a)g=g.head[d];else{for(;g&&(!g.isObject||(f=g.head,c=g.head[d],void 0===c));)g=g.tail;g=void 0!==c?c:this.global?this.global[d]:void 0}for(;g&&e>h;)f=g,g=g[b[h]],h++}if("function"==typeof g){var i=function(){try{return g.apply(f,arguments)}catch(a){return dust.log(a,ERROR)}};return i.isFunction=!0,i}return void 0===g&&dust.log("Cannot find the value for reference [{"+b.join(".")+"}] in template ["+this.getTemplateName()+"]"),g},Context.prototype.getPath=function(a,b){return this._get(a,b)},Context.prototype.push=function(a,b,c){return new Context(new Stack(a,this.stack,b,c),this.global,this.blocks,this.getTemplateName())},Context.prototype.rebase=function(a){return new Context(new Stack(a),this.global,this.blocks,this.getTemplateName())},Context.prototype.current=function(){return this.stack.head},Context.prototype.getBlock=function(a,b,c){if("function"==typeof a){var d=new Chunk;a=a(d,this).data.join("")}var e=this.blocks;if(!e)return void dust.log("No blocks for context[{"+a+"}] in template ["+this.getTemplateName()+"]",DEBUG);for(var f,g=e.length;g--;)if(f=e[g][a])return f},Context.prototype.shiftBlocks=function(a){var b,c=this.blocks;return a?(b=c?c.concat([a]):[a],new Context(this.stack,this.global,b,this.getTemplateName())):this},Context.prototype.getTemplateName=function(){return this.templateName},Stub.prototype.flush=function(){for(var a=this.head;a;){if(!a.flushable)return a.error?(this.callback(a.error),dust.log("Chunk error ["+a.error+"] thrown. Ceasing to render this template.",WARN),void(this.flush=EMPTY_FUNC)):void 0;this.out+=a.data.join(""),a=a.next,this.head=a}this.callback(null,this.out)},Stream.prototype.flush=function(){for(var a=this.head;a;){if(!a.flushable)return a.error?(this.emit("error",a.error),dust.log("Chunk error ["+a.error+"] thrown. Ceasing to render this template.",WARN),void(this.flush=EMPTY_FUNC)):void 0;this.emit("data",a.data.join("")),a=a.next,this.head=a}this.emit("end")},Stream.prototype.emit=function(a,b){if(!this.events)return dust.log("No events to emit",INFO),!1;var c=this.events[a];if(!c)return dust.log("Event type ["+a+"] does not exist",WARN),!1;if("function"==typeof c)c(b);else if(dust.isArray(c))for(var d=c.slice(0),e=0,f=d.length;f>e;e++)d[e](b);else dust.log("Event Handler ["+c+"] is not of a type that is handled by emit",WARN)},Stream.prototype.on=function(a,b){return this.events||(this.events={}),this.events[a]?"function"==typeof this.events[a]?this.events[a]=[this.events[a],b]:this.events[a].push(b):(dust.log("Event type ["+a+"] does not exist. Using just the specified callback.",WARN),b?this.events[a]=b:dust.log("Callback for type ["+a+"] does not exist. Listener not registered.",WARN)),this},Stream.prototype.pipe=function(a){return this.on("data",function(b){try{a.write(b,"utf8")}catch(c){dust.log(c,ERROR)}}).on("end",function(){try{return a.end()}catch(b){dust.log(b,ERROR)}}).on("error",function(b){a.error(b)}),this},Chunk.prototype.write=function(a){var b=this.taps;return b&&(a=b.go(a)),this.data.push(a),this},Chunk.prototype.end=function(a){return a&&this.write(a),this.flushable=!0,this.root.flush(),this},Chunk.prototype.map=function(a){var b=new Chunk(this.root,this.next,this.taps),c=new Chunk(this.root,b,this.taps);return this.next=c,this.flushable=!0,a(c),b},Chunk.prototype.tap=function(a){var b=this.taps;return b?this.taps=b.push(a):this.taps=new Tap(a),this},Chunk.prototype.untap=function(){return this.taps=this.taps.tail,this},Chunk.prototype.render=function(a,b){return a(this,b)},Chunk.prototype.reference=function(a,b,c,d){return"function"==typeof a&&(a.isFunction=!0,a=a.apply(b.current(),[this,b,null,{auto:c,filters:d}]),a instanceof Chunk)?a:dust.isEmpty(a)?this:this.write(dust.filter(a,c,d))},Chunk.prototype.section=function(a,b,c,d){if("function"==typeof a&&(a=a.apply(b.current(),[this,b,c,d]),a instanceof Chunk))return a;var e=c.block,f=c["else"];if(d&&(b=b.push(d)),dust.isArray(a)){if(e){var g=a.length,h=this;if(g>0){b.stack.head&&(b.stack.head.$len=g);for(var i=0;g>i;i++)b.stack.head&&(b.stack.head.$idx=i),h=e(h,b.push(a[i],i,g));return b.stack.head&&(b.stack.head.$idx=void 0,b.stack.head.$len=void 0),h}if(f)return f(this,b)}}else if(a===!0){if(e)return e(this,b)}else if(a||0===a){if(e)return e(this,b.push(a))}else if(f)return f(this,b);return dust.log("Not rendering section (#) block in template ["+b.getTemplateName()+"], because above key was not found",DEBUG),this},Chunk.prototype.exists=function(a,b,c){var d=c.block,e=c["else"];if(dust.isEmpty(a)){if(e)return e(this,b)}else if(d)return d(this,b);return dust.log("Not rendering exists (?) block in template ["+b.getTemplateName()+"], because above key was not found",DEBUG),this},Chunk.prototype.notexists=function(a,b,c){var d=c.block,e=c["else"];if(dust.isEmpty(a)){if(d)return d(this,b)}else if(e)return e(this,b);return dust.log("Not rendering not exists (^) block check in template ["+b.getTemplateName()+"], because above key was found",DEBUG),this},Chunk.prototype.block=function(a,b,c){var d=c.block;return a&&(d=a),d?d(this,b):this},Chunk.prototype.partial=function(a,b,c){var d;d=dust.makeBase(b.global),d.blocks=b.blocks,b.stack&&b.stack.tail&&(d.stack=b.stack.tail),c&&(d=d.push(c)),"string"==typeof a&&(d.templateName=a),d=d.push(b.stack.head);var e;return e="function"==typeof a?this.capture(a,d,function(a,b){d.templateName=d.templateName||a,dust.load(a,b,d).end()}):dust.load(a,this,d)},Chunk.prototype.helper=function(a,b,c,d){var e=this;try{return dust.helpers[a]?dust.helpers[a](e,b,c,d):(dust.log("Invalid helper ["+a+"]",WARN),e)}catch(f){return dust.log(f,ERROR),e}},Chunk.prototype.capture=function(a,b,c){return this.map(function(d){var e=new Stub(function(a,b){a?d.setError(a):c(b,d)});a(e.head,b).end()})},Chunk.prototype.setError=function(a){return this.error=a,this.root.flush(),this},Tap.prototype.push=function(a){return new Tap(a,this)},Tap.prototype.go=function(a){for(var b=this;b;)a=b.head(a),b=b.tail;return a};var HCHARS=new RegExp(/[&<>\"\']/),AMP=/&/g,LT=/</g,GT=/>/g,QUOT=/\"/g,SQUOT=/\'/g;dust.escapeHtml=function(a){return"string"==typeof a&&HCHARS.test(a)?a.replace(AMP,"&amp;").replace(LT,"&lt;").replace(GT,"&gt;").replace(QUOT,"&quot;").replace(SQUOT,"&#39;"):a};var BS=/\\/g,FS=/\//g,CR=/\r/g,LS=/\u2028/g,PS=/\u2029/g,NL=/\n/g,LF=/\f/g,SQ=/'/g,DQ=/"/g,TB=/\t/g;dust.escapeJs=function(a){return"string"==typeof a?a.replace(BS,"\\\\").replace(FS,"\\/").replace(DQ,'\\"').replace(SQ,"\\'").replace(CR,"\\r").replace(LS,"\\u2028").replace(PS,"\\u2029").replace(NL,"\\n").replace(LF,"\\f").replace(TB,"\\t"):a},"object"==typeof exports?module.exports=dust:root.dust=dust}(this)},{}],"dustjs-linkedin":[function(a,b,c){b.exports=a("hKo7Mr")},{}],templates:[function(a,b,c){b.exports=a("dt6s00")},{}],dt6s00:[function(a,b,c){b.exports=function(){var b=a("dust-functions");return function(){function a(a,b){return a.write('<a  href="#').reference(b._get(!1,["headline"]),b,"h").write('" ').exists(b._get(!1,["timecode"]),b,{block:c},null).write(' data-analytics-click="prop3:chapter-').reference(b._get(!1,["uuid"]),b,"h").write('">').reference(b._get(!1,["headline"]),b,"h").write("</a> ")}function c(a,b){return a.write(' data-timecode="').reference(b._get(!1,["timecode"]),b,"h").write('" ')}return b.register("template-chapter",a),a}(),function(){function a(a,b){return a.write('<ul id="video-chapters" class="video-chapters" role="group" aria-label="chapters menu"></ul>')}return b.register("template-chapters",a),a}(),function(){function a(a,b){return a.write('<div class="explore-menu"><a href="#" class="video-control icon" aria-label="video controls"></a><a href="#" class="video-title"><h1>').reference(b._get(!1,["strings","page","headline"]),b,"h").write('</h1><span class="subtitle">').reference(b._get(!1,["strings","page","subhead"]),b,"h").write("</span></a>").helper("eq",b,{block:c},{key:b._get(!1,["feedMode"]),value:"post"}).write("</div>")}function c(a,b){return a.write('<a href="#" class="icon icon-chevrondown explore-trigger" aria-label="explore chapters" data-analytics-click="prop3:explore">').reference(b._get(!1,["strings","ui","explore"]),b,"h").write("</a>")}return b.register("template-explore-bar",a),a}(),function(){function a(a,b){return a.write('<div class="hero-video-wrapper" aria-label="video" id="hero-video" data-analytics-id="stream-live"><div class="hero-video-content"></div></div>')}return b.register("template-hero-live",a),a}(),function(){function a(a,b){return a.write('<div class="hero-background"></div><div class="hero-message-content"><h4>').reference(b._get(!1,["state_headline"]),b,"h").write('</h4><p class="subhead">').reference(b._get(!1,["state_subhead"]),b,"h").write("</p>").section(b._get(!1,["show_keynotecta"]),b,{block:c},null).write('</div><aside class="sosumi"><ul><li>').section(b._get(!1,["show_live_requirements"]),b,{block:d},null).section(b._get(!1,["show_vod_requirements"]),b,{block:e},null).write("</li></ul></aside>")}function c(a,b){return a.write('<a href="#" class="play-video"><span>').reference(b._get(!1,["strings","keynotecta"]),b,"h").write('</span><span class="icon icon-play"></span></a>')}function d(a,b){return a.reference(b._get(!1,["strings","page","requirements","live"]),b,"h")}function e(a,b){return a.reference(b._get(!1,["strings","page","requirements","vod"]),b,"h")}return b.register("template-hero-message",a),a}(),function(){function a(a,b){return a.write('<div class="hero-message">').partial("template-hero-message",b,null).write('</div><div class="video-container">').helper("eq",b,{block:c},{key:b._get(!1,["state"]),value:"live"}).helper("eq",b,{block:d},{key:b._get(!1,["state"]),value:"vod"}).write("</div>")}function c(a,b){return a.partial("template-hero-live",b,null)}function d(a,b){return a.partial("template-hero-vod",b,null)}return b.register("template-hero-touch",a),a}(),function(){function a(a,b){return a.write('<div class="hero-video-wrapper" aria-label="video" id="hero-video" data-analytics-id="stream-vod"><div class="hero-video-content"></div></div>')}return b.register("template-hero-vod",a),a}(),function(){function a(a,b){return a.write('<a href="#" class="badge"><span class="badge-count">0</span></a>')}return b.register("template-notifications-badge",a),a}(),function(){function a(a,b){return a}return b.register("template-overlay",a),a}(),function(){function a(a,b){return b=b.shiftBlocks(d),a.partial("template-post-expandable",b,null)}function c(a,b){return b=b.shiftBlocks(d),a.write('<figure><div class="media-container expandable-post"><img class="tile-image" src="').reference(b._get(!1,["animations","image"]),b,"h").write('" alt="').reference(b._get(!1,["headline"]),b,"h").write('" /></div><figcaption class="tile-copy tile-copy-padded"><h3>').reference(b._get(!1,["headline"]),b,"h").write('</h3><p class="tile-paragraph">').reference(b._get(!1,["copy"]),b,"h").write("</p></figcaption></figure>")}b.register("template-post-animation-image",a);var d={templatePartial:c};return a}(),function(){function a(a,b){return b=b.shiftBlocks(d),a.partial("template-post-expandable",b,null)}function c(a,b){return b=b.shiftBlocks(d),a.write('<figure><div class="media-container expandable-post"><div class="animation-container"></div></div><figcaption class="tile-copy tile-copy-padded"><h3>').reference(b._get(!1,["headline"]),b,"h").write('</h3><p class="tile-paragraph">').reference(b._get(!1,["copy"]),b,"h").write("</p></figcaption></figure>")}b.register("template-post-animation-video",a);var d={templatePartial:c};return a}(),function(){function a(a,b){return b=b.shiftBlocks(d),a.partial("template-post",b,null)}function c(a,b){return b=b.shiftBlocks(d),a.write('<a role="button" class="icon icon-closealt" href="" aria-label="close"></a>')}b.register("template-post-expandable",a);var d={"close-btn":c};return a}(),function(){function a(a,b){return a.write('<footer class="post-footer"><div class="post-footer-content-container"><div class="post-footer-content">').exists(b._get(!1,["link","copy"]),b,{block:c},null).section(b._get(!1,["share"]),b,{block:d},null).write("</div></div></footer>")}function c(a,b){return a.write('<a class="post-footer-link" href="').reference(b._get(!1,["link","url"]),b,"h").write('" target="_blank">').reference(b._get(!1,["link","copy"]),b,"h").write("</a>")}function d(a,b){return a.exists(b._get(!1,["animatedShareSheet"]),b,{"else":e,block:f},null).write('<ul class="post-share-links">').section(b._get(!1,["shareIcons"]),b,{block:g},null).exists(b._get(!1,["animatedShareSheet"]),b,{block:h},null).write('</ul><div class="copy-link-container"><span class="copy-link-field"></span><a class="copy-link-close" href="#">').reference(b._get(!1,["strings","ui","close"]),b,"h").write(" &times;</a></div></aside>")}function e(a,b){return a.write('<aside class="post-share" role="menu">')}function f(a,b){return a.write('<aside class="post-share animated-share" role="menu"><a class="share-toggle" href="#"><span>').reference(b._get(!1,["strings","sharesheet","cta"]),b,"h").write('</span><span class="icon icon-share"></span></a>')}function g(a,b){return a.write('<li><a class="post-share-link icon icon-').reference(b._get(!0,["name"]),b,"h").write('" aria-label="').reference(b._get(!0,["label"]),b,"h").write('" title="').reference(b._get(!0,["label"]),b,"h").write('" href="#"></a></li>')}function h(a,b){return a.write('<li class="post-share-close-item"><a class="post-share-link icon close-sharesheet" href="#" aria-label="').reference(b._get(!1,["strings","ui","close"]),b,"h").write('" title="').reference(b._get(!1,["strings","ui","close"]),b,"h").write('">').reference(b._get(!1,["strings","ui","close"]),b,"h").write(" &times;</a></li>")}return b.register("template-post-footer",a),a}(),function(){function a(a,b){return a.write('<header data-analytics-section-engagement="name:chapter-').reference(b._get(!1,["chapter"]),b,"h").write('"><h2 class="post-header-headline">').reference(b._get(!1,["headline"]),b,"h").write("</h2></header>")}return b.register("template-post-header",a),a}(),function(){function a(a,b){return b=b.shiftBlocks(f),a.partial("template-post-expandable",b,null)}function c(a,b){return b=b.shiftBlocks(f),a.write('<figure><div class="media-container expandable-post">').exists(b._get(!1,["imageLink"]),b,{block:d},null).write('<img class="tile-image" src="').reference(b._get(!1,["initialImageSrc"]),b,"h").write('" alt="').reference(b._get(!1,["headline"]),b,"h").write('" />').exists(b._get(!1,["imageLink"]),b,{block:e},null).write('</div><figcaption class="tile-copy tile-copy-padded"><h3>').reference(b._get(!1,["headline"]),b,"h").write('</h3><p class="tile-paragraph">').reference(b._get(!1,["copy"]),b,"h").write("</p></figcaption></figure>")}function d(a,b){return b=b.shiftBlocks(f),a.write('<a href="').reference(b._get(!1,["share","links","directLink"]),b,"h").write("\" target='_blank'>")}function e(a,b){return b=b.shiftBlocks(f),a.write("</a>")}b.register("template-post-image",a);var f={templatePartial:c};return a}(),function(){function a(a,b){return b=b.shiftBlocks(e),a.partial("template-post",b,null)}function c(a,b){return b=b.shiftBlocks(e),a.write('<blockquote class="tile-blockquote tile-copy-padded"><p class="tile-copy">“').reference(b._get(!1,["copy"]),b,"h",["ok"]).write("”</p>").exists(b._get(!1,["source","name"]),b,{block:d},null).write("</blockquote>")}function d(a,b){return b=b.shiftBlocks(e),a.write('<cite class="tile-cite">– ').reference(b._get(!1,["source","name"]),b,"h").write("</cite>")}b.register("template-post-quote",a);var e={templatePartial:c};return a}(),function(){function a(a,b){return b=b.shiftBlocks(f),a.partial("template-post",b,null)}function c(a,b){return b=b.shiftBlocks(f),a.write('<div class="post-text-items-wrapper"><div class="post-text-items tile-copy-padded">').section(b._get(!1,["copy"]),b,{block:d},null).write("</div></div>")}function d(a,b){return b=b.shiftBlocks(f),a.write('<blockquote class="post-text-item"><time class="tile-timestamp" datetime="').reference(b._get(!1,["time"]),b,"h").write('">').helper("time",b,{},{timestamp:b._get(!1,["time"]),locale:b._get(!1,["strings","locale","lang"])}).write("</time>").section(b._get(!1,["source"]),b,{block:e},null).write("<h3>").reference(b._get(!0,[]),b,"h",["md","s"]).write("</h3></blockquote>")}function e(a,b){return b=b.shiftBlocks(f),a.write("<cite>").reference(b._get(!1,["name"]),b,"h").write("</cite>")}b.register("template-post-text",a);var f={templatePartial:c};return a}(),function(){function a(a,b){return b=b.shiftBlocks(f),a.partial("template-post",b,null)}function c(a,b){return b=b.shiftBlocks(f),a.write('<blockquote class="tile-blockquote">').section(b._get(!1,["source"]),b,{block:d},null).write('<p class="tile-copy tile-copy-padded">').reference(b._get(!1,["copy"]),b,"h",["tweet","s"]).write('</p><cite class="tile-cite tile-cite-below">').section(b._get(!1,["link"]),b,{block:e},null).write("</cite></blockquote>")}function d(a,b){return b=b.shiftBlocks(f),a.write('<cite class="tile-cite tile-cite-above"><a class="tile-source block" href="https://twitter.com/').reference(b._get(!1,["username"]),b,"h").write('" target="_blank" aria-label="twitter"><img class="tile-source-image" src="').reference(b._get(!1,["image"]),b,"h").write('" alt="" /><span class="tile-source-name">').reference(b._get(!1,["name"]),b,"h").write('</span><span class="tile-source-username block-link">').reference(b._get(!1,["username"]),b,"h",["at"]).write("</span></a></cite>")}function e(a,b){return b=b.shiftBlocks(f),a.write('<a href="').reference(b._get(!1,["link","url"]),b,"h").write('" class="icon icon-twitter" target="_blank" aria-label="twitter"></a>')}b.register("template-post-tweet",a);var f={templatePartial:c};return a}(),function(){function a(a,b){return b=b.shiftBlocks(d),a.partial("template-post-expandable",b,null)}function c(a,b){return b=b.shiftBlocks(d),a.write('<figure><div class="media-container expandable-post" id="video-').reference(b._get(!1,["uuid"]),b,"h").write('" data-analytics-id="video-').reference(b._get(!1,["uuid"]),b,"h").write('"><img class="tile-image" src="').reference(b._get(!1,["initialImageSrc"]),b,"h").write('" alt="').reference(b._get(!1,["headline"]),b,"h").write('" /><span class="icon-play icon" aria-label="Play"></span></div><figcaption class="tile-copy tile-copy-padded"><h3>').reference(b._get(!1,["headline"]),b,"h").write('</h3><p class="tile-paragraph">').reference(b._get(!1,["copy"]),b,"h").write("</p></figcaption></figure>")}b.register("template-post-video",a);var d={templatePartial:c};return a}(),function(){function a(a,b){return b=b.shiftBlocks(f),a.partial("template-post",b,null)}function c(a,b){return b=b.shiftBlocks(f),a.write('<blockquote class="tile-blockquote">').section(b._get(!1,["source"]),b,{block:d},null).write('<p class="tile-copy tile-copy-padded">').reference(b._get(!1,["copy"]),b,"h",["ok","weibo","s"]).write('</p><cite class="tile-cite tile-cite-below">').section(b._get(!1,["link"]),b,{block:e},null).write("</cite></blockquote>")}function d(a,b){return b=b.shiftBlocks(f),a.write('<cite class="tile-cite tile-cite-above"><a class="tile-source block" href="http://www.weibo.com/n/').reference(b._get(!1,["name"]),b,"h").write('" target="_blank"><img class="tile-source-image" src="').reference(b._get(!1,["image"]),b,"h").write('" alt="" /><span class="tile-source-name">').reference(b._get(!1,["name"]),b,"h").write('</span><span class="tile-source-username block-link">').reference(b._get(!1,["username"]),b,"h",["at"]).write("</span></a></cite>")}function e(a,b){return b=b.shiftBlocks(f),a.write('<a class="icon icon-weibo" href="').reference(b._get(!1,["link","url"]),b,"h").write('" target="_blank" aria-label="weibo.com"></a>')}b.register("template-post-weibo",a);var f={templatePartial:c};return a}(),function(){function a(a,b){return a.write('<div class="post-content">').block(b.getBlock("templatePartial"),b,{},null).partial("template-post-footer",b,null).block(b.getBlock("close-btn"),b,{},null).write("</div>")}return b.register("template-post",a),a}(),function(){function a(a,b){return a}return b.register("template-posts",a),a}(),function(){function a(a,b){return a.exists(b._get(!1,["vod"]),b,{block:c},null).write('<ul class="sharesheet-links" role="group" aria-label="share video menu">').section(b._get(!1,["shareIcons"]),b,{block:d},null).write('</ul><div class="link-copy-share"><span class="icon icon-link"></span><span class="link-copy-text"></span></div>')}function c(a,b){return a.write('<a class="share-tab share-tab-video" data-share="video" href="">').reference(b._get(!1,["strings","ui","share_video"]),b,"h").write('</a><a class="share-tab share-tab-moment" data-share="moment" href="">').reference(b._get(!1,["strings","ui","share_moment"]),b,"h").write(' <span class="videoshare-timecode"></span></a>')}function d(a,b){return a.write('<li><a class="icon icon-').reference(b._get(!0,["name"]),b,"h").write('" data-network="').reference(b._get(!0,["name"]),b,"h").write('" href="#" aria-label="').reference(b._get(!0,["label"]),b,"h").write('" title="').reference(b._get(!0,["label"]),b,"h").write('"></a></li>')}return b.register("template-video-sharesheet",a),a}(),b}()},{"dust-functions":"FU/0Xb"}],5:[function(a,b,c){"use strict";var d=a("./Request"),e=a("./XDomain-request"),f=a("./URLParser"),g=function(){};g._Request=d,g.prototype={_defaults:{method:"get",timeout:5e3},_extend:function(){for(var a=1;a<arguments.length;a++)for(var b in arguments[a])arguments[a].hasOwnProperty(b)&&(arguments[0][b]=arguments[a][b]);return arguments[0]},_getOptions:function(a,b){return this._extend({},this._defaults,b,a)},create:function(a){return new d(a)},cors:function(a){var b=window.XDomainRequest&&document.documentMode<10?e:d;return new b(a)},_isCrossDomainRequest:function(a){var b=new f,c=b.parse(window.location.href).origin,d=b.parse(a).origin;return b.destroy(),d!==c},get:function(a){var b;return a=this._getOptions({method:"get"},a),b=this._isCrossDomainRequest(a.url)?this.cors(a):this.create(a),b.send()},getJSON:function(a){return this.get(a).then(function(a){return JSON.parse(a.responseText)})},head:function(a){return a=this._getOptions({method:"head"},a),this.create(a).send()},post:function(a){return a=this._getOptions({method:"post"},a),this.create(a).send()}},b.exports=g},{"./Request":6,"./URLParser":7,"./XDomain-request":8}],6:[function(a,b,c){"use strict";var d=function(a){this._initialize(a)};d.create=function(){var a=function(){};return a.prototype=d.prototype,new a},d.prototype={_addReadyStateChangeHandler:function(){this.xhr.onreadystatechange=function(a){4===this.xhr.readyState&&(clearTimeout(this._timeout),this.xhr.status>=200&&this.xhr.status<300?this.resolve(this.xhr):this.reject(this.xhr))}.bind(this)},_getPromise:function(){this.promise=new Promise(function(a,b){this.resolve=a,this.reject=b}.bind(this))},_getTransport:function(){return new XMLHttpRequest},_initialize:function(a){var b=this._validateConfiguration(a);if(b)throw b;this._configuration=a;var c=this._configuration.method.toUpperCase();this.xhr=this._getTransport(),this._getPromise(),this.xhr.open(c,this._configuration.url),this._setRequestHeaders(a.headers),this._addReadyStateChangeHandler()},_sendXHR:function(){this.xhr&&(this._configuration&&this._configuration.data?this.xhr.send(this._configuration.data):this.xhr.send())},_setRequestHeaders:function(a){a&&a.forEach(function(a){this.xhr.setRequestHeader(a.name,a.value)},this)},_setTimeout:function(a){a||(this._configuration&&this._configuration.timeout?a=this._configuration.timeout:(clearTimeout(this._timeout),this._timeout=null)),null!==this._timeout&&clearTimeout(this._timeout),a>0&&(this._timeout=setTimeout(function(){this.xhr.abort(),this.reject()}.bind(this),a))},_timeout:null,_validateConfiguration:function(a){if(!a)return"Must provide a configuration object";var b=[],c=a.headers;if(a.url||b.push("Must provide a url"),a.method||b.push("Must provide a method"),c){if(!Array.isArray(c))return"Must provide an array of headers";this._validateHeaders(c,b)}return b.join(", ")},_validateHeaders:function(a,b){for(var c=0,d=a.length;d>c;c++)if(!a[c].hasOwnProperty("name")||!a[c].hasOwnProperty("value")){b.push("Must provide a name and value key for all headers");break}},promise:null,reject:null,resolve:null,send:function(){return this._setTimeout(),this._sendXHR(),this.promise},xhr:null},b.exports=d},{}],7:[function(a,b,c){"use strict";var d=function(){this.parser=null},e=d.prototype;e.parse=function(a){var b,c,d,e,f;if("string"!=typeof a)throw new TypeError(a+" must be a string");return this.parser||(this.parser=document.createElement("a")),this._qualifyPath(a),d=this.parser.hostname,c=this.parser.protocol,e=this._normalizePort(this.parser),b=this.parser.origin||this._constructOriginString(this.parser,e),f=this.parser.search,{originalPath:a,qualifiedPath:this.parser.href,protocol:c,hostname:d,origin:b,port:e,search:f}},e.destroy=function(){this.parser=null},e._constructOriginString=function(a,b){var c=b?":"+b:"";return a.protocol+"//"+a.hostname+c},e._normalizePort=function(a){return"80"===a.port||"443"===a.port||"0"===a.port?"":a.port},e._qualifyPath=function(a){this.parser.href=a,this.parser.href=this.parser.href},b.exports=d},{}],8:[function(a,b,c){"use strict";var d=a("./Request"),e=function(a){d.apply(this,arguments)};e.prototype=d.create(),e.prototype._getTransport=function(){return new XDomainRequest},e.prototype._addReadyStateChangeHandler=function(){this.xhr.ontimeout=function(){this.reject(this.xhr)}.bind(this),this.xhr.onerror=function(){this.reject(this.xhr)}.bind(this),this.xhr.onload=function(){this.resolve(this.xhr)}.bind(this)},e.prototype._setTimeout=function(a){a||this._configuration&&this._configuration.timeout&&(a=this._configuration.timeout),a>0&&(this.xhr.timeout=a)},e.prototype._sendXHR=function(){setTimeout(function(){d.prototype._sendXHR.call(this)}.bind(this),0)},b.exports=e},{"./Request":6}],9:[function(a,b,c){"use strict";var d=a("./ac-ajax/Ajax"),e=a("./ac-ajax/Request");b.exports=new d,b.exports.Ajax=d,b.exports.Request=e},{"./ac-ajax/Ajax":5,"./ac-ajax/Request":6}],10:[function(a,b,c){"use strict";b.exports={flatten:a("./ac-array/flatten"),intersection:a("./ac-array/intersection"),toArray:a("./ac-array/toArray"),union:a("./ac-array/union"),unique:a("./ac-array/unique"),without:a("./ac-array/without")}},{"./ac-array/flatten":11,"./ac-array/intersection":12,"./ac-array/toArray":13,"./ac-array/union":14,"./ac-array/unique":15,"./ac-array/without":16}],11:[function(a,b,c){"use strict";b.exports=function(a){var b=[],c=function(a){Array.isArray(a)?a.forEach(c):b.push(a)};return a.forEach(c),b}},{}],12:[function(a,b,c){"use strict";b.exports=function(a){if(!a)return[];var b,c=arguments.length,d=0,e=a.length,f=[];for(d;e>d;d++)if(b=a[d],!(f.indexOf(b)>-1)){for(var g=1;c>g&&!(arguments[g].indexOf(b)<0);g++);g===c&&f.push(b)}return f}},{}],13:[function(a,b,c){"use strict";b.exports=function(a){return Array.prototype.slice.call(a)}},{}],14:[function(a,b,c){"use strict";var d=a("./flatten"),e=a("./unique");b.exports=function(a){return e(d(Array.prototype.slice.call(arguments)))}},{"./flatten":11,"./unique":15}],15:[function(a,b,c){"use strict";b.exports=function(a){var b=function(a,b){return a.indexOf(b)<0&&a.push(b),a};return a.reduce(b,[])}},{}],16:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d,e=a.indexOf(b),f=a.length;if(!(e>=0))return a;if(c){d=a.slice(0,f);var g,h=0;for(g=e;f>g;g++)a[g]===b&&(d.splice(g-h,1),h++)}else e===f-1?d=a.slice(0,f-1):0===e?d=a.slice(1):(d=a.slice(0,e),d=d.concat(a.slice(e+1)));return d}},{}],17:[function(a,b,c){"use strict";var d=a("./ac-browser/BrowserData"),e=/applewebkit/i,f=a("./ac-browser/IE"),g=d.create();g.isWebKit=function(a){var b=a||window.navigator.userAgent;return b?!!e.test(b):!1},g.lowerCaseUserAgent=navigator.userAgent.toLowerCase(),"IE"===g.name&&(g.IE={documentMode:f.getDocumentMode()}),b.exports=g},{"./ac-browser/BrowserData":18,"./ac-browser/IE":19}],18:[function(a,b,c){
"use strict";function d(){}var e=a("./data");d.prototype={__getBrowserVersion:function(a,b){var c;if(a&&b){var d=e.browser.filter(function(a){return a.identity===b});return d.some(function(d){var e=d.versionSearch||b,f=a.indexOf(e);return f>-1?(c=parseFloat(a.substring(f+e.length+1)),!0):void 0}),c}},__getName:function(a){return this.__getIdentityStringFromArray(a)},__getIdentity:function(a){return a.string?this.__matchSubString(a):a.prop?a.identity:void 0},__getIdentityStringFromArray:function(a){for(var b,c=0,d=a.length;d>c;c++)if(b=this.__getIdentity(a[c]))return b},__getOS:function(a){return this.__getIdentityStringFromArray(a)},__getOSVersion:function(a,b){if(a&&b){var c=e.os.filter(function(a){return a.identity===b})[0],d=c.versionSearch||b,f=new RegExp(d+" ([\\d_\\.]+)","i"),g=a.match(f);return null!==g?g[1].replace(/_/g,"."):void 0}},__matchSubString:function(a){var b=a.subString;if(b){var c=b.test?!!b.test(a.string):a.string.indexOf(b)>-1;if(c)return a.identity}}},d.create=function(){var a=new d,b={};return b.name=a.__getName(e.browser),b.version=a.__getBrowserVersion(e.versionString,b.name),b.os=a.__getOS(e.os),b.osVersion=a.__getOSVersion(e.versionString,b.os),b},b.exports=d},{"./data":20}],19:[function(a,b,c){"use strict";b.exports={getDocumentMode:function(){var a;return document.documentMode?a=parseInt(document.documentMode,10):(a=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(a=7)),a}}},{}],20:[function(a,b,c){"use strict";b.exports={browser:[{string:window.navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:window.navigator.userAgent,subString:/silk/i,identity:"Silk"},{string:window.navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:window.navigator.userAgent,subString:/mobile\/[^\s]*\ssafari\//i,identity:"Safari Mobile",versionSearch:"Version"},{string:window.navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:window.navigator.vendor,subString:"iCab",identity:"iCab"},{string:window.navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:window.navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:window.navigator.vendor,subString:"Camino",identity:"Camino"},{string:window.navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:window.navigator.userAgent,subString:"MSIE",identity:"IE",versionSearch:"MSIE"},{string:window.navigator.userAgent,subString:"Trident",identity:"IE",versionSearch:"rv"},{string:window.navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:window.navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],os:[{string:window.navigator.platform,subString:"Win",identity:"Windows",versionSearch:"Windows NT"},{string:window.navigator.platform,subString:"Mac",identity:"OS X"},{string:window.navigator.userAgent,subString:"iPhone",identity:"iOS",versionSearch:"iPhone OS"},{string:window.navigator.userAgent,subString:"iPad",identity:"iOS",versionSearch:"CPU OS"},{string:window.navigator.userAgent,subString:/android/i,identity:"Android"},{string:window.navigator.platform,subString:"Linux",identity:"Linux"}],versionString:window.navigator.userAgent||window.navigator.appVersion||void 0}},{}],21:[function(a,b,c){"use strict";b.exports={add:a("./ac-classlist/add"),contains:a("./ac-classlist/contains"),remove:a("./ac-classlist/remove"),toggle:a("./ac-classlist/toggle")}},{"./ac-classlist/add":22,"./ac-classlist/contains":23,"./ac-classlist/remove":25,"./ac-classlist/toggle":26}],22:[function(a,b,c){"use strict";var d=a("./helpers/className");b.exports=function(){var a=Array.prototype.slice.call(arguments),b=a.shift(a);b.classList&&b.classList.add?b.classList.add.apply(b.classList,a):a.forEach(d.add.bind(this,b))}},{"./helpers/className":24}],23:[function(a,b,c){"use strict";var d=a("./helpers/className");b.exports=function(a,b){return a.classList&&a.classList.contains?a.classList.contains(b):d.contains(a,b)}},{"./helpers/className":24}],24:[function(a,b,c){"use strict";var d=function(a){return new RegExp("(\\s|^)"+a+"(\\s|$)")},e=function(a,b){return d(b).test(a.className)},f=function(a,b){e(a,b)||(a.className+=" "+b)},g=function(a,b){e(a,b)&&(a.className=a.className.replace(d(b),"$1").trim())};b.exports={contains:e,add:f,remove:g}},{}],25:[function(a,b,c){"use strict";var d=a("./helpers/className");b.exports=function(){var a=Array.prototype.slice.call(arguments),b=a.shift(a);b.classList&&b.classList.remove?b.classList.remove.apply(b.classList,a):a.forEach(d.remove.bind(this,b))}},{"./helpers/className":24}],26:[function(a,b,c){"use strict";var d=a("./helpers/className");b.exports=function(a,b,c){var e,f="undefined"!=typeof c;return a.classList&&a.classList.toggle?f?a.classList.toggle(b,c):a.classList.toggle(b):(e=f?!!c:!d.contains(a,b),e?d.add(a,b):d.remove(a,b),e)}},{"./helpers/className":24}],27:[function(a,b,c){"use strict";b.exports={log:a("./ac-console/log")}},{"./ac-console/log":28}],28:[function(a,b,c){"use strict";var d="f7c9180f-5c45-47b4-8de4-428015f096c0",e=!!function(){try{return window.localStorage.getItem(d)}catch(a){}}();b.exports=function(){window.console&&"undefined"!=typeof console.log&&e}},{}],29:[function(a,b,c){"use strict";var d={querySelector:a("./ac-dom-traversal/querySelector"),querySelectorAll:a("./ac-dom-traversal/querySelectorAll"),ancestor:a("./ac-dom-traversal/ancestor"),ancestors:a("./ac-dom-traversal/ancestors"),children:a("./ac-dom-traversal/children"),firstChild:a("./ac-dom-traversal/firstChild"),lastChild:a("./ac-dom-traversal/lastChild"),siblings:a("./ac-dom-traversal/siblings"),nextSibling:a("./ac-dom-traversal/nextSibling"),nextSiblings:a("./ac-dom-traversal/nextSiblings"),previousSibling:a("./ac-dom-traversal/previousSibling"),previousSiblings:a("./ac-dom-traversal/previousSiblings"),filterBySelector:a("./ac-dom-traversal/filterBySelector"),matchesSelector:a("./ac-dom-traversal/matchesSelector")};a("./ac-dom-traversal/shims/ie")(d),b.exports=d},{"./ac-dom-traversal/ancestor":30,"./ac-dom-traversal/ancestors":31,"./ac-dom-traversal/children":32,"./ac-dom-traversal/filterBySelector":33,"./ac-dom-traversal/firstChild":34,"./ac-dom-traversal/lastChild":37,"./ac-dom-traversal/matchesSelector":38,"./ac-dom-traversal/nextSibling":39,"./ac-dom-traversal/nextSiblings":40,"./ac-dom-traversal/previousSibling":41,"./ac-dom-traversal/previousSiblings":42,"./ac-dom-traversal/querySelector":43,"./ac-dom-traversal/querySelectorAll":44,"./ac-dom-traversal/shims/ie":45,"./ac-dom-traversal/siblings":46}],30:[function(a,b,c){"use strict";var d=a("ac-dom-nodes"),e=a("./matchesSelector"),f=a("./helpers/validate");b.exports=function(a,b){if(f.childNode(a,!0,"ancestors"),f.selector(b,!1,"ancestors"),a!==document.body)for(;(a=a.parentNode)&&d.isElement(a);){if(!b||e(a,b))return a;if(a===document.body)break}return null}},{"./helpers/validate":36,"./matchesSelector":38,"ac-dom-nodes":62}],31:[function(a,b,c){"use strict";var d=a("ac-dom-nodes"),e=a("./matchesSelector"),f=a("./helpers/validate");b.exports=function(a,b){var c=[];if(f.childNode(a,!0,"ancestors"),f.selector(b,!1,"ancestors"),a!==document.body)for(;(a=a.parentNode)&&d.isElement(a)&&((!b||e(a,b))&&c.push(a),a!==document.body););return c}},{"./helpers/validate":36,"./matchesSelector":38,"ac-dom-nodes":62}],32:[function(a,b,c){"use strict";var d=a("ac-dom-nodes"),e=a("./filterBySelector"),f=a("./helpers/validate");b.exports=function(a,b){var c;return f.parentNode(a,!0,"children"),f.selector(b,!1,"children"),c=a.children||a.childNodes,c=d.filterByNodeType(c),b&&(c=e(c,b)),c}},{"./filterBySelector":33,"./helpers/validate":36,"ac-dom-nodes":62}],33:[function(a,b,c){"use strict";var d=a("./matchesSelector"),e=a("./helpers/validate");b.exports=function(a,b){return e.selector(b,!0,"filterBySelector"),a=Array.prototype.slice.call(a),a.filter(function(a){return d(a,b)})}},{"./helpers/validate":36,"./matchesSelector":38}],34:[function(a,b,c){"use strict";var d=a("./children"),e=a("./helpers/validate");b.exports=function(a,b){var c;return e.parentNode(a,!0,"firstChild"),e.selector(b,!1,"firstChild"),a.firstElementChild&&!b?a.firstElementChild:(c=d(a,b),c.length?c[0]:null)}},{"./children":32,"./helpers/validate":36}],35:[function(a,b,c){"use strict";b.exports=window.Element?function(a){return a.matches||a.matchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector}(Element.prototype):null},{}],36:[function(a,b,c){"use strict";var d=a("ac-dom-nodes"),e=function(a,b){return d.isNode(a)?"number"==typeof b?a.nodeType===b:-1!==b.indexOf(a.nodeType):!1},f=[d.ELEMENT_NODE,d.DOCUMENT_NODE,d.DOCUMENT_FRAGMENT_NODE],g=" must be an Element, Document, or Document Fragment",h=[d.ELEMENT_NODE,d.TEXT_NODE,d.COMMENT_NODE],i=" must be an Element, TextNode, or Comment",j=" must be a string";b.exports={parentNode:function(a,b,c,d){if(d=d||"node",(a||b)&&!e(a,f))throw new TypeError(c+": "+d+g)},childNode:function(a,b,c,d){if(d=d||"node",(a||b)&&!e(a,h))throw new TypeError(c+": "+d+i)},selector:function(a,b,c,d){if(d=d||"selector",(a||b)&&"string"!=typeof a)throw new TypeError(c+": "+d+j)}}},{"ac-dom-nodes":62}],37:[function(a,b,c){"use strict";var d=a("./children"),e=a("./helpers/validate");b.exports=function(a,b){var c;return e.parentNode(a,!0,"lastChild"),e.selector(b,!1,"lastChild"),a.lastElementChild&&!b?a.lastElementChild:(c=d(a,b),c.length?c[c.length-1]:null)}},{"./children":32,"./helpers/validate":36}],38:[function(a,b,c){"use strict";var d=a("ac-dom-nodes"),e=a("./helpers/nativeMatches"),f=a("./helpers/validate");b.exports=function(a,b){return f.selector(b,!0,"matchesSelector"),d.isElement(a)?e.call(a,b):!1}},{"./helpers/nativeMatches":35,"./helpers/validate":36,"ac-dom-nodes":62}],39:[function(a,b,c){"use strict";var d=a("ac-dom-nodes"),e=a("./matchesSelector"),f=a("./helpers/validate");b.exports=function(a,b){if(f.childNode(a,!0,"nextSibling"),f.selector(b,!1,"nextSibling"),a.nextElementSibling&&!b)return a.nextElementSibling;for(;a=a.nextSibling;)if(d.isElement(a)&&(!b||e(a,b)))return a;return null}},{"./helpers/validate":36,"./matchesSelector":38,"ac-dom-nodes":62}],40:[function(a,b,c){"use strict";var d=a("ac-dom-nodes"),e=a("./matchesSelector"),f=a("./helpers/validate");b.exports=function(a,b){var c=[];for(f.childNode(a,!0,"nextSiblings"),f.selector(b,!1,"nextSiblings");a=a.nextSibling;)d.isElement(a)&&(!b||e(a,b))&&c.push(a);return c}},{"./helpers/validate":36,"./matchesSelector":38,"ac-dom-nodes":62}],41:[function(a,b,c){"use strict";var d=a("ac-dom-nodes"),e=a("./matchesSelector"),f=a("./helpers/validate");b.exports=function(a,b){if(f.childNode(a,!0,"previousSibling"),f.selector(b,!1,"previousSibling"),a.previousElementSibling&&!b)return a.previousElementSibling;for(;a=a.previousSibling;)if(d.isElement(a)&&(!b||e(a,b)))return a;return null}},{"./helpers/validate":36,"./matchesSelector":38,"ac-dom-nodes":62}],42:[function(a,b,c){"use strict";var d=a("ac-dom-nodes"),e=a("./matchesSelector"),f=a("./helpers/validate");b.exports=function(a,b){var c=[];for(f.childNode(a,!0,"previousSiblings"),f.selector(b,!1,"previousSiblings");a=a.previousSibling;)d.isElement(a)&&(!b||e(a,b))&&c.push(a);return c.reverse()}},{"./helpers/validate":36,"./matchesSelector":38,"ac-dom-nodes":62}],43:[function(a,b,c){"use strict";var d=a("./helpers/validate");b.exports=function(a,b){return b=b||document,d.parentNode(b,!0,"querySelector","context"),d.selector(a,!0,"querySelector"),b.querySelector(a)}},{"./helpers/validate":36}],44:[function(a,b,c){"use strict";var d=a("./helpers/validate");b.exports=function(a,b){return b=b||document,d.parentNode(b,!0,"querySelectorAll","context"),d.selector(a,!0,"querySelectorAll"),Array.prototype.slice.call(b.querySelectorAll(a))}},{"./helpers/validate":36}],45:[function(a,b,c){"use strict";var d=a("../vendor/sizzle/sizzle"),e=a("ac-dom-nodes"),f=a("../helpers/nativeMatches"),g=a("../helpers/validate");b.exports=function(a,b){!b&&"querySelectorAll"in document||(a.querySelectorAll=function(b,c){var f,h;return c=c||document,g.parentNode(c,!0,"querySelectorAll","context"),g.selector(b,!0,"querySelectorAll"),e.isDocumentFragment(c)?(f=a.children(c),h=[],f.forEach(function(a){var c;d.matchesSelector(a,b)&&h.push(a),c=d(b,a),c.length&&(h=h.concat(c))}),h):d(b,c)},a.querySelector=function(b,c){var d;return c=c||document,g.parentNode(c,!0,"querySelector","context"),g.selector(b,!0,"querySelector"),d=a.querySelectorAll(b,c),d.length?d[0]:null}),(b||!f)&&(a.matchesSelector=function(a,b){return d.matchesSelector(a,b)})}},{"../helpers/nativeMatches":35,"../helpers/validate":36,"../vendor/sizzle/sizzle":47,"ac-dom-nodes":62}],46:[function(a,b,c){"use strict";var d=a("./children"),e=a("./helpers/validate");b.exports=function(a,b){var c=[];return e.childNode(a,!0,"siblings"),e.selector(b,!1,"siblings"),a.parentNode&&(c=d(a.parentNode,b),c=c.filter(function(b){return b!==a})),c}},{"./children":32,"./helpers/validate":36}],47:[function(a,b,c){/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2012, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
!function(a,c){function d(a,b,c,d){for(var e=0,f=b.length;f>e;e++)fa(a,b[e],c,d)}function e(a,b,c,e,f,g){var h,i=ga.setFilters[b.toLowerCase()];return i||fa.error(b),(a||!(h=f))&&d(a||"*",e,h=[],f),h.length>0?i(h,c,g):[]}function f(a,b,f,g,h){for(var i,j,k,l,m,n,o,p,q=0,r=h.length,s=T.POS,t=new RegExp("^"+s.source+"(?!"+z+")","i"),u=function(){for(var a=1,b=arguments.length-2;b>a;a++)arguments[a]===c&&(i[a]=c)};r>q;q++){for(s.exec(""),a=h[q],l=[],k=0,m=g;i=s.exec(a);)p=s.lastIndex=i.index+i[0].length,p>k&&(o=a.slice(k,i.index),k=p,n=[b],J.test(o)&&(m&&(n=m),m=g),(j=P.test(o))&&(o=o.slice(0,-5).replace(J,"$&*")),i.length>1&&i[0].replace(t,u),m=e(o,i[1],i[2],n,m,j));m?(l=l.concat(m),(o=a.slice(k))&&")"!==o?d(o,l,f,g):x.apply(f,l)):fa(a,b,f,g)}return 1===r?f:fa.uniqueSort(f)}function g(a,b,c){for(var d,e,f,g=[],h=0,i=L.exec(a),j=!i.pop()&&!i.pop(),k=j&&a.match(K)||[""],l=ga.preFilter,m=ga.filter,n=!c&&b!==q;null!=(e=k[h])&&j;h++)for(g.push(d=[]),n&&(e=" "+e);e;){j=!1,(i=J.exec(e))&&(e=e.slice(i[0].length),j=d.push({part:i.pop().replace(I," "),captures:i}));for(f in m)!(i=T[f].exec(e))||l[f]&&!(i=l[f](i,b,c))||(e=e.slice(i.shift().length),j=d.push({part:f,captures:i}));if(!j)break}return j||fa.error(a),g}function h(a,b,c){var d=b.dir,e=v++;return a||(a=function(a){return a===c}),b.first?function(b,c){for(;b=b[d];)if(1===b.nodeType)return a(b,c)&&b}:function(b,c){for(var f,g=e+"."+m,h=g+"."+l;b=b[d];)if(1===b.nodeType){if((f=b[y])===h)return!1;if("string"==typeof f&&0===f.indexOf(g)){if(b.sizset)return b}else{if(b[y]=h,a(b,c))return b.sizset=!0,b;b.sizset=!1}}}}function i(a,b){return a?function(c,d){var e=b(c,d);return e&&a(e===!0?c:e,d)}:b}function j(a,b,c){for(var d,e,f=0;d=a[f];f++)ga.relative[d.part]?e=h(e,ga.relative[d.part],b):(d.captures.push(b,c),e=i(e,ga.filter[d.part].apply(null,d.captures)));return e}function k(a){return function(b,c){for(var d,e=0;d=a[e];e++)if(d(b,c))return!0;return!1}}var l,m,n,o,p,q=a.document,r=q.documentElement,s="undefined",t=!1,u=!0,v=0,w=[].slice,x=[].push,y=("sizcache"+Math.random()).replace(".",""),z="[\\x20\\t\\r\\n\\f]",A="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])",B="(?:[\\w#_-]|[^\\x00-\\xa0]|\\\\.)",C="([*^$|!~]?=)",D="\\["+z+"*("+A+"+)"+z+"*(?:"+C+z+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+B+"+)|)|)"+z+"*\\]",E=":("+A+"+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|(.*))\\)|)",F=":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?=[^-]|$)",G=z+"*([\\x20\\t\\r\\n\\f>+~])"+z+"*",H="(?=[^\\x20\\t\\r\\n\\f])(?:\\\\.|"+D+"|"+E.replace(2,7)+"|[^\\\\(),])+",I=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),J=new RegExp("^"+G),K=new RegExp(H+"?(?="+z+"*,|$)","g"),L=new RegExp("^(?:(?!,)(?:(?:^|,)"+z+"*"+H+")*?|"+z+"*(.*?))(\\)|$)"),M=new RegExp(H.slice(19,-6)+"\\x20\\t\\r\\n\\f>+~])+|"+G,"g"),N=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,O=/[\x20\t\r\n\f]*[+~]/,P=/:not\($/,Q=/h\d/i,R=/input|select|textarea|button/i,S=/\\(?!\\)/g,T={ID:new RegExp("^#("+A+"+)"),CLASS:new RegExp("^\\.("+A+"+)"),NAME:new RegExp("^\\[name=['\"]?("+A+"+)['\"]?\\]"),TAG:new RegExp("^("+A.replace("[-","[-\\*")+"+)"),ATTR:new RegExp("^"+D),PSEUDO:new RegExp("^"+E),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),POS:new RegExp(F,"ig"),needsContext:new RegExp("^"+z+"*[>+~]|"+F,"i")},U={},V=[],W={},X=[],Y=function(a){return a.sizzleFilter=!0,a},Z=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}},$=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}},_=function(a){var b=!1,c=q.createElement("div");try{b=a(c)}catch(d){}return c=null,b},aa=_(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),ba=_(function(a){a.id=y+0,a.innerHTML="<a name='"+y+"'></a><div name='"+y+"'></div>",r.insertBefore(a,r.firstChild);var b=q.getElementsByName&&q.getElementsByName(y).length===2+q.getElementsByName(y+0).length;return p=!q.getElementById(y),r.removeChild(a),b}),ca=_(function(a){return a.appendChild(q.createComment("")),0===a.getElementsByTagName("*").length}),da=_(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==s&&"#"===a.firstChild.getAttribute("href")}),ea=_(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&0!==a.getElementsByClassName("e").length?(a.lastChild.className="e",1!==a.getElementsByClassName("e").length):!1}),fa=function(a,b,c,d){c=c||[],b=b||q;var e,f,g,h,i=b.nodeType;if(1!==i&&9!==i)return[];if(!a||"string"!=typeof a)return c;if(g=ia(b),!g&&!d&&(e=N.exec(a)))if(h=e[1]){if(9===i){if(f=b.getElementById(h),!f||!f.parentNode)return c;if(f.id===h)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&ja(b,f)&&f.id===h)return c.push(f),c}else{if(e[2])return x.apply(c,w.call(b.getElementsByTagName(a),0)),c;if((h=e[3])&&ea&&b.getElementsByClassName)return x.apply(c,w.call(b.getElementsByClassName(h),0)),c}return ma(a,b,c,d,g)},ga=fa.selectors={cacheLength:50,match:T,order:["ID","TAG"],attrHandle:{},createPseudo:Y,find:{ID:p?function(a,b,c){if(typeof b.getElementById!==s&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,b,d){if(typeof b.getElementById!==s&&!d){var e=b.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==s&&e.getAttributeNode("id").value===a?[e]:c:[]}},TAG:ca?function(a,b){return typeof b.getElementsByTagName!==s?b.getElementsByTagName(a):void 0}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],f=0;d=c[f];f++)1===d.nodeType&&e.push(d);return e}return c}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(S,""),a[3]=(a[4]||a[5]||"").replace(S,""),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1]?(a[2]||fa.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=a[4];return T.CHILD.test(a[0])?null:(c&&(b=L.exec(c))&&b.pop()&&(a[0]=a[0].slice(0,b[0].length-c.length-1),c=b[0].slice(0,-1)),a.splice(2,3,c||a[3]),a)}},filter:{ID:p?function(a){return a=a.replace(S,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(S,""),function(b){var c=typeof b.getAttributeNode!==s&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(S,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=U[a];return b||(b=U[a]=new RegExp("(^|"+z+")"+a+"("+z+"|$)"),V.push(a),V.length>ga.cacheLength&&delete U[V.shift()]),function(a){return b.test(a.className||typeof a.getAttribute!==s&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return b?function(d){var e=fa.attr(d,a),f=e+"";if(null==e)return"!="===b;switch(b){case"=":return f===c;case"!=":return f!==c;case"^=":return c&&0===f.indexOf(c);case"*=":return c&&f.indexOf(c)>-1;case"$=":return c&&f.substr(f.length-c.length)===c;case"~=":return(" "+f+" ").indexOf(c)>-1;case"|=":return f===c||f.substr(0,c.length+1)===c+"-"}}:function(b){return null!=fa.attr(b,a)}},CHILD:function(a,b,c,d){if("nth"===a){var e=v++;return function(a){var b,f,g=0,h=a;if(1===c&&0===d)return!0;if(b=a.parentNode,b&&(b[y]!==e||!a.sizset)){for(h=b.firstChild;h&&(1!==h.nodeType||(h.sizset=++g,h!==a));h=h.nextSibling);b[y]=e}return f=a.sizset-d,0===c?0===f:f%c===0&&f/c>=0}}return function(b){var c=b;switch(a){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b,c,d){var e=ga.pseudos[a]||ga.pseudos[a.toLowerCase()];return e||fa.error("unsupported pseudo: "+a),e.sizzleFilter?e(b,c,d):e}},pseudos:{not:Y(function(a,b,c){var d=la(a.replace(I,"$1"),b,c);return function(a){return!d(a)}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},contains:Y(function(a){return function(b){return(b.textContent||b.innerText||ka(b)).indexOf(a)>-1}}),has:Y(function(a){return function(b){return fa(a,b).length>0}}),header:function(a){return Q.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:Z("radio"),checkbox:Z("checkbox"),file:Z("file"),password:Z("password"),image:Z("image"),submit:$("submit"),reset:$("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return R.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return!(a!==b.activeElement||b.hasFocus&&!b.hasFocus()||!a.type&&!a.href)},active:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b,c){return c?a.slice(1):[a[0]]},last:function(a,b,c){var d=a.pop();return c?a:[d]},even:function(a,b,c){for(var d=[],e=c?1:0,f=a.length;f>e;e+=2)d.push(a[e]);return d},odd:function(a,b,c){for(var d=[],e=c?0:1,f=a.length;f>e;e+=2)d.push(a[e]);return d},lt:function(a,b,c){return c?a.slice(+b):a.slice(0,+b)},gt:function(a,b,c){return c?a.slice(0,+b+1):a.slice(+b+1)},eq:function(a,b,c){var d=a.splice(+b,1);return c?a:d}}};ga.setFilters.nth=ga.setFilters.eq,ga.filters=ga.pseudos,da||(ga.attrHandle={href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}}),ba&&(ga.order.push("NAME"),ga.find.NAME=function(a,b){return typeof b.getElementsByName!==s?b.getElementsByName(a):void 0}),ea&&(ga.order.splice(1,0,"CLASS"),ga.find.CLASS=function(a,b,c){return typeof b.getElementsByClassName===s||c?void 0:b.getElementsByClassName(a)});try{w.call(r.childNodes,0)[0].nodeType}catch(ha){w=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}var ia=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},ja=fa.contains=r.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:r.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b.parentNode;return a===d||!!(d&&1===d.nodeType&&c.contains&&c.contains(d))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},ka=fa.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=ka(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=ka(b);return c};fa.attr=function(a,b){var c,d=ia(a);return d||(b=b.toLowerCase()),ga.attrHandle[b]?ga.attrHandle[b](a):aa||d?a.getAttribute(b):(c=a.getAttributeNode(b),c?"boolean"==typeof a[b]?a[b]?b:null:c.specified?c.value:null:null)},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},[0,0].sort(function(){return u=0}),r.compareDocumentPosition?n=function(a,b){return a===b?(t=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b):a.compareDocumentPosition)?-1:1}:(n=function(a,b){if(a===b)return t=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,h=b.parentNode,i=g;if(g===h)return o(a,b);if(!g)return-1;if(!h)return 1;for(;i;)e.unshift(i),i=i.parentNode;for(i=h;i;)f.unshift(i),i=i.parentNode;c=e.length,d=f.length;for(var j=0;c>j&&d>j;j++)if(e[j]!==f[j])return o(e[j],f[j]);return j===c?o(a,f[j],-1):o(e[j],b,1)},o=function(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}),fa.uniqueSort=function(a){var b,c=1;if(n&&(t=u,a.sort(n),t))for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a};var la=fa.compile=function(a,b,c){var d,e,f,h=W[a];if(h&&h.context===b)return h.dirruns++,h;for(e=g(a,b,c),f=0;d=e[f];f++)e[f]=j(d,b,c);return h=W[a]=k(e),h.context=b,h.runs=h.dirruns=0,X.push(a),X.length>ga.cacheLength&&delete W[X.shift()],h};fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){return fa(b,null,null,[a]).length>0};var ma=function(a,b,c,d,e){a=a.replace(I,"$1");var g,h,i,j,k,n,o,p,q,r=a.match(K),s=a.match(M),t=b.nodeType;if(T.POS.test(a))return f(a,b,c,d,r);if(d)g=w.call(d,0);else if(r&&1===r.length){if(s.length>1&&9===t&&!e&&(r=T.ID.exec(s[0]))){if(b=ga.find.ID(r[1],b,e)[0],!b)return c;a=a.slice(s.shift().length)}for(p=(r=O.exec(s[0]))&&!r.index&&b.parentNode||b,q=s.pop(),n=q.split(":not")[0],i=0,j=ga.order.length;j>i;i++)if(o=ga.order[i],r=T[o].exec(n)){if(g=ga.find[o]((r[1]||"").replace(S,""),p,e),null==g)continue;n===q&&(a=a.slice(0,a.length-q.length)+n.replace(T[o],""),a||x.apply(c,w.call(g,0)));break}}if(a)for(h=la(a,b,e),m=h.dirruns,null==g&&(g=ga.find.TAG("*",O.test(a)&&b.parentNode||b)),i=0;k=g[i];i++)l=h.runs++,h(k,b)&&c.push(k);return c};q.querySelectorAll&&!function(){var a,b=ma,c=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,e=[],f=[":active"],g=r.matchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||r.oMatchesSelector||r.msMatchesSelector;_(function(a){a.innerHTML="<select><option selected></option></select>",a.querySelectorAll("[selected]").length||e.push("\\["+z+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||e.push(":checked")}),_(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&e.push("[*^$]="+z+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'>",a.querySelectorAll(":enabled").length||e.push(":enabled",":disabled")}),e=e.length&&new RegExp(e.join("|")),ma=function(a,d,f,g,h){if(!(g||h||e&&e.test(a)))if(9===d.nodeType)try{return x.apply(f,w.call(d.querySelectorAll(a),0)),f}catch(i){}else if(1===d.nodeType&&"object"!==d.nodeName.toLowerCase()){var j=d.getAttribute("id"),k=j||y,l=O.test(a)&&d.parentNode||d;j?k=k.replace(c,"\\$&"):d.setAttribute("id",k);try{return x.apply(f,w.call(l.querySelectorAll(a.replace(K,"[id='"+k+"'] $&")),0)),f}catch(i){}finally{j||d.removeAttribute("id")}}return b(a,d,f,g,h)},g&&(_(function(b){a=g.call(b,"div");try{g.call(b,"[test!='']:sizzle"),f.push(ga.match.PSEUDO)}catch(c){}}),f=new RegExp(f.join("|")),fa.matchesSelector=function(b,c){if(c=c.replace(d,"='$1']"),!(ia(b)||f.test(c)||e&&e.test(c)))try{var h=g.call(b,c);if(h||a||b.document&&11!==b.document.nodeType)return h}catch(i){}return fa(c,null,null,[b]).length>0})}(),"object"==typeof b&&b.exports?b.exports=fa:a.Sizzle=fa}(window)},{}],48:[function(a,b,c){"use strict";b.exports={DOMEmitter:a("./ac-dom-emitter/DOMEmitter")}},{"./ac-dom-emitter/DOMEmitter":49}],49:[function(a,b,c){"use strict";function d(a){null!==a&&(this.el=a,this._bindings={},this._delegateFuncs={},this._eventEmitter=new f)}var e,f=a("ac-event-emitter").EventEmitter,g=a("./DOMEmitterEvent"),h=a("ac-dom-events"),i=a("ac-dom-traversal"),j="dom-emitter";e=d.prototype,e.on=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._on),this},e.once=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._once),this},e.off=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._off),this},e.has=function(a,b,c,d){var e,f;if("string"==typeof b?(e=b,f=c):(f=b,d=c),e){var g=this._getDelegateFuncBindingIdx(a,e,f,d,!0);return g>-1?!0:!1}return this._eventEmitter&&this._eventEmitter.has.apply(this._eventEmitter,arguments)?!0:!1},e.trigger=function(a,b,c,d){a=this._parseEventNames(a),a=this._cleanStringData(a);var e,f,g,h=a.length;for("string"==typeof b?(e=this._cleanStringData(b),f=c):(f=b,d=c),g=0;h>g;g++)this._triggerDOMEvents(a[g],f,e);return this},e.emitterTrigger=function(a,b,c){if(!this._eventEmitter)return this;a=this._parseEventNames(a),a=this._cleanStringData(a),b=new g(b,this);var d,e=a.length;for(d=0;e>d;d++)this._eventEmitter.trigger(a[d],b,c);return this},e.propagateTo=function(a,b){return this._eventEmitter.propagateTo(a,b),this},e.stopPropagatingTo=function(a){return this._eventEmitter.stopPropagatingTo(a),this},e.stopImmediatePropagation=function(){return this._eventEmitter.stopImmediatePropagation(),this},e.destroy=function(){this._triggerInternalEvent("willdestroy"),this.off();var a;for(a in this)this.hasOwnProperty(a)&&(this[a]=null)},e._parseEventNames=function(a){return a?a.split(" "):[a]},e._onListenerEvent=function(a,b){var c=new g(b,this);this._eventEmitter.trigger(a,c,!1)},e._setListener=function(a){this._bindings[a]=this._onListenerEvent.bind(this,a),h.addEventListener(this.el,a,this._bindings[a])},e._removeListener=function(a){h.removeEventListener(this.el,a,this._bindings[a]),this._bindings[a]=null},e._triggerInternalEvent=function(a,b){this.emitterTrigger(j+":"+a,b)},e._normalizeArgumentsAndCall=function(a,b){var c={};if(0===a.length)return void b.call(this,c);if("string"==typeof a[0]||null===a[0])return a=this._cleanStringData(a),c.events=a[0],"string"==typeof a[1]?(c.delegateQuery=a[1],c.callback=a[2],c.context=a[3]):(c.callback=a[1],c.context=a[2]),void b.call(this,c);var d,e,f=":",g=a[0];for(d in g)g.hasOwnProperty(d)&&(c={},e=this._cleanStringData(d.split(f)),c.events=e[0],c.delegateQuery=e[1],c.callback=g[d],c.context=a[1],b.call(this,c))},e._registerDelegateFunc=function(a,b,c,d,e){var f=this._delegateFunc.bind(this,a,b,c,e);return this._delegateFuncs[b]=this._delegateFuncs[b]||{},this._delegateFuncs[b][a]=this._delegateFuncs[b][a]||[],this._delegateFuncs[b][a].push({func:d,context:e,delegateFunc:f}),f},e._cleanStringData=function(a){var b=!1;"string"==typeof a&&(a=[a],b=!0);var c,d,e,f=[],g=a.length;for(c=0;g>c;c++){if(d=a[c],"string"==typeof d){if(""===d||" "===d)continue;for(e=d.length;" "===d[0];)d=d.slice(1,e),e--;for(;" "===d[e-1];)d=d.slice(0,e-1),e--}f.push(d)}return b?f[0]:f},e._unregisterDelegateFunc=function(a,b,c,d){if(this._delegateFuncs[b]&&this._delegateFuncs[b][a]){var e,f=this._getDelegateFuncBindingIdx(a,b,c,d);return f>-1&&(e=this._delegateFuncs[b][a][f].delegateFunc,this._delegateFuncs[b][a].splice(f,1),0===this._delegateFuncs[b][a].length&&(this._delegateFuncs[b][a]=null)),e}},e._unregisterDelegateFuncs=function(a,b){if(this._delegateFuncs[b]&&(null===a||this._delegateFuncs[b][a]))if(null!==a)this._unbindDelegateFunc(a,b);else{var c;for(c in this._delegateFuncs[b])this._delegateFuncs[b].hasOwnProperty(c)&&this._unbindDelegateFunc(c,b)}},e._unbindDelegateFunc=function(a,b){for(var c,d,e=0;this._delegateFuncs[b][a]&&this._delegateFuncs[b][a][e];)c=this._delegateFuncs[b][a][e],d=this._delegateFuncs[b][a][e].length,this._off({events:a,delegateQuery:b,callback:c.func,context:c.context}),this._delegateFuncs[b][a]&&d===this._delegateFuncs[b][a].length&&e++;c=d=null},e._unregisterDelegateFuncsByEvent=function(a){var b;for(b in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(b)&&this._unregisterDelegateFuncs(a,b)},e._delegateFunc=function(a,b,c,d,e){if(this._targetHasDelegateAncestor(e.target,b)){var f=Array.prototype.slice.call(arguments,0),g=f.slice(4,f.length);d=d||window,"object"==typeof e.detail&&(g[0]=e.detail),c.apply(d,g)}},e._targetHasDelegateAncestor=function(a,b){for(var c=a;c&&c!==this.el&&c!==document.documentElement;){if(i.matchesSelector(c,b))return!0;c=c.parentNode}return!1},e._on=function(a){var b=a.events,c=a.callback,d=a.delegateQuery,e=a.context,f=a.unboundCallback||c;b=this._parseEventNames(b),b.forEach(function(a,b,c,d,e){this.has(e)||this._setListener(e),"string"==typeof d&&(a=this._registerDelegateFunc(e,d,a,b,c)),this._triggerInternalEvent("willon",{evt:e,callback:a,context:c,delegateQuery:d}),this._eventEmitter.on(e,a,c),this._triggerInternalEvent("didon",{evt:e,callback:a,context:c,delegateQuery:d})}.bind(this,c,f,e,d)),b=c=f=d=e=null},e._off=function(a){var b=a.events,c=a.callback,d=a.delegateQuery,e=a.context,f=a.unboundCallback||c;if("undefined"!=typeof b)b=this._parseEventNames(b),b.forEach(function(a,b,c,d,e){return"string"!=typeof d||"function"!=typeof b||(a=this._unregisterDelegateFunc(e,d,b,c))?"string"==typeof d&&"undefined"==typeof a?void this._unregisterDelegateFuncs(e,d):void(("string"!=typeof e||"undefined"!=typeof a||(this._unregisterDelegateFuncsByEvent(e),"string"!=typeof d))&&(this._triggerInternalEvent("willoff",{evt:e,callback:a,context:c,delegateQuery:d}),this._eventEmitter.off(e,a,c),this._triggerInternalEvent("didoff",{evt:e,callback:a,context:c,delegateQuery:d}),this.has(e)||this._removeListener(e))):void 0}.bind(this,c,f,e,d)),b=c=f=d=e=null;else{this._eventEmitter.off();var g;for(g in this._bindings)this._bindings.hasOwnProperty(g)&&this._removeListener(g);for(g in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(g)&&(this._delegateFuncs[g]=null)}},e._once=function(a){var b=a.events,c=a.callback,d=a.delegateQuery,e=a.context;b=this._parseEventNames(b),b.forEach(function(a,b,c,d){return"string"==typeof c?this._handleDelegateOnce(d,a,b,c):(this.has(d)||this._setListener(d),this._triggerInternalEvent("willonce",{evt:d,callback:a,context:b,delegateQuery:c}),this._eventEmitter.once.call(this,d,a,b),void this._triggerInternalEvent("didonce",{evt:d,callback:a,context:b,delegateQuery:c}))}.bind(this,c,e,d)),b=c=d=e=null},e._handleDelegateOnce=function(a,b,c,d){return this._triggerInternalEvent("willonce",{evt:a,callback:b,context:c,delegateQuery:d}),this._on({events:a,context:c,delegateQuery:d,callback:this._getDelegateOnceCallback.bind(this,a,b,c,d),unboundCallback:b}),this._triggerInternalEvent("didonce",{evt:a,callback:b,context:c,delegateQuery:d}),this},e._getDelegateOnceCallback=function(a,b,c,d){var e=Array.prototype.slice.call(arguments,0),f=e.slice(4,e.length);b.apply(c,f),this._off({events:a,delegateQuery:d,callback:b,context:c})},e._getDelegateFuncBindingIdx=function(a,b,c,d,e){var f=-1;if(this._delegateFuncs[b]&&this._delegateFuncs[b][a]){var g,h,i=this._delegateFuncs[b][a].length;for(g=0;i>g;g++)if(h=this._delegateFuncs[b][a][g],e&&"undefined"==typeof c&&(c=h.func),h.func===c&&h.context===d){f=g;break}}return f},e._triggerDOMEvents=function(a,b,c){var d=[this.el];c&&(d=i.querySelectorAll(c,this.el));var e,f=d.length;for(e=0;f>e;e++)h.dispatchEvent(d[e],a,{bubbles:!0,cancelable:!0,detail:b})},b.exports=d},{"./DOMEmitterEvent":50,"ac-dom-events":54,"ac-dom-traversal":29,"ac-event-emitter":263}],50:[function(a,b,c){"use strict";var d,e=a("ac-dom-events"),f=function(a,b){this._domEmitter=b,this.originalEvent=a||{},this._originalTarget=e.target(this.originalEvent),this.target=this._originalTarget||this._domEmitter.el,this.currentTarget=this._domEmitter.el,this.timeStamp=this.originalEvent.timeStamp||Date.now(),this._isDOMEvent(this.originalEvent)?"object"==typeof this.originalEvent.detail&&(this.data=this.originalEvent.detail):a&&(this.data=this.originalEvent,this.originalEvent={})};d=f.prototype,d.preventDefault=function(){e.preventDefault(this.originalEvent)},d.stopPropagation=function(){e.stopPropagation(this.originalEvent)},d.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this._domEmitter.stopImmediatePropagation()},d._isDOMEvent=function(a){return this._originalTarget||"undefined"!==document.createEvent&&"undefined"!=typeof CustomEvent&&a instanceof CustomEvent?!0:!1},b.exports=f},{"ac-dom-events":54}],51:[function(a,b,c){"use strict";var d=a("./ac-prefixer/Prefixer");b.exports=new d,b.exports.Prefixer=d},{"./ac-prefixer/Prefixer":52}],52:[function(a,b,c){"use strict";function d(){this._supportsAvailable="CSS"in window&&"supports"in window.CSS,this._cssPrefixes=j,this._domPrefixes=k,this._evtPrefixes=l,this._styleProperties={},this._styleValues={},this._eventTypes={}}var e=a("./Prefixer/camelCasedEvents"),f=/(\([^\)]+\))/gi,g=/([^ ,;\(]+(\([^\)]+\))?)/gi,h=/(-webkit-|-moz-|-ms-)|^(webkit|moz|ms)/gi,i=/^(webkit|moz|ms)/gi,j=["-webkit-","-moz-","-ms-"],k=["Webkit","Moz","ms"],l=["webkit","moz","ms"],m=d.prototype;m.getEventType=function(a){var b,c;if(a=a.toLowerCase(),a in this._eventTypes)return this._eventTypes[a];if(this._checkEventType("on"+a))return this._eventTypes[a]=a;if(e[a])for(b in e[a])if(this._checkEventType(b))return this._eventTypes[a]=e[a][b];for(c=0;c<this._evtPrefixes.length;c++)if(this._checkEventType("on"+this._evtPrefixes[c]+a))return this._eventTypes[a]=this._evtPrefixes[c]+a,this._reduceAvailablePrefixes(c),this._eventTypes[a];return this._eventTypes[a]=a},m._checkEventType=function(a){return a in window||a in document},m.getStyleProperty=function(a){var b,c,d;if(a+="",a in this._styleProperties)return this._styleProperties[a].dom;for(a=this._toDOM(a),this._prepareTestElement(),c=a.charAt(0).toUpperCase()+a.substr(1),b="filter"===a?["WebkitFilter","filter"]:(a+" "+this._domPrefixes.join(c+" ")+c).split(" "),d=0;d<b.length;d++)if(void 0!==this._el.style[b[d]])return 0!==d&&this._reduceAvailablePrefixes(d-1),this._memoizeStyleProperty(a,b[d]),b[d];return this._memoizeStyleProperty(a,!1),!1},m._memoizeStyleProperty=function(a,b){var c=this._toCSS(a),d=b===!1?!1:this._toCSS(b);this._styleProperties[a]=this._styleProperties[b]=this._styleProperties[c]=this._styleProperties[d]={dom:b,css:d}},m.getStyleCSS=function(a,b){var c;if(a=this.getStyleProperty(a),!a)return!1;if(c=this._styleProperties[a].css,"undefined"!=typeof b){if(b=this.getStyleValue(a,b),b===!1)return!1;c+=":"+b+";"}return c},m.getStyleValue=function(a,b){var c;return b+="",(a=this.getStyleProperty(a))?this._testStyleValue(a,b)?b:(c=this._styleProperties[a].css,b=b.replace(g,function(b){var d,e,g,h;if("#"===b[0]||!isNaN(b[0]))return b;if(e=b.replace(f,""),g=c+":"+e,g in this._styleValues)return this._styleValues[g]===!1?"":b.replace(e,this._styleValues[g]);for(d=this._cssPrefixes.map(function(a){return a+b}),d=[b].concat(d),h=0;h<d.length;h++)if(this._testStyleValue(a,d[h]))return 0!==h&&this._reduceAvailablePrefixes(h-1),this._styleValues[g]=d[h].replace(f,""),d[h];return this._styleValues[g]=!1,""}.bind(this)),b=b.trim(),""===b?!1:b):!1},m._testStyleValue=function(a,b){var c;if(this._supportsAvailable)return a=this._styleProperties[a].css,CSS.supports(a,b);this._prepareTestElement(),c=this._el.style[a];try{this._el.style[a]=b}catch(d){return!1}return this._el.style[a]&&this._el.style[a]!==c},m.stripPrefixes=function(a){return a=String.prototype.replace.call(a,h,""),a.charAt(0).toLowerCase()+a.slice(1)},m._reduceAvailablePrefixes=function(a){1!==this._cssPrefixes.length&&(this._cssPrefixes=[this._cssPrefixes[a]],this._domPrefixes=[this._domPrefixes[a]],this._evtPrefixes=[this._evtPrefixes[a]])},m._toDOM=function(a){return"float"===a.toLowerCase()?"cssFloat":(a=a.replace(/-([a-z])/g,function(a,b){return b.toUpperCase()}),"Ms"===a.substr(0,2)&&(a="ms"+a.substr(2)),a)},m._toCSS=function(a){return"cssfloat"===a.toLowerCase()?"float":(i.test(a)&&(a="-"+a),a.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase())},m._prepareTestElement=function(){this._el?(this._el.style.cssText="",this._el.removeAttribute("style")):this._el=document.createElement("_")},b.exports=d},{"./Prefixer/camelCasedEvents":53}],53:[function(a,b,c){"use strict";b.exports={transitionend:{onwebkittransitionend:"webkitTransitionEnd",onmstransitionend:"MSTransitionEnd"},animationstart:{onwebkitanimationstart:"webkitAnimationStart",onmsanimationstart:"MSAnimationStart"},animationend:{onwebkitanimationend:"webkitAnimationEnd",onmsanimationend:"MSAnimationEnd"},animationiteration:{onwebkitanimationiteration:"webkitAnimationIteration",onmsanimationiteration:"MSAnimationIteration"},fullscreenchange:{onmsfullscreenchange:"MSFullscreenChange"},fullscreenerror:{onmsfullscreenerror:"MSFullscreenError"}}},{}],54:[function(a,b,c){"use strict";b.exports={addEventListener:a("./ac-dom-events/addEventListener"),dispatchEvent:a("./ac-dom-events/dispatchEvent"),preventDefault:a("./ac-dom-events/preventDefault"),removeEventListener:a("./ac-dom-events/removeEventListener"),stop:a("./ac-dom-events/stop"),stopPropagation:a("./ac-dom-events/stopPropagation"),target:a("./ac-dom-events/target")}},{"./ac-dom-events/addEventListener":55,"./ac-dom-events/dispatchEvent":56,"./ac-dom-events/preventDefault":57,"./ac-dom-events/removeEventListener":58,"./ac-dom-events/stop":59,"./ac-dom-events/stopPropagation":60,"./ac-dom-events/target":61}],55:[function(a,b,c){"use strict";var d=a("ac-prefixer");b.exports=function(a,b,c,e){return b=d.getEventType(b),a.addEventListener?a.addEventListener(b,c,e):(b="on"+b.toLowerCase(),a.attachEvent(b,c)),a}},{"ac-prefixer":51}],56:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d;return b=b.toLowerCase(),window.CustomEvent?(d=c?new CustomEvent(b,c):new CustomEvent(b),a.dispatchEvent(d)):(d=document.createEventObject(),c&&"detail"in c&&(d.detail=c.detail),a.fireEvent("on"+b,d)),a}},{}],57:[function(a,b,c){"use strict";b.exports=function(a){a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1}},{}],58:[function(a,b,c){"use strict";var d=a("ac-prefixer");b.exports=function(a,b,c,e){return b=d.getEventType(b),a.removeEventListener?a.removeEventListener(b,c,e):(b="on"+b.toLowerCase(),a.detachEvent(b,c)),a}},{"ac-prefixer":51}],59:[function(a,b,c){"use strict";var d=a("./stopPropagation"),e=a("./preventDefault");b.exports=function(a){a=a||window.event,d(a),e(a),a.stopped=!0,a.returnValue=!1}},{"./preventDefault":57,"./stopPropagation":60}],60:[function(a,b,c){"use strict";b.exports=function(a){a=a||window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}},{}],61:[function(a,b,c){"use strict";b.exports=function(a){return a=a||window.event,"undefined"!=typeof a.target?a.target:a.srcElement}},{}],62:[function(a,b,c){"use strict";var d,e=a("./ac-dom-nodes/helpers/nodeTypes"),f={createDocumentFragment:a("./ac-dom-nodes/createDocumentFragment"),filterByNodeType:a("./ac-dom-nodes/filterByNodeType"),insertAfter:a("./ac-dom-nodes/insertAfter"),insertBefore:a("./ac-dom-nodes/insertBefore"),insertFirstChild:a("./ac-dom-nodes/insertFirstChild"),insertLastChild:a("./ac-dom-nodes/insertLastChild"),isComment:a("./ac-dom-nodes/isComment"),isDocument:a("./ac-dom-nodes/isDocument"),isDocumentFragment:a("./ac-dom-nodes/isDocumentFragment"),isDocumentType:a("./ac-dom-nodes/isDocumentType"),isElement:a("./ac-dom-nodes/isElement"),isNode:a("./ac-dom-nodes/isNode"),isNodeList:a("./ac-dom-nodes/isNodeList"),isTextNode:a("./ac-dom-nodes/isTextNode"),remove:a("./ac-dom-nodes/remove"),replace:a("./ac-dom-nodes/replace")};for(d in e)f[d]=e[d];b.exports=f},{"./ac-dom-nodes/createDocumentFragment":63,"./ac-dom-nodes/filterByNodeType":64,"./ac-dom-nodes/helpers/nodeTypes":66,"./ac-dom-nodes/insertAfter":68,"./ac-dom-nodes/insertBefore":69,"./ac-dom-nodes/insertFirstChild":70,"./ac-dom-nodes/insertLastChild":71,"./ac-dom-nodes/isComment":72,"./ac-dom-nodes/isDocument":73,"./ac-dom-nodes/isDocumentFragment":74,"./ac-dom-nodes/isDocumentType":75,"./ac-dom-nodes/isElement":76,"./ac-dom-nodes/isNode":77,"./ac-dom-nodes/isNodeList":78,"./ac-dom-nodes/isTextNode":79,"./ac-dom-nodes/remove":80,"./ac-dom-nodes/replace":81}],63:[function(a,b,c){"use strict";b.exports=function(a){var b,c=document.createDocumentFragment();if(a)for(b=document.createElement("div"),b.innerHTML=a;b.firstChild;)c.appendChild(b.firstChild);return c}},{}],64:[function(a,b,c){"use strict";var d=a("./helpers/isNodeType"),e=a("./helpers/nodeTypes").ELEMENT_NODE;b.exports=function(a,b){return b=b||e,a=Array.prototype.slice.call(a),a.filter(function(a){return d(a,b)})}},{"./helpers/isNodeType":65,"./helpers/nodeTypes":66}],65:[function(a,b,c){"use strict";var d=a("../isNode");b.exports=function(a,b){return d(a)?"number"==typeof b?a.nodeType===b:-1!==b.indexOf(a.nodeType):!1;
}},{"../isNode":77}],66:[function(a,b,c){b.exports={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11}},{}],67:[function(a,b,c){"use strict";var d=a("./nodeTypes"),e=a("./isNodeType"),f=[d.ELEMENT_NODE,d.TEXT_NODE,d.COMMENT_NODE,d.DOCUMENT_FRAGMENT_NODE],g=" must be an Element, TextNode, Comment, or Document Fragment",h=[d.ELEMENT_NODE,d.TEXT_NODE,d.COMMENT_NODE],i=" must be an Element, TextNode, or Comment",j=[d.ELEMENT_NODE,d.DOCUMENT_FRAGMENT_NODE],k=" must be an Element, or Document Fragment",l=" must have a parentNode";b.exports={parentNode:function(a,b,c,d){if(d=d||"target",(a||b)&&!e(a,j))throw new TypeError(c+": "+d+k)},childNode:function(a,b,c,d){if(d=d||"target",(a||b)&&!e(a,h))throw new TypeError(c+": "+d+i)},insertNode:function(a,b,c,d){if(d=d||"node",(a||b)&&!e(a,f))throw new TypeError(c+": "+d+g)},hasParentNode:function(a,b,c){if(c=c||"target",!a.parentNode)throw new TypeError(b+": "+c+l)}}},{"./isNodeType":65,"./nodeTypes":66}],68:[function(a,b,c){"use strict";var d=a("./helpers/validate");b.exports=function(a,b){return d.insertNode(a,!0,"insertAfter"),d.childNode(b,!0,"insertAfter"),d.hasParentNode(b,"insertAfter"),b.nextSibling?b.parentNode.insertBefore(a,b.nextSibling):b.parentNode.appendChild(a)}},{"./helpers/validate":67}],69:[function(a,b,c){"use strict";var d=a("./helpers/validate");b.exports=function(a,b){return d.insertNode(a,!0,"insertBefore"),d.childNode(b,!0,"insertBefore"),d.hasParentNode(b,"insertBefore"),b.parentNode.insertBefore(a,b)}},{"./helpers/validate":67}],70:[function(a,b,c){"use strict";var d=a("./helpers/validate");b.exports=function(a,b){return d.insertNode(a,!0,"insertFirstChild"),d.parentNode(b,!0,"insertFirstChild"),b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a)}},{"./helpers/validate":67}],71:[function(a,b,c){"use strict";var d=a("./helpers/validate");b.exports=function(a,b){return d.insertNode(a,!0,"insertLastChild"),d.parentNode(b,!0,"insertLastChild"),b.appendChild(a)}},{"./helpers/validate":67}],72:[function(a,b,c){"use strict";var d=a("./helpers/isNodeType"),e=a("./helpers/nodeTypes").COMMENT_NODE;b.exports=function(a){return d(a,e)}},{"./helpers/isNodeType":65,"./helpers/nodeTypes":66}],73:[function(a,b,c){"use strict";var d=a("./helpers/isNodeType"),e=a("./helpers/nodeTypes").DOCUMENT_NODE;b.exports=function(a){return d(a,e)}},{"./helpers/isNodeType":65,"./helpers/nodeTypes":66}],74:[function(a,b,c){"use strict";var d=a("./helpers/isNodeType"),e=a("./helpers/nodeTypes").DOCUMENT_FRAGMENT_NODE;b.exports=function(a){return d(a,e)}},{"./helpers/isNodeType":65,"./helpers/nodeTypes":66}],75:[function(a,b,c){"use strict";var d=a("./helpers/isNodeType"),e=a("./helpers/nodeTypes").DOCUMENT_TYPE_NODE;b.exports=function(a){return d(a,e)}},{"./helpers/isNodeType":65,"./helpers/nodeTypes":66}],76:[function(a,b,c){"use strict";var d=a("./helpers/isNodeType"),e=a("./helpers/nodeTypes").ELEMENT_NODE;b.exports=function(a){return d(a,e)}},{"./helpers/isNodeType":65,"./helpers/nodeTypes":66}],77:[function(a,b,c){"use strict";b.exports=function(a){return!(!a||!a.nodeType)}},{}],78:[function(a,b,c){"use strict";var d=/^\[object (HTMLCollection|NodeList|Object)\]$/;b.exports=function(a){return a?"number"!=typeof a.length?!1:"object"!=typeof a[0]||a[0]&&a[0].nodeType?d.test(Object.prototype.toString.call(a)):!1:!1}},{}],79:[function(a,b,c){"use strict";var d=a("./helpers/isNodeType"),e=a("./helpers/nodeTypes").TEXT_NODE;b.exports=function(a){return d(a,e)}},{"./helpers/isNodeType":65,"./helpers/nodeTypes":66}],80:[function(a,b,c){"use strict";var d=a("./helpers/validate");b.exports=function(a){return d.childNode(a,!0,"remove"),a.parentNode?a.parentNode.removeChild(a):a}},{"./helpers/validate":67}],81:[function(a,b,c){"use strict";var d=a("./helpers/validate");b.exports=function(a,b){return d.insertNode(a,!0,"insertFirstChild","newNode"),d.childNode(b,!0,"insertFirstChild","oldNode"),d.hasParentNode(b,"insertFirstChild","oldNode"),b.parentNode.replaceChild(a,b)}},{"./helpers/validate":67}],82:[function(a,b,c){"use strict";var d=a("ac-prefixer/getStyleProperty"),e=a("ac-prefixer/stripPrefixes");b.exports=function(){var a,b,c,f,g=Array.prototype.slice.call(arguments),h=g.shift(g),i=window.getComputedStyle(h),j={};for("string"!=typeof g[0]&&(g=g[0]),f=0;f<g.length;f++)a=g[f],b=d(a),b?(a=e(b),c=i[b],c&&"auto"!==c||(c=null),c&&(c=e(c))):c=null,j[a]=c;return j}},{"ac-prefixer/getStyleProperty":86,"ac-prefixer/stripPrefixes":92}],83:[function(a,b,c){"use strict";b.exports={getStyle:a("./getStyle"),setStyle:a("./setStyle")}},{"./getStyle":82,"./setStyle":95}],84:[function(a,b,c){"use strict";b.exports=function(a){var b,c,d;if(!a&&0!==a)return"";if(Array.isArray(a))return a+"";if("object"==typeof a){for(b="",c=Object.keys(a),d=0;d<c.length;d++)b+=c[d]+"("+a[c[d]]+") ";return b.trim()}return a}},{}],85:[function(a,b,c){"use strict";var d=a("./shared/stylePropertyCache"),e=a("./getStyleProperty"),f=a("./getStyleValue");b.exports=function(a,b){var c;if(a=e(a),!a)return!1;if(c=d[a].css,"undefined"!=typeof b){if(b=f(a,b),b===!1)return!1;c+=":"+b+";"}return c}},{"./getStyleProperty":86,"./getStyleValue":87,"./shared/stylePropertyCache":90}],86:[function(a,b,c){"use strict";var d=a("./shared/stylePropertyCache"),e=a("./shared/getStyleTestElement"),f=a("./utils/toCSS"),g=a("./utils/toDOM"),h=a("./shared/prefixHelper"),i=function(a,b){var c=f(a),e=b===!1?!1:f(b);return d[a]=d[b]=d[c]=d[e]={dom:b,css:e},b};b.exports=function(a){var b,c,f,j;if(a+="",a in d)return d[a].dom;for(f=e(),a=g(a),c=a.charAt(0).toUpperCase()+a.substring(1),b="filter"===a?["WebkitFilter","filter"]:(a+" "+h.dom.join(c+" ")+c).split(" "),j=0;j<b.length;j++)if("undefined"!=typeof f.style[b[j]])return 0!==j&&h.reduce(j-1),i(a,b[j]);return i(a,!1)}},{"./shared/getStyleTestElement":88,"./shared/prefixHelper":89,"./shared/stylePropertyCache":90,"./utils/toCSS":93,"./utils/toDOM":94}],87:[function(a,b,c){"use strict";var d=a("./getStyleProperty"),e=a("./shared/styleValueAvailable"),f=a("./shared/prefixHelper"),g=a("./shared/stylePropertyCache"),h={},i=/(\([^\)]+\))/gi,j=/([^ ,;\(]+(\([^\)]+\))?)/gi;b.exports=function(a,b){var c;return b+="",(a=d(a))?e(a,b)?b:(c=g[a].css,b=b.replace(j,function(b){var d,g,j,k;if("#"===b[0]||!isNaN(b[0]))return b;if(g=b.replace(i,""),j=c+":"+g,j in h)return h[j]===!1?"":b.replace(g,h[j]);for(d=f.css.map(function(a){return a+b}),d=[b].concat(d),k=0;k<d.length;k++)if(e(a,d[k]))return 0!==k&&f.reduce(k-1),h[j]=d[k].replace(i,""),d[k];return h[j]=!1,""}),b=b.trim(),""===b?!1:b):!1}},{"./getStyleProperty":86,"./shared/prefixHelper":89,"./shared/stylePropertyCache":90,"./shared/styleValueAvailable":91}],88:[function(a,b,c){"use strict";var d;b.exports=function(){return d?(d.style.cssText="",d.removeAttribute("style")):d=document.createElement("_"),d},b.exports.resetElement=function(){d=null}},{}],89:[function(a,b,c){"use strict";var d=["-webkit-","-moz-","-ms-"],e=["Webkit","Moz","ms"],f=["webkit","moz","ms"],g=function(){this.initialize()},h=g.prototype;h.initialize=function(){this.reduced=!1,this.css=d,this.dom=e,this.evt=f},h.reduce=function(a){this.reduced||(this.reduced=!0,this.css=[this.css[a]],this.dom=[this.dom[a]],this.evt=[this.evt[a]])},b.exports=new g},{}],90:[function(a,b,c){"use strict";b.exports={}},{}],91:[function(a,b,c){"use strict";var d,e,f=a("./stylePropertyCache"),g=a("./getStyleTestElement"),h=!1,i=function(){var a;if(!h){h=!0,d="CSS"in window&&"supports"in window.CSS,e=!1,a=g();try{a.style.width="invalid"}catch(b){e=!0}}};b.exports=function(a,b){var c,h;if(i(),d)return a=f[a].css,CSS.supports(a,b);if(h=g(),c=h.style[a],e)try{h.style[a]=b}catch(j){return!1}else h.style[a]=b;return h.style[a]&&h.style[a]!==c},b.exports.resetFlags=function(){h=!1}},{"./getStyleTestElement":88,"./stylePropertyCache":90}],92:[function(a,b,c){"use strict";var d=/(-webkit-|-moz-|-ms-)|^(webkit|moz|ms)/gi;b.exports=function(a){return a=String.prototype.replace.call(a,d,""),a.charAt(0).toLowerCase()+a.substring(1)}},{}],93:[function(a,b,c){"use strict";var d=/^(webkit|moz|ms)/gi;b.exports=function(a){return"cssfloat"===a.toLowerCase()?"float":(d.test(a)&&(a="-"+a),a.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase())}},{}],94:[function(a,b,c){"use strict";var d=/-([a-z])/g;b.exports=function(a){return"float"===a.toLowerCase()?"cssFloat":(a=a.replace(d,function(a,b){return b.toUpperCase()}),"Ms"===a.substr(0,2)&&(a="ms"+a.substring(2)),a)}},{}],95:[function(a,b,c){"use strict";var d=a("ac-prefixer/getStyleCSS"),e=a("ac-prefixer/getStyleProperty"),f=a("./internal/normalizeValue");b.exports=function(a,b){var c,g,h,i,j,k="";if("object"!=typeof b)throw new TypeError("setStyle: styles must be an Object");for(g in b)i=f(b[g]),i||0===i?(c=d(g,i),c!==!1&&(k+=" "+c)):(h=e(g),"removeAttribute"in a.style?a.style.removeAttribute(h):a.style[h]="");return k.length&&(j=a.style.cssText,";"!==j.charAt(j.length-1)&&(j+=";"),j+=k,a.style.cssText=j),a}},{"./internal/normalizeValue":84,"ac-prefixer/getStyleCSS":85,"ac-prefixer/getStyleProperty":86}],96:[function(a,b,c){arguments[4][29][0].apply(c,arguments)},{"./ac-dom-traversal/ancestor":97,"./ac-dom-traversal/ancestors":98,"./ac-dom-traversal/children":99,"./ac-dom-traversal/filterBySelector":100,"./ac-dom-traversal/firstChild":101,"./ac-dom-traversal/lastChild":104,"./ac-dom-traversal/matchesSelector":105,"./ac-dom-traversal/nextSibling":106,"./ac-dom-traversal/nextSiblings":107,"./ac-dom-traversal/previousSibling":108,"./ac-dom-traversal/previousSiblings":109,"./ac-dom-traversal/querySelector":110,"./ac-dom-traversal/querySelectorAll":111,"./ac-dom-traversal/shims/ie":112,"./ac-dom-traversal/siblings":113}],97:[function(a,b,c){"use strict";var d=a("ac-dom-nodes"),e=a("./matchesSelector"),f=a("./helpers/validate");b.exports=function(a,b,c){if(f.childNode(a,!0,"ancestors"),f.selector(b,!1,"ancestors"),c&&d.isElement(a)&&(!b||e(a,b)))return a;if(a!==document.body)for(;(a=a.parentNode)&&d.isElement(a);){if(!b||e(a,b))return a;if(a===document.body)break}return null}},{"./helpers/validate":103,"./matchesSelector":105,"ac-dom-nodes":62}],98:[function(a,b,c){"use strict";var d=a("ac-dom-nodes"),e=a("./matchesSelector"),f=a("./helpers/validate");b.exports=function(a,b,c){var g=[];if(f.childNode(a,!0,"ancestors"),f.selector(b,!1,"ancestors"),c&&d.isElement(a)&&(!b||e(a,b))&&g.push(a),a!==document.body)for(;(a=a.parentNode)&&d.isElement(a)&&((!b||e(a,b))&&g.push(a),a!==document.body););return g}},{"./helpers/validate":103,"./matchesSelector":105,"ac-dom-nodes":62}],99:[function(a,b,c){b.exports=a(32)},{"./filterBySelector":100,"./helpers/validate":103,"ac-dom-nodes":62}],100:[function(a,b,c){b.exports=a(33)},{"./helpers/validate":103,"./matchesSelector":105}],101:[function(a,b,c){b.exports=a(34)},{"./children":99,"./helpers/validate":103}],102:[function(a,b,c){b.exports=a(35)},{}],103:[function(a,b,c){b.exports=a(36)},{"ac-dom-nodes":62}],104:[function(a,b,c){b.exports=a(37)},{"./children":99,"./helpers/validate":103}],105:[function(a,b,c){b.exports=a(38)},{"./helpers/nativeMatches":102,"./helpers/validate":103,"ac-dom-nodes":62}],106:[function(a,b,c){b.exports=a(39)},{"./helpers/validate":103,"./matchesSelector":105,"ac-dom-nodes":62}],107:[function(a,b,c){b.exports=a(40)},{"./helpers/validate":103,"./matchesSelector":105,"ac-dom-nodes":62}],108:[function(a,b,c){b.exports=a(41)},{"./helpers/validate":103,"./matchesSelector":105,"ac-dom-nodes":62}],109:[function(a,b,c){b.exports=a(42)},{"./helpers/validate":103,"./matchesSelector":105,"ac-dom-nodes":62}],110:[function(a,b,c){b.exports=a(43)},{"./helpers/validate":103}],111:[function(a,b,c){b.exports=a(44)},{"./helpers/validate":103}],112:[function(a,b,c){b.exports=a(45)},{"../helpers/nativeMatches":102,"../helpers/validate":103,"../vendor/sizzle/sizzle":114,"ac-dom-nodes":62}],113:[function(a,b,c){b.exports=a(46)},{"./children":99,"./helpers/validate":103}],114:[function(a,b,c){b.exports=a(47)},{}],115:[function(a,b,c){var d=a("./ac-clock/Clock"),e=a("./ac-clock/ThrottledClock"),f=a("./ac-clock/sharedClockInstance");f.Clock=d,f.ThrottledClock=e,b.exports=f},{"./ac-clock/Clock":116,"./ac-clock/ThrottledClock":117,"./ac-clock/sharedClockInstance":118}],116:[function(a,b,c){"use strict";function d(){f.call(this),this.lastFrameTime=null,this._animationFrame=null,this._active=!1,this._startTime=null,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._getTime=Date.now||function(){return(new Date).getTime()}}var e,f=a("ac-event-emitter").EventEmitter,g=(new Date).getTime();e=d.prototype=new f(null),e.start=function(){this._active||this._tick()},e.stop=function(){this._active&&window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null,this.lastFrameTime=null,this._active=!1},e.destroy=function(){this.stop(),this.off();var a;for(a in this)this.hasOwnProperty(a)&&(this[a]=null)},e.isRunning=function(){return this._active},e._tick=function(){this._active||(this._active=!0),this._animationFrame=window.requestAnimationFrame(this._boundOnAnimationFrame)},e._onAnimationFrame=function(a){var b=0,c=this._getTime();null===this.lastFrameTime?this.lastFrameTime=c-g:b=a-this.lastFrameTime;var d,e=0;0!==b&&(e=1e3/b),d={time:a,delta:b,fps:e,naturalFps:e,timeNow:c},this.trigger("update",d),this.trigger("draw",d),this._animationFrame=null,this.lastFrameTime=a,this._active!==!1?this._tick():this.lastFrameTime=null},b.exports=d},{"ac-event-emitter":263}],117:[function(a,b,c){"use strict";function d(a,b){null!==a&&(g.call(this),b=b||{},this._fps=a||null,this._clock=b.clock||f,this._lastThrottledTime=null,this._clockEvent=null,this._clock.on("update",this._onClockUpdate,this))}var e,f=a("./sharedClockInstance"),g=a("ac-event-emitter").EventEmitter;e=d.prototype=new g(null),e.setFps=function(a){return this._fps=a,this},e.getFps=function(){return this._fps},e.start=function(){return this._clock.start(),this},e.stop=function(){return this._clock.stop(),this},e.isRunning=function(){return this._clock.isRunning()},e.destroy=function(){this._clock.off("update",this._onClockUpdate,this),this._clock.destroy.call(this)},e._onClockUpdate=function(a){null===this._lastThrottledTime&&(this._lastThrottledTime=this._clock.lastFrameTime);var b=a.time-this._lastThrottledTime;if(!this._fps)throw new TypeError("FPS is not defined.");b<1e3/this._fps||(this._clockEvent=a,this._clockEvent.delta=b,this._clockEvent.fps=1e3/b,this._lastThrottledTime=this._clockEvent.time,this._clock.once("draw",this._onClockDraw,this),this.trigger("update",this._clockEvent))},e._onClockDraw=function(){this.trigger("draw",this._clockEvent)},b.exports=d},{"./sharedClockInstance":118,"ac-event-emitter":263}],118:[function(a,b,c){"use strict";var d=a("./Clock");b.exports=new d},{"./Clock":116}],119:[function(a,b,c){"use strict";b.exports={Clip:a("./ac-clip/Clip")}},{"./ac-clip/Clip":120}],120:[function(a,b,c){"use strict";function d(a,b,c,e){e=e||{},this._options=e,this._target=a,this._duration=1e3*b,this._delay=1e3*(e.delay||0),this._remainingDelay=this._delay,this._progress=0,this._clock=e.clock||g,this._playing=!1,this._getTime=Date.now||function(){return(new Date).getTime()},this._isYoyo=e.yoyo,this._direction=1,this._loop=e.loop||0,this._loopCount=0,this._propsTo=c||{},this._propsFrom=e.propsFrom||{},this._onStart=e.onStart||null,this._onUpdate=e.onUpdate||null,this._onDraw=e.onDraw||null,this._onComplete=e.onComplete||null;var i=e.ease||j;this._ease="function"==typeof i?new h(i):f(i),this._start=this._start.bind(this),this._update=this._update.bind(this),this._draw=this._draw.bind(this),this._isPrepared=!1,d._add(this)}var e=a("ac-object").create,f=a("ac-easing").createPredefined,g=a("ac-clock"),h=a("ac-easing").Ease,i=a("ac-event-emitter").EventEmitter,j="ease",k="complete",l="pause",m="play",n=d.prototype=e(i.prototype);n.play=function(){return this._playing||(this._playing=!0,0===this._delay||0===this._remainingDelay?this._start():(this._isPrepared||(this._setDiff(),this._updateProps()),this._startTimeout=setTimeout(this._start,this._remainingDelay),this._delayStart=this._getTime())),this},n.pause=function(){return this._playing&&(this._startTimeout&&(this._remainingDelay=this._getTime()-this._delayStart,clearTimeout(this._startTimeout)),this._stop(),this.trigger(l,this._getDetails())),this},n.destroy=function(){return this.pause(),this._options=null,this._target=null,this._storeTarget=null,this._ease=null,this._clock=null,this._propsTo=null,this._propsFrom=null,this._storePropsTo=null,this._storePropsFrom=null,this._propsDiff=null,this._propsEase=null,this._onStart=null,this._onUpdate=null,this._onDraw=null,this._onComplete=null,d._remove(this),this},n.reset=function(){if(this._isPrepared){this._stop();var a=function(b,c){var d;for(d in c)c.hasOwnProperty(d)&&null!==c[d]&&("object"==typeof c[d]?a(b[d],c[d]):b[d]=c[d])};return a(this._target,this._storeTarget),this._direction=1,this._loop=this._options.loop||0,this._loopCount=0,this._propsFrom=this._storePropsFrom,this._propsTo=this._storePropsTo,this._progress=0,this._setStartTime(),this._onUpdate&&this._onUpdate.call(this,this._getDetails()),this._onDraw&&this._onDraw.call(this,this._getDetails()),this}},n.isPlaying=function(){return this._playing},n.getTarget=function(){return this._target},n.setCurrentTime=function(a){return this.setProgress(1e3*a/this._duration),this.getCurrentTime()},n.getCurrentTime=function(){return this.getProgress()*this._duration/1e3},n.setProgress=function(a){return this._progress=Math.min(1,Math.max(0,a)),this._setStartTime(),this._isPrepared||this._setDiff(),this._playing&&1===a?(this._completeProps(),this._onUpdate&&this._onUpdate.call(this,this._getDetails()),this._onDraw&&this._onDraw.call(this,this._getDetails()),this._complete()):(this._updateProps(),this._onUpdate&&this._onUpdate.call(this,this._getDetails()),this._onDraw&&this._onDraw.call(this,this._getDetails())),this.getProgress()},n.getProgress=function(){return this._progress},n._addPropsFrom=function(){var a;for(a in this._propsFrom)this._propsFrom.hasOwnProperty(a)&&void 0===this._propsTo[a]&&void 0!==this._target[a]&&(this._propsTo[a]=this._target[a])},n._cloneTarget=function(){var a={},b=function(a,c,d){var e;for(e in a)c.hasOwnProperty(e)&&(null!==c[e]&&"object"==typeof c[e]?(d[e]={},b(a[e],c[e],d[e])):a[e]&&"number"==typeof c[e]&&(d[e]=c[e]))};return b(this._propsTo,this._target,a),a},n._prepareProperties=function(){this._isPrepared||(this._addPropsFrom(),this._storeTarget=this._cloneTarget(),this._storePropsTo=this._propsTo,this._storePropsFrom=this._propsFrom,this._isPrepared=!0)},n._setStartTime=function(){this._startTime=this._getTime()-this.getProgress()*this._duration},n._setDiff=function(){this._isPrepared||this._prepareProperties(),this._propsDiff={};var a=function(b,c,d,e){var f;for(f in b)b.hasOwnProperty(f)&&(null!==b[f]&&"object"==typeof b[f]?(c[f]=c[f]||{},e[f]=e[f]||{},a(b[f],c[f],d[f],e[f])):"number"==typeof d[f]?(void 0!==c[f]?d[f]=c[f]:c[f]=d[f],e[f]=b[f]-d[f]):b[f]=null)};a(this._propsTo,this._propsFrom,this._target,this._propsDiff)},n._getDetails=function(){return{target:this.getTarget(),progress:this.getProgress(),clip:this}},n._start=function(){this._startTimeout=null,this._remainingDelay=0,this._setStartTime(),this._clock.on("update",this._update),this._clock.on("draw",this._draw),this._clock.isRunning()||this._clock.start(),this._setDiff(),this._playing=!0,this._running=!0,this._onStart&&this._onStart.call(this,this._getDetails()),this.trigger(m,this._getDetails())},n._stop=function(){this._playing=!1,this._running=!1,this._clock.off("update",this._update),this._clock.off("draw",this._draw)},n._updateProps=function(){var a;a=1===this._direction?this._ease.getValue(this._progress):1-this._ease.getValue(1-this._progress);var b=function(c,d,e,f){var g;for(g in c)c.hasOwnProperty(g)&&("number"!=typeof c[g]?b(c[g],d[g],e[g],f[g]):e[g]=d[g]+f[g]*a)};b(this._propsTo,this._propsFrom,this._target,this._propsDiff)},n._completeProps=function(){var a=function(b,c){var d;for(d in b)b.hasOwnProperty(d)&&("number"!=typeof b[d]?a(b[d],c[d]):c[d]=b[d])};a(this._propsTo,this._target)},n._complete=function(){this._isYoyo&&(this._loop>0&&this._loopCount<=this._loop||0===this._loop&&0===this._loopCount)?(this._propsFrom=1===this._direction?this._storePropsTo:this._storePropsFrom,this._propsTo=1===this._direction?this._storePropsFrom:this._storePropsTo,this._direction*=-1,-1===this._direction&&++this._loopCount,this.setProgress(0),this._start()):this._loopCount<this._loop?(++this._loopCount,this.setProgress(0),this._start()):(this._onComplete&&this._onComplete.call(this,this._getDetails()),this.trigger(k,this._getDetails()),this._options&&this._options.destroyOnComplete&&this.destroy())},n._update=function(a){this._running&&(this._progress=(a.timeNow-this._startTime)/this._duration,this._progress>=1?(this._progress=1,this._running=!1,this._completeProps()):this._updateProps(),this._onUpdate&&this._onUpdate.call(this,this._getDetails()))},n._draw=function(a){this._onDraw&&this._onDraw.call(this,this._getDetails()),this._running||(this._stop(),1===this._progress&&this._complete())},d._instantiate=function(){return this._clips=[],this},d._add=function(a){this._clips.push(a)},d._remove=function(a){var b=this._clips.indexOf(a);b>-1&&this._clips.splice(b,1)},d.getAll=function(a){if(void 0!==a){for(var b=[],c=this._clips.length;c--;)this._clips[c].getTarget()===a&&b.push(this._clips[c]);return b}return Array.prototype.slice.call(this._clips)},d.destroyAll=function(a){var b=this.getAll(a);this._clips.length===b.length&&(this._clips=[]);for(var c=b.length;c--;)b[c].destroy();return b},d.to=function(a,b,c,e){return e=e||{},void 0===e.destroyOnComplete&&(e.destroyOnComplete=!0),new d(a,b,c,e).play()},d.from=function(a,b,c,e){return e=e||{},e.propsFrom=c,void 0===e.destroyOnComplete&&(e.destroyOnComplete=!0),new d(a,b,e.propsTo,e).play()},b.exports=d._instantiate()},{"ac-clock":115,"ac-easing":186,"ac-event-emitter":263,"ac-object":233}],121:[function(a,b,c){"use strict";b.exports={decimalToHex:a("./ac-color/decimalToHex"),hexToDecimal:a("./ac-color/hexToDecimal"),hexToRgb:a("./ac-color/hexToRgb"),isColor:a("./ac-color/isColor"),isHex:a("./ac-color/isHex"),isRgb:a("./ac-color/isRgb"),mixColors:a("./ac-color/mixColors"),rgbToArray:a("./ac-color/rgbToArray"),rgbToDecimal:a("./ac-color/rgbToDecimal"),rgbToHex:a("./ac-color/rgbToHex"),rgbToObject:a("./ac-color/rgbToObject"),shortToLongHex:a("./ac-color/shortToLongHex")}},{"./ac-color/decimalToHex":122,"./ac-color/hexToDecimal":123,"./ac-color/hexToRgb":124,"./ac-color/isColor":125,"./ac-color/isHex":126,"./ac-color/isRgb":127,"./ac-color/mixColors":128,"./ac-color/rgbToArray":129,"./ac-color/rgbToDecimal":130,"./ac-color/rgbToHex":131,"./ac-color/rgbToObject":132,"./ac-color/shortToLongHex":133}],122:[function(a,b,c){"use strict";b.exports=function(a){return"#"+a.toString(16)}},{}],123:[function(a,b,c){"use strict";b.exports=function(a){return parseInt(a.substr(1),16)}},{}],124:[function(a,b,c){"use strict";var d=a("./shortToLongHex");b.exports=function(a){a=d(a);var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?"rgb("+parseInt(b[1],16)+", "+parseInt(b[2],16)+", "+parseInt(b[3],16)+")":null}},{"./shortToLongHex":133}],125:[function(a,b,c){"use strict";var d=a("./isRgb"),e=a("./isHex");b.exports=function(a){return d(a)||e(a)}},{"./isHex":126,"./isRgb":127}],126:[function(a,b,c){"use strict";b.exports=function(a){var b=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i;return b.test(a)}},{}],127:[function(a,b,c){"use strict";b.exports=function(a){return"string"==typeof a&&0===a.indexOf("rgb(")}},{}],128:[function(a,b,c){"use strict";var d=a("./isHex"),e=a("./hexToRgb"),f=a("./rgbToObject");b.exports=function(a,b,c){a=d(a)?e(a):a,b=d(b)?e(b):b,a=f(a),b=f(b);var g=a.r+(b.r-a.r)*c,h=a.g+(b.g-a.g)*c,i=a.b+(b.b-a.b)*c;return"rgb("+g+", "+h+", "+i+")"}},{"./hexToRgb":124,"./isHex":126,"./rgbToObject":132}],129:[function(a,b,c){"use strict";var d=a("./rgbToObject");b.exports=function(a){var b=d(a);return[b.r,b.g,b.b]}},{"./rgbToObject":132}],130:[function(a,b,c){"use strict";var d=a("./hexToDecimal"),e=a("./rgbToArray"),f=a("./rgbToHex");b.exports=function(a){var b=f.apply(this,e(a));return d(b)}},{"./hexToDecimal":123,"./rgbToArray":129,"./rgbToHex":131}],131:[function(a,b,c){"use strict";b.exports=function(a,b,c){return"#"+((1<<24)+(a<<16)+(b<<8)+c).toString(16).slice(1)}},{}],132:[function(a,b,c){"use strict";b.exports=function(a){var b=/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/,c=b.exec(a);return{r:Number(c[1]),g:Number(c[2]),b:Number(c[3])}}},{}],133:[function(a,b,c){"use strict";b.exports=function(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return a=a.replace(b,function(a,b,c,d){return"#"+b+b+c+c+d+d})}},{}],134:[function(a,b,c){"use strict";var d=a("./utils/getBoundingClientRect");b.exports=function(a,b){var c=1;return b&&(c=d(a).width/a.offsetWidth),{width:a.scrollWidth*c,height:a.scrollHeight*c}}},{"./utils/getBoundingClientRect":185}],135:[function(a,b,c){"use strict";var d=a("./utils/getBoundingClientRect");b.exports=function(a,b){var c;return b?(c=d(a),{width:c.width,height:c.height}):{width:a.offsetWidth,height:a.offsetHeight}}},{"./utils/getBoundingClientRect":185}],136:[function(a,b,c){"use strict";var d=a("ac-window-delegate").WindowDelegate,e=a("./getDimensions"),f=a("./utils/getBoundingClientRect");b.exports=function(a,b){var c,g,h,i;if(b)return c=f(a),g=d.scrollY(),h=d.scrollX(),{top:c.top+g,right:c.right+h,bottom:c.bottom+g,left:c.left+h};for(i=e(a,b),c={top:a.offsetTop,left:a.offsetLeft,width:i.width,height:i.height};a=a.offsetParent;)c.top+=a.offsetTop,c.left+=a.offsetLeft;return{top:c.top,right:c.left+c.width,bottom:c.top+c.height,left:c.left}}},{"./getDimensions":135,"./utils/getBoundingClientRect":185,"ac-window-delegate":167}],137:[function(a,b,c){"use strict";var d=a("./getDimensions"),e=a("./getPixelsInViewport");b.exports=function(a,b){var c=e(a,b),f=d(a,b).height;return c/f}},{"./getDimensions":135,"./getPixelsInViewport":138}],138:[function(a,b,c){"use strict";var d=a("ac-window-delegate").WindowDelegate,e=a("./getViewportPosition");b.exports=function(a,b){var c,f=d.clientHeight(),g=e(a,b);return g.top>=f||g.bottom<=0?0:(c=g.bottom-g.top,g.top<0&&(c+=g.top),g.bottom>f&&(c-=g.bottom-f),c)}},{"./getViewportPosition":140,"ac-window-delegate":167}],139:[function(a,b,c){"use strict";var d=a("./getDimensions"),e=a("./utils/getBoundingClientRect");b.exports=function(a,b){var c,f,g;return b?(c=e(a),a.offsetParent&&(f=e(a.offsetParent),c.top-=f.top,c.left-=f.left)):(g=d(a,b),c={top:a.offsetTop,left:a.offsetLeft,width:g.width,height:g.height}),{top:c.top,right:c.left+c.width,bottom:c.top+c.height,left:c.left}}},{"./getDimensions":135,"./utils/getBoundingClientRect":185}],140:[function(a,b,c){"use strict";var d=a("ac-window-delegate").WindowDelegate,e=a("./getPagePosition"),f=a("./utils/getBoundingClientRect");b.exports=function(a,b){var c,g,h;return b?(c=f(a),{top:c.top,right:c.right,bottom:c.bottom,left:c.left}):(c=e(a),g=d.scrollY(),h=d.scrollX(),{top:c.top-g,right:c.right-h,bottom:c.bottom-g,left:c.left-h})}},{"./getPagePosition":136,"./utils/getBoundingClientRect":185,"ac-window-delegate":167}],141:[function(a,b,c){"use strict";b.exports={getContentDimensions:a("./getContentDimensions"),getDimensions:a("./getDimensions"),getPagePosition:a("./getPagePosition"),getPercentInViewport:a("./getPercentInViewport"),getPixelsInViewport:a("./getPixelsInViewport"),getPosition:a("./getPosition"),getViewportPosition:a("./getViewportPosition"),isInViewport:a("./isInViewport")}},{"./getContentDimensions":134,"./getDimensions":135,"./getPagePosition":136,"./getPercentInViewport":137,"./getPixelsInViewport":138,"./getPosition":139,"./getViewportPosition":140,"./isInViewport":142}],142:[function(a,b,c){"use strict";var d=a("./getPixelsInViewport"),e=a("./getPercentInViewport");b.exports=function(a,b,c){var f;return c=c||0,"string"==typeof c&&"px"===c.slice(-2)?(c=parseInt(c,10),f=d(a,b)):f=e(a,b),f>0&&f>=c}},{"./getPercentInViewport":137,"./getPixelsInViewport":138}],143:[function(a,b,c){"use strict";var d={};d.addEventListener=function(a,b,c,d){return a.addEventListener?a.addEventListener(b,c,d):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c,a},d.dispatchEvent=function(a,b){return document.createEvent?a.dispatchEvent(new CustomEvent(b)):a.fireEvent("on"+b,document.createEventObject()),a},d.removeEventListener=function(a,b,c,d){return a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent("on"+b,c),a};var e=/^(webkit|moz|ms|o)/i;d.addVendorPrefixEventListener=function(a,b,c,f){return b=e.test(b)?b.replace(e,""):b.charAt(0).toUpperCase()+b.slice(1),/WebKit/i.test(window.navigator.userAgent)?d.addEventListener(a,"webkit"+b,c,f):/Opera/i.test(window.navigator.userAgent)?d.addEventListener(a,"O"+b,c,f):/Gecko/i.test(window.navigator.userAgent)?d.addEventListener(a,b.toLowerCase(),c,f):(b=b.charAt(0).toLowerCase()+b.slice(1),d.addEventListener(a,b,c,f))},d.removeVendorPrefixEventListener=function(a,b,c,f){return b=e.test(b)?b.replace(e,""):b.charAt(0).toUpperCase()+b.slice(1),d.removeEventListener(a,"webkit"+b,c,f),d.removeEventListener(a,"O"+b,c,f),d.removeEventListener(a,b.toLowerCase(),c,f),b=b.charAt(0).toLowerCase()+b.slice(1),d.removeEventListener(a,b,c,f)},d.stop=function(a){a||(a=window.event),a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,a.preventDefault&&a.preventDefault(),a.stopped=!0,a.returnValue=!1},d.target=function(a){return"undefined"!=typeof a.target?a.target:a.srcElement},b.exports=d},{}],144:[function(a,b,c){b.exports=a(29)},{"./ac-dom-traversal/ancestor":145,"./ac-dom-traversal/ancestors":146,"./ac-dom-traversal/children":147,"./ac-dom-traversal/filterBySelector":148,"./ac-dom-traversal/firstChild":149,"./ac-dom-traversal/lastChild":152,"./ac-dom-traversal/matchesSelector":153,"./ac-dom-traversal/nextSibling":154,"./ac-dom-traversal/nextSiblings":155,"./ac-dom-traversal/previousSibling":156,"./ac-dom-traversal/previousSiblings":157,"./ac-dom-traversal/querySelector":158,"./ac-dom-traversal/querySelectorAll":159,"./ac-dom-traversal/shims/ie":160,"./ac-dom-traversal/siblings":161}],145:[function(a,b,c){b.exports=a(30)},{"./helpers/validate":151,"./matchesSelector":153,"ac-dom-nodes":62}],146:[function(a,b,c){b.exports=a(31)},{"./helpers/validate":151,"./matchesSelector":153,"ac-dom-nodes":62}],147:[function(a,b,c){b.exports=a(32)},{"./filterBySelector":148,"./helpers/validate":151,"ac-dom-nodes":62}],148:[function(a,b,c){b.exports=a(33)},{"./helpers/validate":151,"./matchesSelector":153}],149:[function(a,b,c){b.exports=a(34)},{"./children":147,"./helpers/validate":151}],150:[function(a,b,c){b.exports=a(35)},{}],151:[function(a,b,c){b.exports=a(36)},{"ac-dom-nodes":62}],152:[function(a,b,c){b.exports=a(37)},{"./children":147,"./helpers/validate":151}],153:[function(a,b,c){b.exports=a(38)},{"./helpers/nativeMatches":150,"./helpers/validate":151,"ac-dom-nodes":62}],154:[function(a,b,c){b.exports=a(39)},{"./helpers/validate":151,"./matchesSelector":153,"ac-dom-nodes":62}],155:[function(a,b,c){b.exports=a(40)},{"./helpers/validate":151,"./matchesSelector":153,"ac-dom-nodes":62}],156:[function(a,b,c){b.exports=a(41)},{"./helpers/validate":151,"./matchesSelector":153,"ac-dom-nodes":62}],157:[function(a,b,c){b.exports=a(42)},{"./helpers/validate":151,"./matchesSelector":153,"ac-dom-nodes":62}],158:[function(a,b,c){b.exports=a(43)},{"./helpers/validate":151}],159:[function(a,b,c){b.exports=a(44)},{"./helpers/validate":151}],160:[function(a,b,c){b.exports=a(45)},{"../helpers/nativeMatches":150,"../helpers/validate":151,"../vendor/sizzle/sizzle":162,"ac-dom-nodes":62}],161:[function(a,b,c){b.exports=a(46)},{"./children":147,"./helpers/validate":151}],162:[function(a,b,c){b.exports=a(47)},{}],163:[function(a,b,c){"use strict";b.exports={DOMEmitter:a("./ac-dom-emitter/DOMEmitter")}},{"./ac-dom-emitter/DOMEmitter":164}],164:[function(a,b,c){
"use strict";function d(a){null!==a&&(this.el=a,this._bindings={},this._delegateFuncs={},this._eventEmitter=new f)}var e,f=a("ac-event-emitter").EventEmitter,g=a("ac-dom-events"),h=a("ac-dom-traversal"),i="dom-emitter";e=d.prototype,e._parseEventNames=function(a){return a?a.split(" "):[a]},e._onListenerEvent=function(a,b){this.trigger(a,b,!1)},e._setListener=function(a){this._bindings[a]=this._onListenerEvent.bind(this,a),g.addEventListener(this.el,a,this._bindings[a])},e._removeListener=function(a){g.removeEventListener(this.el,a,this._bindings[a]),this._bindings[a]=null},e._triggerInternalEvent=function(a,b){this.trigger(i+":"+a,b)},e._normalizeArgumentsAndCall=function(a,b){var c={};if(0===a.length)return void b.call(this,c);if("string"==typeof a[0]||null===a[0])return a=this._cleanStringData(a),c.events=a[0],"string"==typeof a[1]?(c.delegateQuery=a[1],c.callback=a[2],c.context=a[3]):(c.callback=a[1],c.context=a[2]),void b.call(this,c);var d,e,f=":",g=a[0];for(d in g)g.hasOwnProperty(d)&&(c={},e=this._cleanStringData(d.split(f)),c.events=e[0],c.delegateQuery=e[1],c.callback=g[d],c.context=a[1],b.call(this,c))},e._registerDelegateFunc=function(a,b,c,d,e){var f=this._delegateFunc.bind(this,a,b,c,e);return this._delegateFuncs[b]=this._delegateFuncs[b]||{},this._delegateFuncs[b][a]=this._delegateFuncs[b][a]||[],this._delegateFuncs[b][a].push({func:d,context:e,delegateFunc:f}),f},e._cleanStringData=function(a){var b=!1;"string"==typeof a&&(a=[a],b=!0);var c,d,e,f=[],g=a.length;for(c=0;g>c;c++){if(d=a[c],"string"==typeof d){if(""===d||" "===d)continue;for(e=d.length;" "===d[0];)d=d.slice(1,e),e--;for(;" "===d[e-1];)d=d.slice(0,e-1),e--}f.push(d)}return b?f[0]:f},e._unregisterDelegateFunc=function(a,b,c,d){if(this._delegateFuncs[b]&&this._delegateFuncs[b][a]){var e,f=this._getDelegateFuncBindingIdx(a,b,c,d);return f>-1&&(e=this._delegateFuncs[b][a][f].delegateFunc,this._delegateFuncs[b][a].splice(f,1),0===this._delegateFuncs[b][a].length&&(this._delegateFuncs[b][a]=null)),e}},e._unregisterDelegateFuncs=function(a,b){if(this._delegateFuncs[b]&&(null===a||this._delegateFuncs[b][a]))if(null!==a)this._unbindDelegateFunc(a,b);else{var c;for(c in this._delegateFuncs[b])this._delegateFuncs[b].hasOwnProperty(c)&&this._unbindDelegateFunc(c,b)}},e._unbindDelegateFunc=function(a,b){for(var c,d,e=0;this._delegateFuncs[b][a]&&this._delegateFuncs[b][a][e];)c=this._delegateFuncs[b][a][e],d=this._delegateFuncs[b][a][e].length,this._off({events:a,delegateQuery:b,callback:c.func,context:c.context}),this._delegateFuncs[b][a]&&d===this._delegateFuncs[b][a].length&&e++;c=d=null},e._unregisterDelegateFuncsByEvent=function(a){var b;for(b in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(b)&&this._unregisterDelegateFuncs(a,b)},e._delegateFunc=function(a,b,c,d,e){if(h.matchesSelector(g.target(e),b)){var f=Array.prototype.slice.call(arguments,0),i=f.slice(4,f.length);d=d||window,"object"==typeof e.detail&&(i[0]=e.detail),c.call(d,i)}},e.on=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._on),this},e.once=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._once),this},e.off=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._off),this},e._on=function(a){var b=a.events,c=a.callback,d=a.delegateQuery,e=a.context,f=a.unboundCallback||c;b=this._parseEventNames(b),b.forEach(function(a,b,c,d,e){this.has(e)||this._setListener(e),"string"==typeof d&&(a=this._registerDelegateFunc(e,d,a,b,c)),this._triggerInternalEvent("willon",{evt:e,callback:a,context:c,delegateQuery:d}),this._eventEmitter.on(e,a,c),this._triggerInternalEvent("didon",{evt:e,callback:a,context:c,delegateQuery:d})}.bind(this,c,f,e,d)),b=c=f=d=e=null},e._off=function(a){var b=a.events,c=a.callback,d=a.delegateQuery,e=a.context,f=a.unboundCallback||c;if("undefined"!=typeof b)b=this._parseEventNames(b),b.forEach(function(a,b,c,d,e){return"string"!=typeof d||"function"!=typeof b||(a=this._unregisterDelegateFunc(e,d,b,c))?"string"==typeof d&&"undefined"==typeof a?void this._unregisterDelegateFuncs(e,d):void(("string"!=typeof e||"undefined"!=typeof a||(this._unregisterDelegateFuncsByEvent(e),"string"!=typeof d))&&(this._triggerInternalEvent("willoff",{evt:e,callback:a,context:c,delegateQuery:d}),this._eventEmitter.off(e,a,c),this._triggerInternalEvent("didoff",{evt:e,callback:a,context:c,delegateQuery:d}),this.has(e)||this._removeListener(e))):void 0}.bind(this,c,f,e,d)),b=c=f=d=e=null;else{this._eventEmitter.off();var g;for(g in this._bindings)this._bindings.hasOwnProperty(g)&&this._removeListener(g);for(g in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(g)&&(this._delegateFuncs[g]=null)}},e._once=function(a){var b=a.events,c=a.callback,d=a.delegateQuery,e=a.context;b=this._parseEventNames(b),b.forEach(function(a,b,c,d){return"string"==typeof c?this._handleDelegateOnce(d,a,b,c):(this.has(d)||this._setListener(d),this._triggerInternalEvent("willonce",{evt:d,callback:a,context:b,delegateQuery:c}),this._eventEmitter.once.call(this,d,a,b),void this._triggerInternalEvent("didonce",{evt:d,callback:a,context:b,delegateQuery:c}))}.bind(this,c,e,d)),b=c=d=e=null},e._handleDelegateOnce=function(a,b,c,d){return this._triggerInternalEvent("willonce",{evt:a,callback:b,context:c,delegateQuery:d}),this._on({events:a,context:c,delegateQuery:d,callback:this._getDelegateOnceCallback.bind(this,a,b,c,d),unboundCallback:b}),this._triggerInternalEvent("didonce",{evt:a,callback:b,context:c,delegateQuery:d}),this},e._getDelegateOnceCallback=function(a,b,c,d){var e=Array.prototype.slice.call(arguments,0),f=e.slice(4,e.length);b.apply(c,f),this._off({events:a,delegateQuery:d,callback:b,context:c})},e._getDelegateFuncBindingIdx=function(a,b,c,d,e){var f=-1;if(this._delegateFuncs[b]&&this._delegateFuncs[b][a]){var g,h,i=this._delegateFuncs[b][a].length;for(g=0;i>g;g++)if(h=this._delegateFuncs[b][a][g],e&&"undefined"==typeof c&&(c=h.func),h.func===c&&h.context===d){f=g;break}}return f},e._triggerDelegateEvents=function(a,b,c){var d,e,f=h.querySelectorAll(b,this.el),g=f.length;for(d=0;g>d;d++){if(e=f[d],document.createEvent)e.dispatchEvent(new CustomEvent(a,{bubbles:!0,cancelable:!1,detail:c}));else{var i=document.createEventObject();i.detail=c,e.fireEvent("on"+a,i)}return e}},e.has=function(a,b,c,d){var e,f;if("string"==typeof b?(e=b,f=c):(f=b,d=c),e){var g=this._getDelegateFuncBindingIdx(a,e,f,d,!0);return g>-1?!0:!1}return this._eventEmitter&&this._eventEmitter.has.apply(this._eventEmitter,arguments)?!0:!1},e.trigger=function(a,b,c,d){a=this._parseEventNames(a);var e,f;return"string"==typeof b?(e=this._cleanStringData(b),f=c):(f=b,d=c),a=this._cleanStringData(a),a.forEach(function(a,b,c,d){return a?void this._triggerDelegateEvents(d,a,b):void this._eventEmitter.trigger(d,b,c)}.bind(this,e,f,d)),this},e.propagateTo=function(a,b){return this._eventEmitter.propagateTo(a,b),this},e.stopPropagatingTo=function(a){return this._eventEmitter.stopPropagatingTo(a),this},e.destroy=function(){this._triggerInternalEvent("willdestroy"),this.off(),this.el=this._eventEmitter=this._bindings=this._delegateFuncs=null},b.exports=d},{"ac-dom-events":143,"ac-dom-traversal":144,"ac-event-emitter":263}],165:[function(a,b,c){"use strict";b.exports={SharedInstance:a("./ac-shared-instance/SharedInstance")}},{"./ac-shared-instance/SharedInstance":166}],166:[function(a,b,c){"use strict";var d=window,e="AC",f="SharedInstance",g=d[e],h=function(){var a={};return{get:function(b,c){var d=null;return a[b]&&a[b][c]&&(d=a[b][c]),d},set:function(b,c,d){return a[b]||(a[b]={}),"function"==typeof d?a[b][c]=new d:a[b][c]=d,a[b][c]},share:function(a,b,c){var d=this.get(a,b);return d||(d=this.set(a,b,c)),d},remove:function(b,c){var d=typeof c;if("string"===d||"number"===d){if(!a[b]||!a[b][c])return;return void(a[b][c]=null)}a[b]&&(a[b]=null)}}}();g||(g=d[e]={}),g[f]||(g[f]=h),b.exports=g[f]},{}],167:[function(a,b,c){"use strict";b.exports={WindowDelegate:a("./ac-window-delegate/WindowDelegate"),WindowDelegateOptimizer:a("./ac-window-delegate/WindowDelegateOptimizer"),WindowDelegateCustomEvent:a("./ac-window-delegate/WindowDelegateCustomEvent")}},{"./ac-window-delegate/WindowDelegate":170,"./ac-window-delegate/WindowDelegateCustomEvent":171,"./ac-window-delegate/WindowDelegateOptimizer":172}],168:[function(a,b,c){"use strict";var d=a("ac-event-emitter").EventEmitter,e=function(){this._emitter=new d,this._customEvents={}},f=e.prototype;f.on=function(a,b,c){return this._activateCustomEvents(a),this._emitterOn.apply(this,arguments),this},f.once=function(a,b,c){return this._emitterOnce.apply(this,arguments),this},f.off=function(a,b,c){return this._emitterOff.apply(this,arguments),this._deactivateCustomEvents(a),this},f.has=function(a,b,c){return this._emitter.has.apply(this._emitter,arguments)},f.trigger=function(){return this._emitter.trigger.apply(this._emitter,arguments),this},f.propagateTo=function(){return this._emitter.propagateTo.apply(this._emitter,arguments),this},f.stopPropagatingTo=function(){return this._emitter.stopPropagatingTo.apply(this._emitter,arguments),this},f.add=function(a){this._customEvents[a.name]=a},f.canHandleCustomEvent=function(a){return this._customEvents.hasOwnProperty(a)},f.isHandlingCustomEvent=function(a){return this._customEvents[a]&&this._customEvents[a].active?!0:!1},f._activateCustomEvents=function(a){var b,c,d=a.split(" "),e=d.length;for(c=0;e>c;c++)b=d[c],this._customEvents[b]&&!this._customEvents[b].active&&(this._customEvents[b].initialize(),this._customEvents[b].active=!0)},f._deactivateCustomEvents=function(a){var b;if(a&&0!==a.length){var c=a.split(" "),d=c.length;for(b=0;d>b;b++)this._deactivateCustomEvent(c[b])}else for(b in this._customEvents)this._customEvents.hasOwnProperty(b)&&this._deactivateCustomEvent(b)},f._deactivateCustomEvent=function(a){!this.has(a)&&this._customEvents[a]&&this._customEvents[a].active&&(this._customEvents[a].deinitialize(),this._customEvents[a].active=!1)},f._emitterOn=function(){this._emitter.on.apply(this._emitter,arguments)},f._emitterOnce=function(){this._emitter.once.apply(this._emitter,arguments)},f._emitterOff=function(){this._emitter.off.apply(this._emitter,arguments)},b.exports=e},{"ac-event-emitter":263}],169:[function(a,b,c){"use strict";var d,e=a("ac-event-emitter").EventEmitter,f=function(a){e.call(this),this.optimizers=a,this._events={},this._properties={},this._initialize()};d=f.prototype=new e(null),d.canOptimizeEvent=function(a){return this._events.hasOwnProperty(a)},d.canOptimizeProperty=function(a){return this._properties.hasOwnProperty(a)},d.isOptimizingEvent=function(a){return this._events[a]&&this._events[a].active?!0:!1},d.isOptimizingProperty=function(a){return this._properties[a]&&this._properties[a].active?!0:!1},d.add=function(a){this._setOptimizerEvents(a),this._setOptimizerProperties(a),a.on("update",this._onUpdate,this),a.on("activate",this._onActivate,this),a.on("deactivate",this._onDeactivate,this)},d.get=function(a){return this.isOptimizingProperty(a)?this._properties[a].value:null},d.set=function(a,b){return this._properties[a]?(this._properties[a].value=b,this):!1},d.getOptimizerByEvent=function(a){return this._events[a]?this._events[a]:null},d._initialize=function(){var a;for(a in this.optimizers)this.optimizers.hasOwnProperty(a)&&this.add(this.optimizers[a])},d._onUpdate=function(a){this.set(a.prop,a.val)},d._onActivate=function(a){var b,c=a.propertyNames,d=c.length;for(b=0;d>b;b++)this._properties[c[b]].active=!0},d._onDeactivate=function(a){var b,c=a.propertyNames,d=c.length;for(b=0;d>b;b++)this._properties[c[b]].active=!1},d._setOptimizerEvents=function(a){var b,c=a.eventNames,d=c.length;for(b=0;d>b;b++)this._setOptimizerEvent(c[b],a)},d._setOptimizerEvent=function(a,b){this._events[a]||(this._events[a]=b)},d._setOptimizerProperties=function(a){var b,c=a.propertyNames,d=c.length;for(b=0;d>b;b++)this._setOptimizerProperty(c[b])},d._setOptimizerProperty=function(a){this._properties.hasOwnProperty(a)||(this._properties[a]={},this._properties[a].active=!1,this._properties[a].value=null)},b.exports=f},{"ac-event-emitter":263}],170:[function(a,b,c){"use strict";function d(){this._emitter=new g(window),this._controllers={optimizer:new h(k),customEvent:new i};var a;for(a in j)j.hasOwnProperty(a)&&(this[a]=this._getProperty.bind(this,a),j[a]=j[a].bind(this));this._bindEvents()}var e,f=a("ac-shared-instance").SharedInstance,g=a("ac-dom-emitter").DOMEmitter,h=a("./OptimizerController"),i=a("./CustomEventController"),j=a("./queries/queries"),k=a("./optimizers/optimizers"),l="ac-window-delegate:WindowDelegate",m="2.0.1";e=d.prototype,e.on=function(a,b,c){var d=this._seperateCustomEvents(a);return this._optimizeEvents(d.standardEvents),this._customEventOn(d.customEvents,b,c),this._emitterOn.apply(this,arguments),this},e.once=function(a,b,c){var d=this._seperateCustomEvents(a);return this._optimizeEvents(d.standardEvents),this._customEventOnce(d.customEvents,b,c),this._emitterOnce.apply(this,arguments),this},e.off=function(a,b,c){var d=this._seperateCustomEvents(a),e=!1;if(a||(e=!0),this._customEventOff(d.customEvents,b,c,e),this._emitterOff.apply(this,arguments),e)try{var f;for(f in this._controllers.optimizer._events)this._controllers.optimizer._events.hasOwnProperty(f)&&this._shouldDeoptimizeEvent(f,!0)&&this._deoptimizeEvent(f);this._bindEvents()}catch(g){}return this},e.has=function(a,b,c){return this._emitter.has.apply(this._emitter,arguments)},e.trigger=function(){return this._emitter.trigger.apply(this._emitter,arguments),this},e.propagateTo=function(){return this._emitter.propagateTo.apply(this._emitter,arguments),this},e.stopPropagatingTo=function(){return this._emitter.stopPropagatingTo.apply(this._emitter,arguments),this},e.addOptimizer=function(a){return this._controllers.optimizer.add(a),this},e.addCustomEvent=function(a){return this._controllers.customEvent.add(a),this},e._emitterOn=function(){this._emitter.on.apply(this._emitter,arguments)},e._emitterOnce=function(){this._emitter.once.apply(this._emitter,arguments)},e._emitterOff=function(){this._emitter.off.apply(this._emitter,arguments)},e._onEventUnbound=function(a){var b=a.evt;this._shouldDeoptimizeEvent(b)&&this._deoptimizeEvent(b)},e._customEventOn=function(a,b,c){0!==a.length&&this._controllers.customEvent.on(a.join(" "),b,c)},e._customEventOnce=function(a,b,c){0!==a.length&&this._controllers.customEvent.once(a.join(" "),b,c)},e._customEventOff=function(a,b,c,d){return d||0!==a.length?d&&0===a.length?void this._controllers.customEvent.off():void this._controllers.customEvent.off(a.join(" "),b,c):void 0},e._getProperty=function(a,b){var c=null;return b||(c=this._getOptimizedValue(a)),null===c&&(c=j[a].call(this,b)),c},e._optimizeEvents=function(a){var b,c,d=a.length;for(c=0;d>c;c++)b=a[c],this._shouldOptimizeEvent(b)&&this._optimizeEvent(b)},e._shouldOptimizeEvent=function(a){return this._controllers.optimizer.canOptimizeEvent(a)&&!this._controllers.optimizer.isOptimizingEvent(a)?!0:!1},e._shouldDeoptimizeEvent=function(a,b){return this._controllers.optimizer.isOptimizingEvent(a)&&(b||this._emitter._eventEmitter._events[a].length<=1)?!0:!1},e._optimizeEvent=function(a){var b=this._controllers.optimizer.getOptimizerByEvent(a);b.activate(),this._emitterOn(a,b.callback,b)},e._deoptimizeEvent=function(a){var b=this._controllers.optimizer.getOptimizerByEvent(a);b.deactivate(),this._emitterOff(a,b.callback,b)},e._getOptimizedValue=function(a){return this._controllers.optimizer.get(a)},e._seperateCustomEvents=function(a){var b={customEvents:[],standardEvents:[]};if("string"==typeof a){var c,d,e=a.split(" "),f=e.length;for(d=0;f>d;d++)c=e[d],this._controllers.customEvent.canHandleCustomEvent(c)?b.customEvents.push(c):b.standardEvents.push(c)}return b},e._bindEvents=function(){this._emitter.on("dom-emitter:didoff",this._onEventUnbound,this)},b.exports=f.share(l,m,d)},{"./CustomEventController":168,"./OptimizerController":169,"./optimizers/optimizers":175,"./queries/queries":184,"ac-dom-emitter":163,"ac-shared-instance":165}],171:[function(a,b,c){"use strict";function d(a,b,c){e.call(this),this.name=a,this.active=!1,this._initializeFunc=b,this._deinitializeFunc=c}var e=a("ac-event-emitter").EventEmitter,f=d.prototype=new e(null);f.initialize=function(){return this._initializeFunc&&this._initializeFunc(),this},f.deinitialize=function(){return this._deinitializeFunc&&this._deinitializeFunc(),this},b.exports=d},{"ac-event-emitter":263}],172:[function(a,b,c){"use strict";function d(a,b){e.call(this),this.active=!1,this.eventNames=a.eventNames,this.propertyNames=a.propertyNames,this.options=a.options||{},this.callback=b}var e=a("ac-event-emitter").EventEmitter,f=d.prototype=new e(null);f.update=function(a,b){this.trigger("update",{prop:a,val:b})},f.activate=function(){this.active=!0,this.trigger("activate",this)},f.deactivate=function(){this.active=!1,this.trigger("deactivate",this)},b.exports=d},{"ac-event-emitter":263}],173:[function(a,b,c){"use strict";var d=a("../../WindowDelegateOptimizer"),e=a("../../queries/queries"),f={eventNames:["resize"],propertyNames:["clientWidth","clientHeight","innerWidth","innerHeight"]},g=new d(f,function(a){var b,c=f.propertyNames,d=c.length;for(b=0;d>b;b++)this.update(c[b],e[c[b]](!0))});b.exports=g},{"../../WindowDelegateOptimizer":172,"../../queries/queries":184}],174:[function(a,b,c){"use strict";var d=a("../../WindowDelegateOptimizer"),e=a("../../queries/queries"),f={eventNames:["scroll"],propertyNames:["scrollX","scrollY","maxScrollX","maxScrollY"]},g=new d(f,function(a){var b,c=f.propertyNames,d=c.length;for(b=0;d>b;b++)this.update(c[b],e[c[b]](!0))});b.exports=g},{"../../WindowDelegateOptimizer":172,"../../queries/queries":184}],175:[function(a,b,c){"use strict";var d=a("./events/resize"),e=a("./events/scroll");b.exports=[d,e]},{"./events/resize":173,"./events/scroll":174}],176:[function(a,b,c){"use strict";var d=function(a){return document.documentElement.clientHeight};b.exports=d},{}],177:[function(a,b,c){"use strict";var d=function(a){return document.documentElement.clientWidth};b.exports=d},{}],178:[function(a,b,c){"use strict";var d=function(a){return window.innerHeight||this.clientHeight(a)};b.exports=d},{}],179:[function(a,b,c){"use strict";var d=function(a){return window.innerWidth||this.clientWidth(a)};b.exports=d},{}],180:[function(a,b,c){"use strict";var d=function(a){return document.body.scrollWidth-this.innerWidth()};b.exports=d},{}],181:[function(a,b,c){"use strict";var d=function(a){return document.body.scrollHeight-this.innerHeight()};b.exports=d},{}],182:[function(a,b,c){"use strict";var d=function(a){var b=window.pageXOffset;if(!b){var c=document.documentElement||document.body.parentNode||document.body;b=c.scrollLeft}return b};b.exports=d},{}],183:[function(a,b,c){"use strict";var d=function(a){var b=window.pageYOffset;if(!b){var c=document.documentElement||document.body.parentNode||document.body;b=c.scrollTop}return b};b.exports=d},{}],184:[function(a,b,c){"use strict";var d=a("./methods/innerWidth"),e=a("./methods/innerHeight"),f=a("./methods/clientWidth"),g=a("./methods/clientHeight"),h=a("./methods/scrollX"),i=a("./methods/scrollY"),j=a("./methods/maxScrollX"),k=a("./methods/maxScrollY");b.exports={innerWidth:d,innerHeight:e,clientWidth:f,clientHeight:g,scrollX:h,scrollY:i,maxScrollX:j,maxScrollY:k}},{"./methods/clientHeight":176,"./methods/clientWidth":177,"./methods/innerHeight":178,"./methods/innerWidth":179,"./methods/maxScrollX":180,"./methods/maxScrollY":181,"./methods/scrollX":182,"./methods/scrollY":183}],185:[function(a,b,c){"use strict";b.exports=function(a){var b=a.getBoundingClientRect();return{top:b.top,right:b.right,bottom:b.bottom,left:b.left,width:b.width||b.right-b.left,height:b.height||b.bottom-b.top}}},{}],186:[function(a,b,c){"use strict";b.exports={createBezier:a("./ac-easing/createBezier"),createPredefined:a("./ac-easing/createPredefined"),createStep:a("./ac-easing/createStep"),Ease:a("./ac-easing/Ease")}},{"./ac-easing/Ease":187,"./ac-easing/createBezier":188,"./ac-easing/createPredefined":189,"./ac-easing/createStep":190}],187:[function(a,b,c){"use strict";function d(a,b){if("function"!=typeof a)throw new TypeError(e);this.easingFunction=a,this.cssString=b||null}var e="Ease expects an easing function.",f=d.prototype;f.getValue=function(a){return this.easingFunction(a,0,1,1)},b.exports=d},{}],188:[function(a,b,c){"use strict";var d=a("./Ease"),e=a("./helpers/KeySpline"),f="Bezier curve expects exactly four (4) numbers. Given: ";b.exports=function(a,b,c,g){var h=Array.prototype.slice.call(arguments),i=h.every(function(a){return"number"==typeof a});if(4!==h.length||!i)throw new TypeError(f+h);var j=new e(a,b,c,g),k=function(a,b,c,d){return j.get(a/d)*c+b},l="cubic-bezier("+h.join(", ")+")";return new d(k,l)}},{"./Ease":187,"./helpers/KeySpline":191}],189:[function(a,b,c){"use strict";var d=a("./createStep"),e=a("./helpers/cssAliases"),f=a("./helpers/easingFunctions"),g=a("./Ease"),h='Easing function "%TYPE%" not recognized among the following: '+Object.keys(f).join(", ");b.exports=function(a){var b;if("step-start"===a)return d(1,"start");if("step-end"===a)return d(1,"end");if(b=f[a],!b)throw new Error(h.replace("%TYPE%",a));return new g(b,e[a])}},{"./Ease":187,"./createStep":190,"./helpers/cssAliases":192,"./helpers/easingFunctions":193}],190:[function(a,b,c){"use strict";var d=a("./Ease"),e="Step function expects a numeric value greater than zero. Given: ",f='Step function direction must be either "start" or "end" (default). Given: ';b.exports=function(a,b){if(b=b||"end","number"!=typeof a||1>a)throw new TypeError(e+a);if("start"!==b&&"end"!==b)throw new TypeError(f+b);var c=function(c,d,e,f){var g=e/a,h=Math["start"===b?"floor":"ceil"](c/f*a);return d+g*h},g="steps("+a+", "+b+")";return new d(c,g)}},{"./Ease":187}],191:[function(a,b,c){/*! MIT License
 *
 * KeySpline - use bezier curve for transition easing function
 * Copyright (c) 2012 Gaetan Renaudeau <renaudeau.gaetan@gmail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE.
 */
function d(a,b,c,d){function e(a,b){return 1-3*b+3*a}function f(a,b){return 3*b-6*a}function g(a){return 3*a}function h(a,b,c){return((e(b,c)*a+f(b,c))*a+g(b))*a}function i(a,b,c){return 3*e(b,c)*a*a+2*f(b,c)*a+g(b)}function j(b){for(var d=b,e=0;4>e;++e){var f=i(d,a,c);if(0===f)return d;var g=h(d,a,c)-b;d-=g/f}return d}this.get=function(e){return a===b&&c===d?e:h(j(e),b,d)}}b.exports=d},{}],192:[function(a,b,c){"use strict";var d={linear:"cubic-bezier(0, 0, 1, 1)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)","ease-in-cubic":"cubic-bezier(0.55, 0.055, 0.675, 0.19)","ease-out-cubic":"cubic-bezier(0.215, 0.61, 0.355, 1)","ease-in-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1)","ease-in-quad":"cubic-bezier(0.55, 0.085, 0.68, 0.53)","ease-out-quad":"cubic-bezier(0.25, 0.46, 0.45, 0.94)","ease-in-out-quad":"cubic-bezier(0.455, 0.03, 0.515, 0.955)","ease-in-quart":"cubic-bezier(0.895, 0.03, 0.685, 0.22)","ease-out-quart":"cubic-bezier(0.165, 0.84, 0.44, 1)","ease-in-out-quart":"cubic-bezier(0.77, 0, 0.175, 1)","ease-in-quint":"cubic-bezier(0.755, 0.05, 0.855, 0.06)","ease-out-quint":"cubic-bezier(0.23, 1, 0.32, 1)","ease-in-out-quint":"cubic-bezier(0.86, 0, 0.07, 1)","ease-in-sine":"cubic-bezier(0.47, 0, 0.745, 0.715)","ease-out-sine":"cubic-bezier(0.39, 0.575, 0.565, 1)","ease-in-out-sine":"cubic-bezier(0.445, 0.05, 0.55, 0.95)","ease-in-expo":"cubic-bezier(0.95, 0.05, 0.795, 0.035)","ease-out-expo":"cubic-bezier(0.19, 1, 0.22, 1)","ease-in-out-expo":"cubic-bezier(1, 0, 0, 1)","ease-in-circ":"cubic-bezier(0.6, 0.04, 0.98, 0.335)","ease-out-circ":"cubic-bezier(0.075, 0.82, 0.165, 1)","ease-in-out-circ":"cubic-bezier(0.785, 0.135, 0.15, 0.86)","ease-in-back":"cubic-bezier(0.6, -0.28, 0.735, 0.045)","ease-out-back":"cubic-bezier(0.175, 0.885, 0.32, 1.275)","ease-in-out-back":"cubic-bezier(0.68, -0.55, 0.265, 1.55)"};d.easeIn=d["ease-in"],d.easeOut=d["ease-out"],d.easeInOut=d["ease-in-out"],d.easeInCubic=d["ease-in-cubic"],d.easeOutCubic=d["ease-out-cubic"],d.easeInOutCubic=d["ease-in-out-cubic"],d.easeInQuad=d["ease-in-quad"],d.easeOutQuad=d["ease-out-quad"],d.easeInOutQuad=d["ease-in-out-quad"],d.easeInQuart=d["ease-in-quart"],d.easeOutQuart=d["ease-out-quart"],d.easeInOutQuart=d["ease-in-out-quart"],d.easeInQuint=d["ease-in-quint"],d.easeOutQuint=d["ease-out-quint"],d.easeInOutQuint=d["ease-in-out-quint"],d.easeInSine=d["ease-in-sine"],d.easeOutSine=d["ease-out-sine"],d.easeInOutSine=d["ease-in-out-sine"],d.easeInExpo=d["ease-in-expo"],d.easeOutExpo=d["ease-out-expo"],d.easeInOutExpo=d["ease-in-out-expo"],d.easeInCirc=d["ease-in-circ"],d.easeOutCirc=d["ease-out-circ"],d.easeInOutCirc=d["ease-in-out-circ"],d.easeInBack=d["ease-in-back"],d.easeOutBack=d["ease-out-back"],d.easeInOutBack=d["ease-in-out-back"],b.exports=d},{}],193:[function(a,b,c){"use strict";var d=a("../createBezier"),e=d(.25,.1,.25,1).easingFunction,f=d(.42,0,1,1).easingFunction,g=d(0,0,.58,1).easingFunction,h=d(.42,0,.58,1).easingFunction,i=function(a,b,c,d){return c*a/d+b},j=function(a,b,c,d){return c*(a/=d)*a+b},k=function(a,b,c,d){return-c*(a/=d)*(a-2)+b},l=function(a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},m=function(a,b,c,d){return c*(a/=d)*a*a+b},n=function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},o=function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},p=function(a,b,c,d){return c*(a/=d)*a*a*a+b},q=function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},r=function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},s=function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},t=function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},u=function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},v=function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},w=function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},x=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},y=function(a,b,c,d){return 0===a?b:c*Math.pow(2,10*(a/d-1))+b},z=function(a,b,c,d){return a===d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},A=function(a,b,c,d){return 0===a?b:a===d?b+c:(a/=d/2)<1?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},B=function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},C=function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},D=function(a,b,c,d){return(a/=d/2)<1?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},E=function(a,b,c,d){var e=1.70158,f=0,g=c;return 0===a?b:1===(a/=d)?b+c:(f||(f=.3*d),g<Math.abs(c)?(g=c,e=f/4):e=f/(2*Math.PI)*Math.asin(c/g),-(g*Math.pow(2,10*(a-=1))*Math.sin(2*(a*d-e)*Math.PI/f))+b)},F=function(a,b,c,d){var e=1.70158,f=0,g=c;return 0===a?b:1===(a/=d)?b+c:(f||(f=.3*d),g<Math.abs(c)?(g=c,e=f/4):e=f/(2*Math.PI)*Math.asin(c/g),g*Math.pow(2,-10*a)*Math.sin(2*(a*d-e)*Math.PI/f)+c+b)},G=function(a,b,c,d){var e=1.70158,f=0,g=c;return 0===a?b:2===(a/=d/2)?b+c:(f||(f=.3*d*1.5),g<Math.abs(c)?(g=c,e=f/4):e=f/(2*Math.PI)*Math.asin(c/g),1>a?-.5*g*Math.pow(2,10*(a-=1))*Math.sin(2*(a*d-e)*Math.PI/f)+b:g*Math.pow(2,-10*(a-=1))*Math.sin(2*(a*d-e)*Math.PI/f)*.5+c+b)},H=function(a,b,c,d,e){return void 0===e&&(e=1.70158),c*(a/=d)*a*((e+1)*a-e)+b},I=function(a,b,c,d,e){return void 0===e&&(e=1.70158),c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},J=function(a,b,c,d,e){return void 0===e&&(e=1.70158),(a/=d/2)<1?c/2*a*a*(((e*=1.525)+1)*a-e)+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b},K=function(a,b,c,d){return(a/=d)<1/2.75?7.5625*c*a*a+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},L=function(a,b,c,d){return c-K(d-a,0,c,d)+b},M=function(a,b,c,d){return d/2>a?.5*L(2*a,0,c,d)+b:.5*K(2*a-d,0,c,d)+.5*c+b};b.exports={linear:i,ease:e,easeIn:f,"ease-in":f,easeOut:g,"ease-out":g,easeInOut:h,"ease-in-out":h,easeInCubic:m,"ease-in-cubic":m,easeOutCubic:n,"ease-out-cubic":n,easeInOutCubic:o,"ease-in-out-cubic":o,easeInQuad:j,"ease-in-quad":j,easeOutQuad:k,"ease-out-quad":k,easeInOutQuad:l,"ease-in-out-quad":l,easeInQuart:p,"ease-in-quart":p,easeOutQuart:q,"ease-out-quart":q,easeInOutQuart:r,"ease-in-out-quart":r,easeInQuint:s,"ease-in-quint":s,easeOutQuint:t,"ease-out-quint":t,easeInOutQuint:u,"ease-in-out-quint":u,easeInSine:v,"ease-in-sine":v,easeOutSine:w,"ease-out-sine":w,easeInOutSine:x,"ease-in-out-sine":x,easeInExpo:y,"ease-in-expo":y,easeOutExpo:z,"ease-out-expo":z,easeInOutExpo:A,"ease-in-out-expo":A,easeInCirc:B,"ease-in-circ":B,easeOutCirc:C,"ease-out-circ":C,easeInOutCirc:D,"ease-in-out-circ":D,easeInBack:H,"ease-in-back":H,easeOutBack:I,"ease-out-back":I,easeInOutBack:J,"ease-in-out-back":J,easeInElastic:E,"ease-in-elastic":E,easeOutElastic:F,"ease-out-elastic":F,easeInOutElastic:G,"ease-in-out-elastic":G,easeInBounce:L,"ease-in-bounce":L,easeOutBounce:K,"ease-out-bounce":K,easeInOutBounce:M,"ease-in-out-bounce":M}},{"../createBezier":188}],194:[function(a,b,c){"use strict";var d=a("./helpers/globals"),e=a("ac-function/once"),f=function(){var a=d.getDocument(),b=a.createElement("canvas");return!("function"!=typeof b.getContext||!b.getContext("2d"))};b.exports=e(f),b.exports.original=f},{"./helpers/globals":202,"ac-function/once":211}],195:[function(a,b,c){"use strict";function d(){return!f()||"iOS"===e.os&&e.version>=8||"Chrome"===e.name}var e=a("ac-browser"),f=a("./touchAvailable").original,g=a("ac-function/once");b.exports=g(d),b.exports.original=d},{"./touchAvailable":226,"ac-browser":17,"ac-function/once":211}],196:[function(a,b,c){"use strict";function d(){var a=!1,b=e.getDocument(),c=e.getNavigator();try{"cookie"in b&&c.cookieEnabled&&(b.cookie="ac_feature_cookie=1",a=-1!==b.cookie.indexOf("ac_feature_cookie"),b.cookie="ac_feature_cookie=; expires=Thu, 01 Jan 1970 00:00:01 GMT;")}catch(d){}return a}var e=a("./helpers/globals"),f=a("ac-function/once");b.exports=f(d),b.exports.original=d},{"./helpers/globals":202,"ac-function/once":211}],197:[function(a,b,c){"use strict";function d(){var a=["linear-gradient(to bottom right, #9f9, white)","linear-gradient(top left, #9f9, white)","gradient(linear, left top, right bottom, from(#9f9), to(white))"];return a.some(function(a){return!!e("background-image",a)})}var e=a("ac-prefixer/getStyleValue"),f=a("ac-function/once");b.exports=f(d),b.exports.original=d},{"ac-function/once":211,"ac-prefixer/getStyleValue":214}],198:[function(a,b,c){"use strict";function d(a,b){return"undefined"!=typeof b?!!e(a,b):!!f(a)}var e=a("ac-prefixer/getStyleValue"),f=a("ac-prefixer/getStyleProperty"),g=a("ac-function/memoize");b.exports=g(d),b.exports.original=d},{"ac-function/memoize":210,"ac-prefixer/getStyleProperty":213,"ac-prefixer/getStyleValue":214}],199:[function(a,b,c){"use strict";function d(){return!!e("margin","1vw 1vh")}var e=a("ac-prefixer/getStyleValue"),f=a("ac-function/once");b.exports=f(d),b.exports.original=d},{"ac-function/once":211,"ac-prefixer/getStyleValue":214}],200:[function(a,b,c){"use strict";function d(a,b){var c,d=e.getDocument();return b=b||"div",c=d.createElement(b),a in c}var e=a("./helpers/globals"),f=a("ac-function/memoize");b.exports=f(d),b.exports.original=d},{"./helpers/globals":202,"ac-function/memoize":210}],201:[function(a,b,c){"use strict";function d(a,b){return!!e(a,b)}var e=a("ac-prefixer/getEventType"),f=a("ac-function/memoize");b.exports=f(d),b.exports.original=d},{"ac-function/memoize":210,"ac-prefixer/getEventType":212}],202:[function(a,b,c){"use strict";b.exports={getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator}}},{}],203:[function(a,b,c){"use strict";b.exports={canvasAvailable:a("./canvasAvailable"),continuousScrollEventsAvailable:a("./continuousScrollEventsAvailable"),cookiesAvailable:a("./cookiesAvailable"),cssLinearGradientAvailable:a("./cssLinearGradientAvailable"),cssPropertyAvailable:a("./cssPropertyAvailable"),cssViewportUnitsAvailable:a("./cssViewportUnitsAvailable"),elementAttributeAvailable:a("./elementAttributeAvailable"),eventTypeAvailable:a("./eventTypeAvailable"),isDesktop:a("./isDesktop"),isHandheld:a("./isHandheld"),isRetina:a("./isRetina"),isTablet:a("./isTablet"),localStorageAvailable:a("./localStorageAvailable"),mediaElementsAvailable:a("./mediaElementsAvailable"),sessionStorageAvailable:a("./sessionStorageAvailable"),svgAvailable:a("./svgAvailable"),threeDTransformsAvailable:a("./threeDTransformsAvailable"),touchAvailable:a("./touchAvailable"),webGLAvailable:a("./webGLAvailable")}},{"./canvasAvailable":194,"./continuousScrollEventsAvailable":195,"./cookiesAvailable":196,"./cssLinearGradientAvailable":197,"./cssPropertyAvailable":198,"./cssViewportUnitsAvailable":199,"./elementAttributeAvailable":200,"./eventTypeAvailable":201,"./isDesktop":204,"./isHandheld":205,"./isRetina":206,"./isTablet":207,"./localStorageAvailable":208,"./mediaElementsAvailable":209,"./sessionStorageAvailable":223,"./svgAvailable":224,"./threeDTransformsAvailable":225,"./touchAvailable":226,"./webGLAvailable":227}],204:[function(a,b,c){"use strict";function d(){var a=f.getWindow();return!e()&&!a.orientation}var e=a("./touchAvailable").original,f=a("./helpers/globals"),g=a("ac-function/once");b.exports=g(d),b.exports.original=d},{"./helpers/globals":202,"./touchAvailable":226,"ac-function/once":211}],205:[function(a,b,c){"use strict";function d(){return!e()&&!f()}var e=a("./isDesktop").original,f=a("./isTablet").original,g=a("ac-function/once");b.exports=g(d),b.exports.original=d},{"./isDesktop":204,"./isTablet":207,"ac-function/once":211}],206:[function(a,b,c){"use strict";var d=a("./helpers/globals");b.exports=function(){var a=d.getWindow();return"devicePixelRatio"in a&&a.devicePixelRatio>=1.5}},{"./helpers/globals":202}],207:[function(a,b,c){"use strict";function d(){var a=f.getWindow(),b=a.screen.width;return a.orientation&&a.screen.height<b&&(b=a.screen.height),!e()&&b>=600}var e=a("./isDesktop").original,f=a("./helpers/globals"),g=a("ac-function/once");b.exports=g(d),b.exports.original=d},{"./helpers/globals":202,"./isDesktop":204,"ac-function/once":211}],208:[function(a,b,c){"use strict";function d(){var a=e.getWindow(),b=!1;try{b=!(!a.localStorage||null===a.localStorage.non_existent)}catch(c){}return b}var e=a("./helpers/globals"),f=a("ac-function/once");b.exports=f(d),b.exports.original=d},{"./helpers/globals":202,"ac-function/once":211}],209:[function(a,b,c){"use strict";function d(){var a=e.getWindow();return"HTMLMediaElement"in a}var e=a("./helpers/globals"),f=a("ac-function/once");b.exports=f(d),b.exports.original=d},{"./helpers/globals":202,"ac-function/once":211}],210:[function(a,b,c){"use strict";var d=function(){var a,b="";for(a=0;a<arguments.length;a++)a>0&&(b+=","),b+=arguments[a];return b};b.exports=function(a,b){b=b||d;var c=function(){var d=arguments,e=b.apply(this,d);return e in c.cache||(c.cache[e]=a.apply(this,d)),c.cache[e]};return c.cache={},c}},{}],211:[function(a,b,c){"use strict";b.exports=function(a){var b;return function(){return"undefined"==typeof b&&(b=a.apply(this,arguments)),b}}},{}],212:[function(a,b,c){"use strict";var d=a("./utils/eventTypeAvailable"),e=a("./shared/camelCasedEventTypes"),f=a("./shared/prefixHelper"),g={};b.exports=function(a,b){var c,h,i;if(b=b||"div",a=a.toLowerCase(),b in g||(g[b]={}),h=g[b],a in h)return h[a];if(d(a,b))return h[a]=a;if(a in e)for(i=0;i<e[a].length;i++)if(c=e[a][i],d(c.toLowerCase(),b))return h[a]=c;for(i=0;i<f.evt.length;i++)if(c=f.evt[i]+a,d(c,b))return f.reduce(i),h[a]=c;return h[a]=!1}},{"./shared/camelCasedEventTypes":215,"./shared/prefixHelper":217,"./utils/eventTypeAvailable":220}],213:[function(a,b,c){b.exports=a(86)},{"./shared/getStyleTestElement":216,"./shared/prefixHelper":217,"./shared/stylePropertyCache":218,"./utils/toCSS":221,"./utils/toDOM":222}],214:[function(a,b,c){b.exports=a(87)},{"./getStyleProperty":213,"./shared/prefixHelper":217,"./shared/stylePropertyCache":218,"./shared/styleValueAvailable":219}],215:[function(a,b,c){"use strict";b.exports={transitionend:["webkitTransitionEnd","MSTransitionEnd"],animationstart:["webkitAnimationStart","MSAnimationStart"],animationend:["webkitAnimationEnd","MSAnimationEnd"],animationiteration:["webkitAnimationIteration","MSAnimationIteration"],fullscreenchange:["MSFullscreenChange"],fullscreenerror:["MSFullscreenError"]}},{}],216:[function(a,b,c){b.exports=a(88)},{}],217:[function(a,b,c){b.exports=a(89)},{}],218:[function(a,b,c){b.exports=a(90)},{}],219:[function(a,b,c){b.exports=a(91)},{"./getStyleTestElement":216,"./stylePropertyCache":218}],220:[function(a,b,c){"use strict";var d={window:window,document:document};b.exports=function(a,b){var c;return a="on"+a,b in d||(d[b]=document.createElement(b)),c=d[b],a in c?!0:"setAttribute"in c?(c.setAttribute(a,"return;"),"function"==typeof c[a]):!1}},{}],221:[function(a,b,c){b.exports=a(93)},{}],222:[function(a,b,c){b.exports=a(94)},{}],223:[function(a,b,c){"use strict";function d(){var a=e.getWindow(),b=!1;try{"sessionStorage"in a&&"function"==typeof a.sessionStorage.setItem&&(a.sessionStorage.setItem("ac_feature","test"),b=!0,a.sessionStorage.removeItem("ac_feature","test"))}catch(c){}return b}var e=a("./helpers/globals"),f=a("ac-function/once");b.exports=f(d),b.exports.original=d},{"./helpers/globals":202,"ac-function/once":211}],224:[function(a,b,c){"use strict";function d(){var a=e.getDocument();return!!a.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}var e=a("./helpers/globals"),f=a("ac-function/once");b.exports=f(d),b.exports.original=d},{"./helpers/globals":202,"ac-function/once":211}],225:[function(a,b,c){"use strict";function d(){return!(!e("perspective","1px")||!e("transform","translateZ(0)"))}var e=a("ac-prefixer/getStyleValue"),f=a("ac-function/once");b.exports=f(d),b.exports.original=d},{"ac-function/once":211,"ac-prefixer/getStyleValue":214}],226:[function(a,b,c){"use strict";function d(){var a=e.getWindow(),b=e.getDocument(),c=e.getNavigator();return!!("ontouchstart"in a||a.DocumentTouch&&b instanceof a.DocumentTouch||c.maxTouchPoints>0||c.msMaxTouchPoints>0)}var e=a("./helpers/globals"),f=a("ac-function/once");b.exports=f(d),b.exports.original=d},{"./helpers/globals":202,"ac-function/once":211}],227:[function(a,b,c){"use strict";function d(){var a=e.getDocument(),b=a.createElement("canvas");return!("function"!=typeof b.getContext||!b.getContext("webgl"))}var e=a("./helpers/globals"),f=a("ac-function/once");b.exports=f(d),b.exports.original=d},{"./helpers/globals":202,"ac-function/once":211}],228:[function(a,b,c){"use strict";var d=a("./extend"),e=Object.prototype.hasOwnProperty,f=function(a,b){var c;for(c in b)e.call(b,c)&&(null===b[c]?a[c]=null:"object"==typeof b[c]?(a[c]=Array.isArray(b[c])?[]:{},f(a[c],b[c])):a[c]=b[c]);return a};b.exports=function(a,b){return b?f({},a):d({},a)}},{"./extend":231}],229:[function(a,b,c){"use strict";var d=function(){};b.exports=function(a){if(arguments.length>1)throw new Error("Second argument not supported");if(null===a||"object"!=typeof a)throw new TypeError("Object prototype may only be an Object.");return"function"==typeof Object.create?Object.create(a):(d.prototype=a,new d)}},{}],230:[function(a,b,c){"use strict";var d=a("./extend");b.exports=function(a,b){if("object"!=typeof a)throw new TypeError("defaults: must provide a defaults object");if(b=b||{},"object"!=typeof b)throw new TypeError("defaults: options must be a typeof object");return d({},a,b)}},{"./extend":231}],231:[function(a,b,c){"use strict";var d=Object.prototype.hasOwnProperty;b.exports=function(){var a,b;return a=arguments.length<2?[{},arguments[0]]:[].slice.call(arguments),b=a.shift(),a.forEach(function(a){if(null!=a)for(var c in a)d.call(a,c)&&(b[c]=a[c])}),b}},{}],232:[function(a,b,c){"use strict";var d=Object.prototype.hasOwnProperty;b.exports=function(a){if(Object.getPrototypeOf)return Object.getPrototypeOf(a);if("object"!=typeof a)throw new Error("Requested prototype of a value that is not an object.");if("object"==typeof this.__proto__)return a.__proto__;var b,c=a.constructor;if(d.call(a,"constructor")){if(b=c,!delete a.constructor)return null;c=a.constructor,a.constructor=b}return c?c.prototype:null}},{}],233:[function(a,b,c){"use strict";b.exports={clone:a("./clone"),create:a("./create"),defaults:a("./defaults"),extend:a("./extend"),getPrototypeOf:a("./getPrototypeOf"),isDate:a("./isDate"),isEmpty:a("./isEmpty"),isRegExp:a("./isRegExp"),toQueryParameters:a("./toQueryParameters")}},{"./clone":228,"./create":229,"./defaults":230,"./extend":231,"./getPrototypeOf":232,"./isDate":234,"./isEmpty":235,"./isRegExp":236,"./toQueryParameters":238}],234:[function(a,b,c){"use strict";b.exports=function(a){return"[object Date]"===Object.prototype.toString.call(a)}},{}],235:[function(a,b,c){"use strict";var d=Object.prototype.hasOwnProperty;b.exports=function(a){var b;if("object"!=typeof a)throw new TypeError("ac-base.Object.isEmpty : Invalid parameter - expected object");for(b in a)if(d.call(a,b))return!1;return!0}},{}],236:[function(a,b,c){"use strict";b.exports=function(a){return window.RegExp?a instanceof RegExp:!1}},{}],237:[function(a,b,c){function d(a,b){if(0==a[b].length)return a[b]={};var c={};for(var d in a[b])q.call(a[b],d)&&(c[d]=a[b][d]);return a[b]=c,c}function e(a,b,c,f){var g=a.shift();if(!q.call(Object.prototype,c))if(g){var h=b[c]=b[c]||[];"]"==g?s(h)?""!=f&&h.push(f):"object"==typeof h?h[t(h).length]=f:h=b[c]=[b[c],f]:~r(g,"]")?(g=g.substr(0,g.length-1),!w.test(g)&&s(h)&&(h=d(b,c)),e(a,h,g,f)):(!w.test(g)&&s(h)&&(h=d(b,c)),e(a,h,g,f))}else s(b[c])?b[c].push(f):"object"==typeof b[c]?b[c]=f:"undefined"==typeof b[c]?b[c]=f:b[c]=[b[c],f]}function f(a,b,c){if(~r(b,"]")){var d=b.split("[");d.length;e(d,a,"base",c)}else{if(!w.test(b)&&s(a.base)){var f={};for(var g in a.base)f[g]=a.base[g];a.base=f}m(a.base,b,c)}return a}function g(a){if("object"!=typeof a)return a;if(s(a)){var b=[];for(var c in a)q.call(a,c)&&b.push(a[c]);return b}for(var d in a)a[d]=g(a[d]);return a}function h(a){var b={base:{}};return u(t(a),function(c){f(b,c,a[c])}),g(b.base)}function i(a){var b=v(String(a).split("&"),function(a,b){var c=r(b,"="),d=n(b),e=b.substr(0,d||c),g=b.substr(d||c,b.length),g=g.substr(r(g,"=")+1,g.length);return""==e&&(e=b,g=""),""==e?a:f(a,o(e),o(g))},{base:{}}).base;return g(b)}function j(a,b){if(!b)throw new TypeError("stringify expects an object");return b+"="+encodeURIComponent(a)}function k(a,b){var c=[];if(!b)throw new TypeError("stringify expects an object");for(var d=0;d<a.length;d++)c.push(x(a[d],b+"["+d+"]"));return c.join("&")}function l(a,b){for(var c,d=[],e=t(a),f=0,g=e.length;g>f;++f)c=e[f],""!=c&&(null==a[c]?d.push(encodeURIComponent(c)+"="):d.push(x(a[c],b?b+"["+encodeURIComponent(c)+"]":encodeURIComponent(c))));return d.join("&")}function m(a,b,c){var d=a[b];q.call(Object.prototype,b)||(void 0===d?a[b]=c:s(d)?d.push(c):a[b]=[d,c])}function n(a){for(var b,c,d=a.length,e=0;d>e;++e)if(c=a[e],"]"==c&&(b=!1),"["==c&&(b=!0),"="==c&&!b)return e}function o(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(b){return a}}var p=Object.prototype.toString,q=Object.prototype.hasOwnProperty,r="function"==typeof Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},s=Array.isArray||function(a){return"[object Array]"==p.call(a)},t=Object.keys||function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},u="function"==typeof Array.prototype.forEach?function(a,b){return a.forEach(b)}:function(a,b){for(var c=0;c<a.length;c++)b(a[c])},v=function(a,b,c){if("function"==typeof a.reduce)return a.reduce(b,c);for(var d=c,e=0;e<a.length;e++)d=b(d,a[e]);return d},w=/^[0-9]+$/;c.parse=function(a){return null==a||""==a?{}:"object"==typeof a?h(a):i(a)};var x=c.stringify=function(a,b){return s(a)?k(a,b):"[object Object]"==p.call(a)?l(a,b):"string"==typeof a?j(a,b):b+"="+encodeURIComponent(String(a))}},{}],238:[function(a,b,c){"use strict";var d=a("qs");b.exports=function(a){if("object"!=typeof a)throw new TypeError("toQueryParameters error: argument is not an object");return d.stringify(a)}},{qs:237}],239:[function(a,b,c){!function(){"use strict";var a={};"undefined"==typeof c?"function"==typeof define&&"object"==typeof define.amd&&define.amd?(a.exports={},define(function(){return a.exports})):a.exports=window:a.exports=c,function(a){if(!b)var b=1e-6;if(!c)var c="undefined"!=typeof Float32Array?Float32Array:Array;var d={};d.setMatrixArrayType=function(a){c=a},"undefined"!=typeof a&&(a.glMatrix=d);var e={};e.create=function(){var a=new c(2);return a[0]=0,a[1]=0,a},e.clone=function(a){var b=new c(2);return b[0]=a[0],b[1]=a[1],b},e.fromValues=function(a,b){var d=new c(2);return d[0]=a,d[1]=b,d},e.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a},e.set=function(a,b,c){return a[0]=b,a[1]=c,a},e.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a},e.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a},e.sub=e.subtract,e.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},e.mul=e.multiply,e.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},e.div=e.divide,e.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a},e.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a},e.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a},e.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.sqrt(c*c+d*d)},e.dist=e.distance,e.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d},e.sqrDist=e.squaredDistance,e.length=function(a){var b=a[0],c=a[1];return Math.sqrt(b*b+c*c)},e.len=e.length,e.squaredLength=function(a){var b=a[0],c=a[1];return b*b+c*c},e.sqrLen=e.squaredLength,e.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a},e.normalize=function(a,b){var c=b[0],d=b[1],e=c*c+d*d;return e>0&&(e=1/Math.sqrt(e),a[0]=b[0]*e,a[1]=b[1]*e),a},e.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]},e.cross=function(a,b,c){var d=b[0]*c[1]-b[1]*c[0];return a[0]=a[1]=0,a[2]=d,a},e.lerp=function(a,b,c,d){var e=b[0],f=b[1];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a},e.transformMat2=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e,a[1]=c[1]*d+c[3]*e,a},e.transformMat2d=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a},e.transformMat3=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[3]*e+c[6],a[1]=c[1]*d+c[4]*e+c[7],a},e.transformMat4=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[4]*e+c[12],a[1]=c[1]*d+c[5]*e+c[13],a},e.forEach=function(){var a=e.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=2),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],f(a,a,g),b[h]=a[0],b[h+1]=a[1];return b}}(),e.str=function(a){return"vec2("+a[0]+", "+a[1]+")"},"undefined"!=typeof a&&(a.vec2=e);var f={};f.create=function(){var a=new c(3);return a[0]=0,a[1]=0,a[2]=0,a},f.clone=function(a){var b=new c(3);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b},f.fromValues=function(a,b,d){var e=new c(3);return e[0]=a,e[1]=b,e[2]=d,e},f.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a},f.set=function(a,b,c,d){return a[0]=b,a[1]=c,a[2]=d,a},f.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a},f.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a},f.sub=f.subtract,f.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a},f.mul=f.multiply,f.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a},f.div=f.divide,f.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a},f.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a},f.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a},f.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return Math.sqrt(c*c+d*d+e*e)},f.dist=f.distance,f.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return c*c+d*d+e*e},f.sqrDist=f.squaredDistance,f.length=function(a){var b=a[0],c=a[1],d=a[2];return Math.sqrt(b*b+c*c+d*d)},f.len=f.length,f.squaredLength=function(a){var b=a[0],c=a[1],d=a[2];return b*b+c*c+d*d},f.sqrLen=f.squaredLength,f.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a},f.normalize=function(a,b){var c=b[0],d=b[1],e=b[2],f=c*c+d*d+e*e;return f>0&&(f=1/Math.sqrt(f),a[0]=b[0]*f,a[1]=b[1]*f,a[2]=b[2]*f),a},f.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},f.cross=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2];return a[0]=e*i-f*h,a[1]=f*g-d*i,a[2]=d*h-e*g,a},f.lerp=function(a,b,c,d){var e=b[0],f=b[1],g=b[2];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a},f.transformMat4=function(a,b,c){var d=b[0],e=b[1],f=b[2];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12],a[1]=c[1]*d+c[5]*e+c[9]*f+c[13],a[2]=c[2]*d+c[6]*e+c[10]*f+c[14],a},f.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2],j=c[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,m=j*f+g*e-h*d,n=-g*d-h*e-i*f;return a[0]=k*j+n*-g+l*-i-m*-h,a[1]=l*j+n*-h+m*-g-k*-i,a[2]=m*j+n*-i+k*-h-l*-g,a},f.forEach=function(){var a=f.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=3),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2];return b}}(),f.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"},"undefined"!=typeof a&&(a.vec3=f);var g={};g.create=function(){var a=new c(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a},g.clone=function(a){var b=new c(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},g.fromValues=function(a,b,d,e){var f=new c(4);return f[0]=a,f[1]=b,f[2]=d,f[3]=e,f},g.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},g.set=function(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a},g.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a},g.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a},g.sub=g.subtract,g.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a[3]=b[3]*c[3],a},g.mul=g.multiply,g.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a[3]=b[3]/c[3],a},g.div=g.divide,g.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a[3]=Math.min(b[3],c[3]),a},g.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a[3]=Math.max(b[3],c[3]),a},g.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a},g.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return Math.sqrt(c*c+d*d+e*e+f*f)},g.dist=g.distance,g.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return c*c+d*d+e*e+f*f},g.sqrDist=g.squaredDistance,g.length=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return Math.sqrt(b*b+c*c+d*d+e*e)},g.len=g.length,g.squaredLength=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return b*b+c*c+d*d+e*e},g.sqrLen=g.squaredLength,g.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=-b[3],a},g.normalize=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f;return g>0&&(g=1/Math.sqrt(g),a[0]=b[0]*g,a[1]=b[1]*g,a[2]=b[2]*g,a[3]=b[3]*g),a},g.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},g.lerp=function(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=b[3];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a[3]=h+d*(c[3]-h),a},g.transformMat4=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*g,a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*g,a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*g,a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*g,a},g.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2],j=c[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,m=j*f+g*e-h*d,n=-g*d-h*e-i*f;return a[0]=k*j+n*-g+l*-i-m*-h,a[1]=l*j+n*-h+m*-g-k*-i,a[2]=m*j+n*-i+k*-h-l*-g,a},g.forEach=function(){var a=g.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=4),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],a[3]=b[h+3],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2],b[h+3]=a[3];return b}}(),g.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.vec4=g);var h={};new Float32Array([1,0,0,1]);h.create=function(){var a=new c(4);return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a},h.clone=function(a){var b=new c(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},h.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},h.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a},h.transpose=function(a,b){if(a===b){var c=b[1];a[1]=b[2],a[2]=c}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a},h.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*f-e*d;return g?(g=1/g,a[0]=f*g,a[1]=-d*g,a[2]=-e*g,a[3]=c*g,a):null},h.adjoint=function(a,b){var c=b[0];return a[0]=b[3],a[1]=-b[1],a[2]=-b[2],a[3]=c,a},h.determinant=function(a){return a[0]*a[3]-a[2]*a[1]},h.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*h+e*j,a[1]=d*i+e*k,a[2]=f*h+g*j,a[3]=f*i+g*k,a},h.mul=h.multiply,h.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+e*h,a[1]=d*-h+e*i,a[2]=f*i+g*h,a[3]=f*-h+g*i,a},h.scale=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1];return a[0]=d*h,a[1]=e*i,a[2]=f*h,a[3]=g*i,a},h.str=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.mat2=h);var i={};new Float32Array([1,0,0,1,0,0]);i.create=function(){var a=new c(6);return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},i.clone=function(a){var b=new c(6);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b},i.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a},i.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},i.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=c*f-d*e;
return i?(i=1/i,a[0]=f*i,a[1]=-d*i,a[2]=-e*i,a[3]=c*i,a[4]=(e*h-f*g)*i,a[5]=(d*g-c*h)*i,a):null},i.determinant=function(a){return a[0]*a[3]-a[1]*a[2]},i.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1],l=c[2],m=c[3],n=c[4],o=c[5];return a[0]=d*j+e*l,a[1]=d*k+e*m,a[2]=f*j+g*l,a[3]=f*k+g*m,a[4]=j*h+l*i+n,a[5]=k*h+m*i+o,a},i.mul=i.multiply,i.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=Math.sin(c),k=Math.cos(c);return a[0]=d*k+e*j,a[1]=-d*j+e*k,a[2]=f*k+g*j,a[3]=-f*j+k*g,a[4]=k*h+j*i,a[5]=k*i-j*h,a},i.scale=function(a,b,c){var d=c[0],e=c[1];return a[0]=b[0]*d,a[1]=b[1]*e,a[2]=b[2]*d,a[3]=b[3]*e,a[4]=b[4]*d,a[5]=b[5]*e,a},i.translate=function(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a},i.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"},"undefined"!=typeof a&&(a.mat2d=i);var j={};new Float32Array([1,0,0,0,1,0,0,0,1]);j.create=function(){var a=new c(9);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},j.clone=function(a){var b=new c(9);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b},j.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},j.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},j.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[5];a[1]=b[3],a[2]=b[6],a[3]=c,a[5]=b[7],a[6]=d,a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a},j.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=k*g-h*j,m=-k*f+h*i,n=j*f-g*i,o=c*l+d*m+e*n;return o?(o=1/o,a[0]=l*o,a[1]=(-k*d+e*j)*o,a[2]=(h*d-e*g)*o,a[3]=m*o,a[4]=(k*c-e*i)*o,a[5]=(-h*c+e*f)*o,a[6]=n*o,a[7]=(-j*c+d*i)*o,a[8]=(g*c-d*f)*o,a):null},j.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8];return a[0]=g*k-h*j,a[1]=e*j-d*k,a[2]=d*h-e*g,a[3]=h*i-f*k,a[4]=c*k-e*i,a[5]=e*f-c*h,a[6]=f*j-g*i,a[7]=d*i-c*j,a[8]=c*g-d*f,a},j.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8];return b*(j*f-g*i)+c*(-j*e+g*h)+d*(i*e-f*h)},j.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1],o=c[2],p=c[3],q=c[4],r=c[5],s=c[6],t=c[7],u=c[8];return a[0]=m*d+n*g+o*j,a[1]=m*e+n*h+o*k,a[2]=m*f+n*i+o*l,a[3]=p*d+q*g+r*j,a[4]=p*e+q*h+r*k,a[5]=p*f+q*i+r*l,a[6]=s*d+t*g+u*j,a[7]=s*e+t*h+u*k,a[8]=s*f+t*i+u*l,a},j.mul=j.multiply,j.translate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a[6]=m*d+n*g+j,a[7]=m*e+n*h+k,a[8]=m*f+n*i+l,a},j.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=Math.sin(c),n=Math.cos(c);return a[0]=n*d+m*g,a[1]=n*e+m*h,a[2]=n*f+m*i,a[3]=n*g-m*d,a[4]=n*h-m*e,a[5]=n*i-m*f,a[6]=j,a[7]=k,a[8]=l,a},j.scale=function(a,b,c){var d=c[0],e=c[2];return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=e*b[3],a[4]=e*b[4],a[5]=e*b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},j.fromMat2d=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=0,a[3]=b[2],a[4]=b[3],a[5]=0,a[6]=b[4],a[7]=b[5],a[8]=1,a},j.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=c*h,l=c*i,m=d*h,n=d*i,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-(m+o),a[1]=k+r,a[2]=l-q,a[3]=k-r,a[4]=1-(j+o),a[5]=n+p,a[6]=l+q,a[7]=n-p,a[8]=1-(j+m),a},j.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"},"undefined"!=typeof a&&(a.mat3=j);var k={};new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);k.create=function(){var a=new c(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},k.clone=function(a){var b=new c(16);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15],b},k.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a},k.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},k.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=c,a[6]=b[9],a[7]=b[13],a[8]=d,a[9]=f,a[11]=b[14],a[12]=e,a[13]=g,a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},k.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(e*C-d*D-f*B)*E,a[2]=(p*x-q*w+r*v)*E,a[3]=(m*w-l*x-n*v)*E,a[4]=(i*A-g*D-j*z)*E,a[5]=(c*D-e*A+f*z)*E,a[6]=(q*u-o*x-r*t)*E,a[7]=(k*x-m*u+n*t)*E,a[8]=(g*C-h*A+j*y)*E,a[9]=(d*A-c*C-f*y)*E,a[10]=(o*w-p*u+r*s)*E,a[11]=(l*u-k*w-n*s)*E,a[12]=(h*z-g*B-i*y)*E,a[13]=(c*B-d*z+e*y)*E,a[14]=(p*t-o*v-q*s)*E,a[15]=(k*v-l*t+m*s)*E,a):null},k.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15];return a[0]=h*(m*r-n*q)-l*(i*r-j*q)+p*(i*n-j*m),a[1]=-(d*(m*r-n*q)-l*(e*r-f*q)+p*(e*n-f*m)),a[2]=d*(i*r-j*q)-h*(e*r-f*q)+p*(e*j-f*i),a[3]=-(d*(i*n-j*m)-h*(e*n-f*m)+l*(e*j-f*i)),a[4]=-(g*(m*r-n*q)-k*(i*r-j*q)+o*(i*n-j*m)),a[5]=c*(m*r-n*q)-k*(e*r-f*q)+o*(e*n-f*m),a[6]=-(c*(i*r-j*q)-g*(e*r-f*q)+o*(e*j-f*i)),a[7]=c*(i*n-j*m)-g*(e*n-f*m)+k*(e*j-f*i),a[8]=g*(l*r-n*p)-k*(h*r-j*p)+o*(h*n-j*l),a[9]=-(c*(l*r-n*p)-k*(d*r-f*p)+o*(d*n-f*l)),a[10]=c*(h*r-j*p)-g*(d*r-f*p)+o*(d*j-f*h),a[11]=-(c*(h*n-j*l)-g*(d*n-f*l)+k*(d*j-f*h)),a[12]=-(g*(l*q-m*p)-k*(h*q-i*p)+o*(h*m-i*l)),a[13]=c*(l*q-m*p)-k*(d*q-e*p)+o*(d*m-e*l),a[14]=-(c*(h*q-i*p)-g*(d*q-e*p)+o*(d*i-e*h)),a[15]=c*(h*m-i*l)-g*(d*m-e*l)+k*(d*i-e*h),a},k.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14],q=a[15],r=b*g-c*f,s=b*h-d*f,t=b*i-e*f,u=c*h-d*g,v=c*i-e*g,w=d*i-e*h,x=j*o-k*n,y=j*p-l*n,z=j*q-m*n,A=k*p-l*o,B=k*q-m*o,C=l*q-m*p;return r*C-s*B+t*A+u*z-v*y+w*x},k.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],t=c[0],u=c[1],v=c[2],w=c[3];return a[0]=t*d+u*h+v*l+w*p,a[1]=t*e+u*i+v*m+w*q,a[2]=t*f+u*j+v*n+w*r,a[3]=t*g+u*k+v*o+w*s,t=c[4],u=c[5],v=c[6],w=c[7],a[4]=t*d+u*h+v*l+w*p,a[5]=t*e+u*i+v*m+w*q,a[6]=t*f+u*j+v*n+w*r,a[7]=t*g+u*k+v*o+w*s,t=c[8],u=c[9],v=c[10],w=c[11],a[8]=t*d+u*h+v*l+w*p,a[9]=t*e+u*i+v*m+w*q,a[10]=t*f+u*j+v*n+w*r,a[11]=t*g+u*k+v*o+w*s,t=c[12],u=c[13],v=c[14],w=c[15],a[12]=t*d+u*h+v*l+w*p,a[13]=t*e+u*i+v*m+w*q,a[14]=t*f+u*j+v*n+w*r,a[15]=t*g+u*k+v*o+w*s,a},k.mul=k.multiply,k.translate=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=c[0],q=c[1],r=c[2];return b===a?(a[12]=b[0]*p+b[4]*q+b[8]*r+b[12],a[13]=b[1]*p+b[5]*q+b[9]*r+b[13],a[14]=b[2]*p+b[6]*q+b[10]*r+b[14],a[15]=b[3]*p+b[7]*q+b[11]*r+b[15]):(d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a[6]=j,a[7]=k,a[8]=l,a[9]=m,a[10]=n,a[11]=o,a[12]=d*p+h*q+l*r+b[12],a[13]=e*p+i*q+m*r+b[13],a[14]=f*p+j*q+n*r+b[14],a[15]=g*p+k*q+o*r+b[15]),a},k.scale=function(a,b,c){var d=c[0],e=c[1],f=c[2];return a[0]=b[0]*d,a[1]=b[1]*d,a[2]=b[2]*d,a[3]=b[3]*d,a[4]=b[4]*e,a[5]=b[5]*e,a[6]=b[6]*e,a[7]=b[7]*e,a[8]=b[8]*f,a[9]=b[9]*f,a[10]=b[10]*f,a[11]=b[11]*f,a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a},k.rotate=function(a,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=e[0],E=e[1],F=e[2],G=Math.sqrt(D*D+E*E+F*F);return Math.abs(G)<b?null:(G=1/G,D*=G,E*=G,F*=G,f=Math.sin(d),g=Math.cos(d),h=1-g,i=c[0],j=c[1],k=c[2],l=c[3],m=c[4],n=c[5],o=c[6],p=c[7],q=c[8],r=c[9],s=c[10],t=c[11],u=D*D*h+g,v=E*D*h+F*f,w=F*D*h-E*f,x=D*E*h-F*f,y=E*E*h+g,z=F*E*h+D*f,A=D*F*h+E*f,B=E*F*h-D*f,C=F*F*h+g,a[0]=i*u+m*v+q*w,a[1]=j*u+n*v+r*w,a[2]=k*u+o*v+s*w,a[3]=l*u+p*v+t*w,a[4]=i*x+m*y+q*z,a[5]=j*x+n*y+r*z,a[6]=k*x+o*y+s*z,a[7]=l*x+p*y+t*z,a[8]=i*A+m*B+q*C,a[9]=j*A+n*B+r*C,a[10]=k*A+o*B+s*C,a[11]=l*A+p*B+t*C,c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]),a)},k.rotateX=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[4],g=b[5],h=b[6],i=b[7],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[4]=f*e+j*d,a[5]=g*e+k*d,a[6]=h*e+l*d,a[7]=i*e+m*d,a[8]=j*e-f*d,a[9]=k*e-g*d,a[10]=l*e-h*d,a[11]=m*e-i*d,a},k.rotateY=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e-j*d,a[1]=g*e-k*d,a[2]=h*e-l*d,a[3]=i*e-m*d,a[8]=f*d+j*e,a[9]=g*d+k*e,a[10]=h*d+l*e,a[11]=i*d+m*e,a},k.rotateZ=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[4],k=b[5],l=b[6],m=b[7];return b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e+j*d,a[1]=g*e+k*d,a[2]=h*e+l*d,a[3]=i*e+m*d,a[4]=j*e-f*d,a[5]=k*e-g*d,a[6]=l*e-h*d,a[7]=m*e-i*d,a},k.fromRotationTranslation=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=d+d,i=e+e,j=f+f,k=d*h,l=d*i,m=d*j,n=e*i,o=e*j,p=f*j,q=g*h,r=g*i,s=g*j;return a[0]=1-(n+p),a[1]=l+s,a[2]=m-r,a[3]=0,a[4]=l-s,a[5]=1-(k+p),a[6]=o+q,a[7]=0,a[8]=m+r,a[9]=o-q,a[10]=1-(k+n),a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a},k.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=c*h,l=c*i,m=d*h,n=d*i,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-(m+o),a[1]=k+r,a[2]=l-q,a[3]=0,a[4]=k-r,a[5]=1-(j+o),a[6]=n+p,a[7]=0,a[8]=l+q,a[9]=n-p,a[10]=1-(j+m),a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},k.frustum=function(a,b,c,d,e,f,g){var h=1/(c-b),i=1/(e-d),j=1/(f-g);return a[0]=2*f*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*f*i,a[6]=0,a[7]=0,a[8]=(c+b)*h,a[9]=(e+d)*i,a[10]=(g+f)*j,a[11]=-1,a[12]=0,a[13]=0,a[14]=g*f*2*j,a[15]=0,a},k.perspective=function(a,b,c,d,e){var f=1/Math.tan(b/2),g=1/(d-e);return a[0]=f/c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(e+d)*g,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*e*d*g,a[15]=0,a},k.ortho=function(a,b,c,d,e,f,g){var h=1/(b-c),i=1/(d-e),j=1/(f-g);return a[0]=-2*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*i,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*j,a[11]=0,a[12]=(b+c)*h,a[13]=(e+d)*i,a[14]=(g+f)*j,a[15]=1,a},k.lookAt=function(a,c,d,e){var f,g,h,i,j,l,m,n,o,p,q=c[0],r=c[1],s=c[2],t=e[0],u=e[1],v=e[2],w=d[0],x=d[1],y=d[2];return Math.abs(q-w)<b&&Math.abs(r-x)<b&&Math.abs(s-y)<b?k.identity(a):(m=q-w,n=r-x,o=s-y,p=1/Math.sqrt(m*m+n*n+o*o),m*=p,n*=p,o*=p,f=u*o-v*n,g=v*m-t*o,h=t*n-u*m,p=Math.sqrt(f*f+g*g+h*h),p?(p=1/p,f*=p,g*=p,h*=p):(f=0,g=0,h=0),i=n*h-o*g,j=o*f-m*h,l=m*g-n*f,p=Math.sqrt(i*i+j*j+l*l),p?(p=1/p,i*=p,j*=p,l*=p):(i=0,j=0,l=0),a[0]=f,a[1]=i,a[2]=m,a[3]=0,a[4]=g,a[5]=j,a[6]=n,a[7]=0,a[8]=h,a[9]=l,a[10]=o,a[11]=0,a[12]=-(f*q+g*r+h*s),a[13]=-(i*q+j*r+l*s),a[14]=-(m*q+n*r+o*s),a[15]=1,a)},k.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"},"undefined"!=typeof a&&(a.mat4=k);var l={};new Float32Array([0,0,0,1]);l.create=function(){var a=new c(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a},l.clone=g.clone,l.fromValues=g.fromValues,l.copy=g.copy,l.set=g.set,l.identity=function(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a},l.setAxisAngle=function(a,b,c){c=.5*c;var d=Math.sin(c);return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=Math.cos(c),a},l.add=g.add,l.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*k+g*h+e*j-f*i,a[1]=e*k+g*i+f*h-d*j,a[2]=f*k+g*j+d*i-e*h,a[3]=g*k-d*h-e*i-f*j,a},l.mul=l.multiply,l.scale=g.scale,l.rotateX=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+g*h,a[1]=e*i+f*h,a[2]=f*i-e*h,a[3]=g*i-d*h,a},l.rotateY=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i-f*h,a[1]=e*i+g*h,a[2]=f*i+d*h,a[3]=g*i-e*h,a},l.rotateZ=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+e*h,a[1]=e*i-d*h,a[2]=f*i+g*h,a[3]=g*i-f*h,a},l.calculateW=function(a,b){var c=b[0],d=b[1],e=b[2];return a[0]=c,a[1]=d,a[2]=e,a[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e)),a},l.dot=g.dot,l.lerp=g.lerp,l.slerp=function(a,b,c,d){var e,f,g,h,i=b[0],j=b[1],k=b[2],l=b[3],m=c[0],n=c[1],o=c[2],p=c[3],q=i*m+j*n+k*o+l*p;return Math.abs(q)>=1?(a!==b&&(a[0]=i,a[1]=j,a[2]=k,a[3]=l),a):(e=Math.acos(q),f=Math.sqrt(1-q*q),Math.abs(f)<.001?(a[0]=.5*i+.5*m,a[1]=.5*j+.5*n,a[2]=.5*k+.5*o,a[3]=.5*l+.5*p,a):(g=Math.sin((1-d)*e)/f,h=Math.sin(d*e)/f,a[0]=i*g+m*h,a[1]=j*g+n*h,a[2]=k*g+o*h,a[3]=l*g+p*h,a))},l.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f,h=g?1/g:0;return a[0]=-c*h,a[1]=-d*h,a[2]=-e*h,a[3]=f*h,a},l.conjugate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=b[3],a},l.length=g.length,l.len=l.length,l.squaredLength=g.squaredLength,l.sqrLen=l.squaredLength,l.normalize=g.normalize,l.fromMat3=function(){var a=[1,2,0];return function(b,c){var d,e=c[0]+c[4]+c[8];if(e>0)d=Math.sqrt(e+1),b[3]=.5*d,d=.5/d,b[0]=(c[7]-c[5])*d,b[1]=(c[2]-c[6])*d,b[2]=(c[3]-c[1])*d;else{var f=0;c[4]>c[0]&&(f=1),c[8]>c[3*f+f]&&(f=2);var g=a[f],h=a[g];d=Math.sqrt(c[3*f+f]-c[3*g+g]-c[3*h+h]+1),b[f]=.5*d,d=.5/d,b[3]=(c[3*h+g]-c[3*g+h])*d,b[g]=(c[3*g+f]+c[3*f+g])*d,b[h]=(c[3*h+f]+c[3*f+h])*d}return b}}(),l.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.quat=l)}(a.exports)}()},{}],240:[function(a,b,c){"use strict";b.exports={Transform:a("./ac-transform/Transform")}},{"./ac-transform/Transform":241}],241:[function(a,b,c){"use strict";function d(){this.m=e.create()}var e=a("gl-matrix").mat4,f=a("gl-matrix").vec3,g=a("gl-matrix").vec4,h=(a("gl-matrix").quat,Math.PI/180),i=180/Math.PI,j=0,k=0,l=1,m=1,n=2,o=3,p=4,q=4,r=5,s=5,t=6,u=7,v=8,w=9,x=10,y=11,z=12,A=12,B=13,C=13,D=14,E=15,F=d.prototype;F.rotateX=function(a){var b=h*a;return e.rotateX(this.m,this.m,b),this},F.rotateY=function(a){var b=h*a;return e.rotateY(this.m,this.m,b),this},F.rotateZ=function(a){var b=h*a;return e.rotateZ(this.m,this.m,b),this},F.rotate=F.rotateZ,F.rotate3d=function(a,b,c,d){(null===b||void 0===b)&&(b=a),(null===c||void 0===b)&&(c=a);var f=h*d;return e.rotate(this.m,this.m,f,[a,b,c]),this},F.rotateAxisAngle=F.rotate3d,F.scale=function(a,b){return b=b||a,e.scale(this.m,this.m,[a,b,1]),this},F.scaleX=function(a){return e.scale(this.m,this.m,[a,1,1]),this},F.scaleY=function(a){return e.scale(this.m,this.m,[1,a,1]),this},F.scaleZ=function(a){return e.scale(this.m,this.m,[1,1,a]),this},F.scale3d=function(a,b,c){return e.scale(this.m,this.m,[a,b,c]),this},F.skew=function(a,b){if(null===b||void 0===b)return this.skewX(a);a=h*a,b=h*b;var c=e.create();return c[q]=Math.tan(a),c[m]=Math.tan(b),e.multiply(this.m,this.m,c),this},F.skewX=function(a){a=h*a;var b=e.create();return b[q]=Math.tan(a),e.multiply(this.m,this.m,b),this},F.skewY=function(a){a=h*a;var b=e.create();return b[m]=Math.tan(a),e.multiply(this.m,this.m,b),this},F.translate=function(a,b){return b=b||0,e.translate(this.m,this.m,[a,b,0]),this},F.translate3d=function(a,b,c){return e.translate(this.m,this.m,[a,b,c]),this},F.translateX=function(a){return e.translate(this.m,this.m,[a,0,0]),this},F.translateY=function(a){return e.translate(this.m,this.m,[0,a,0]),this},F.translateZ=function(a){return e.translate(this.m,this.m,[0,0,a]),this},F.perspective=function(a){var b=e.create();0!==a&&(b[y]=-1/a),e.multiply(this.m,this.m,b)},F.inverse=function(){var a=this.clone();return a.m=e.invert(a.m,this.m),a},F.reset=function(){return e.identity(this.m),this},F.clone=function(){var a=new d;return a.m=e.clone(this.m),a},F.toArray=function(){var a=this.m;return this.isAffine()?[a[k],a[m],a[q],a[s],a[A],a[C]]:[a[j],a[l],a[n],a[o],a[p],a[r],a[t],a[u],a[v],a[w],a[x],a[y],a[z],a[B],a[D],a[E]]},F.fromArray=function(a){return this.m=Array.prototype.slice.call(a),this},F.setMatrixValue=function(a){a=String(a).trim();var b=e.create();if("none"===a)return this.m=b,this;var c,d,f=a.slice(0,a.indexOf("("));if("matrix3d"===f)for(c=a.slice(9,-1).split(","),d=0;d<c.length;d++)b[d]=parseFloat(c[d]);else{if("matrix"!==f)throw new TypeError("Invalid Matrix Value");for(c=a.slice(7,-1).split(","),d=c.length;d--;)c[d]=parseFloat(c[d]);b[j]=c[0],b[l]=c[1],b[z]=c[4],b[p]=c[2],b[r]=c[3],b[B]=c[5]}return this.m=b,this},F.decompose=function(a){a=a||!1;for(var b=e.clone(this.m),c=f.create(),d=f.create(),h=f.create(),j=g.create(),k=g.create(),l=(f.create(),0);16>l;l++)b[l]/=b[E];var m=e.clone(b);m[o]=0,m[u]=0,m[y]=0,m[E]=1;var n=(b[3],b[7],b[11],b[12]),p=b[13],q=b[14],r=(b[15],g.create());if(G(b[o])&&G(b[u])&&G(b[y]))j=g.fromValues(0,0,0,1);else{r[0]=b[o],r[1]=b[u],r[2]=b[y],r[3]=b[E];var s=e.invert(e.create(),m),t=e.transpose(e.create(),s);j=g.transformMat4(j,r,t)}c[0]=n,c[1]=p,c[2]=q;var v=[f.create(),f.create(),f.create()];v[0][0]=b[0],v[0][1]=b[1],v[0][2]=b[2],v[1][0]=b[4],v[1][1]=b[5],v[1][2]=b[6],v[2][0]=b[8],v[2][1]=b[9],v[2][2]=b[10],d[0]=f.length(v[0]),f.normalize(v[0],v[0]),h[0]=f.dot(v[0],v[1]),v[1]=this._combine(v[1],v[0],1,-h[0]),d[1]=f.length(v[1]),f.normalize(v[1],v[1]),h[0]/=d[1],h[1]=f.dot(v[0],v[2]),v[2]=this._combine(v[2],v[0],1,-h[1]),h[2]=f.dot(v[1],v[2]),v[2]=this._combine(v[2],v[1],1,-h[2]),d[2]=f.length(v[2]),f.normalize(v[2],v[2]),h[1]/=d[2],h[2]/=d[2];var w=f.cross(f.create(),v[1],v[2]);if(f.dot(v[0],w)<0)for(l=0;3>l;l++)d[l]*=-1,v[l][0]*=-1,v[l][1]*=-1,v[l][2]*=-1;k[0]=.5*Math.sqrt(Math.max(1+v[0][0]-v[1][1]-v[2][2],0)),k[1]=.5*Math.sqrt(Math.max(1-v[0][0]+v[1][1]-v[2][2],0)),k[2]=.5*Math.sqrt(Math.max(1-v[0][0]-v[1][1]+v[2][2],0)),k[3]=.5*Math.sqrt(Math.max(1+v[0][0]+v[1][1]+v[2][2],0)),v[2][1]>v[1][2]&&(k[0]=-k[0]),v[0][2]>v[2][0]&&(k[1]=-k[1]),v[1][0]>v[0][1]&&(k[2]=-k[2]);var x=g.fromValues(k[0],k[1],k[2],2*Math.acos(k[3])),z=this._rotationFromQuat(k);return a&&(h[0]=Math.round(h[0]*i*100)/100,h[1]=Math.round(h[1]*i*100)/100,h[2]=Math.round(h[2]*i*100)/100,z[0]=Math.round(z[0]*i*100)/100,z[1]=Math.round(z[1]*i*100)/100,z[2]=Math.round(z[2]*i*100)/100,x[3]=Math.round(x[3]*i*100)/100),{translation:c,scale:d,skew:h,perspective:j,quaternion:k,eulerRotation:z,axisAngle:x}},F.recompose=function(a,b,c,d,h){a=a||f.create(),b=b||f.create(),c=c||f.create(),d=d||g.create(),h=h||g.create();var i=e.fromRotationTranslation(e.create(),h,a);i[o]=d[0],i[u]=d[1],i[y]=d[2],i[E]=d[3];var j=e.create();return 0!==c[2]&&(j[w]=c[2],e.multiply(i,i,j)),0!==c[1]&&(j[w]=0,j[v]=c[1],e.multiply(i,i,j)),c[0]&&(j[v]=0,j[4]=c[0],e.multiply(i,i,j)),e.scale(i,i,b),this.m=i,this},F.isAffine=function(){return 0===this.m[n]&&0===this.m[o]&&0===this.m[t]&&0===this.m[u]&&0===this.m[v]&&0===this.m[w]&&1===this.m[x]&&0===this.m[y]&&0===this.m[D]&&1===this.m[E]},F.toString=function(){var a=this.m;return this.isAffine()?"matrix("+a[k]+", "+a[m]+", "+a[q]+", "+a[s]+", "+a[A]+", "+a[C]+")":"matrix3d("+a[j]+", "+a[l]+", "+a[n]+", "+a[o]+", "+a[p]+", "+a[r]+", "+a[t]+", "+a[u]+", "+a[v]+", "+a[w]+", "+a[x]+", "+a[y]+", "+a[z]+", "+a[B]+", "+a[D]+", "+a[E]+")"},F.toCSSString=F.toString,F._combine=function(a,b,c,d){var e=f.create();return e[0]=c*a[0]+d*b[0],e[1]=c*a[1]+d*b[1],e[2]=c*a[2]+d*b[2],e},F._matrix2dToMat4=function(a){for(var b=e.create(),c=0;4>c;c++)for(var d=0;4>d;d++)b[4*c+d]=a[c][d];return b},F._mat4ToMatrix2d=function(a){for(var b=[],c=0;4>c;c++){b[c]=[];for(var d=0;4>d;d++)b[c][d]=a[4*c+d]}return b},F._rotationFromQuat=function(a){var b,c,d,e=a[3]*a[3],g=a[0]*a[0],h=a[1]*a[1],i=a[2]*a[2],j=g+h+i+e,k=a[0]*a[1]+a[2]*a[3];return k>.499*j?(c=2*Math.atan2(a[0],a[3]),d=Math.PI/2,b=0,f.fromValues(b,c,d)):-.499*j>k?(c=-2*Math.atan2(a[0],a[3]),d=-Math.PI/2,b=0,f.fromValues(b,c,d)):(c=Math.atan2(2*a[1]*a[3]-2*a[0]*a[2],g-h-i+e),d=Math.asin(2*k/j),b=Math.atan2(2*a[0]*a[3]-2*a[1]*a[2],-g+h-i+e),f.fromValues(b,c,d))};var G=function(a){return Math.abs(a)<1e-4};b.exports=d},{"gl-matrix":239}],242:[function(a,b,c){"use strict";b.exports={Clip:a("./ac-eclipse/ClipFactory"),Timeline:a("./ac-eclipse/Timeline")}},{"./ac-eclipse/ClipFactory":243,"./ac-eclipse/Timeline":244}],243:[function(a,b,c){"use strict";function d(a,b,c,d){return a.nodeType?void 0===e||d&&d.inlineStyles?new h(a,b,c,d):new i(a,b,c,d):new g(a,b,c,d)}a("./helpers/Float32Array");var e=a("./helpers/transitionEnd"),f=a("ac-clip").Clip,g=a("./clips/ClipEasing"),h=a("./clips/ClipInlineCss"),i=a("./clips/ClipTransitionCss");for(var j in f)"function"==typeof f[j]&&"_"!==j.substr(0,1)&&(d[j]=f[j].bind(f));b.exports=d},{"./clips/ClipEasing":245,"./clips/ClipInlineCss":246,"./clips/ClipTransitionCss":247,"./helpers/Float32Array":250,"./helpers/transitionEnd":261,"ac-clip":119}],244:[function(a,b,c){"use strict";function d(a){a=a||{}}var e=a("ac-object").create,f=(a("ac-clip").Clip,a("ac-event-emitter").EventEmitter);d.prototype=e(f.prototype);b.exports=d},{"ac-clip":119,"ac-event-emitter":263,"ac-object":233}],245:[function(a,b,c){"use strict";function d(a,b,c,d){var f,k,l=e(d||{},!0),m=0,n={},o={},p=l.propsFrom||{},q={};if(g(l.ease)&&(l.ease=h.create(l.ease).toEasingFunction()),l.propsEase){var r=l.ease||j;for(f in c)c.hasOwnProperty(f)&&(k=l.propsEase[f],g(k)&&(k=h.create(l.propsEase[f]).toEasingFunction()),void 0===k?(void 0===n[r]&&(n[r]={},o[r]={},q[r]=r,m++),n[r][f]=c[f],o[r][f]=p[f]):"function"==typeof k?(n[m]={},o[m]={},n[m][f]=c[f],o[m][f]=p[f],q[m]=k,m++):(void 0===n[k]&&(n[k]={},o[k]={},q[k]=k,m++),n[k][f]=c[f],o[k][f]=p[f]))}if(m>1){this._storeOnUpdate=l.onUpdate||null,l.onUpdate=null;var s=l.onStart,t=l.onDraw,u=l.onComplete;l.onStart=null,l.onDraw=null,l.onComplete=null,this._clips=[];for(k in n)n.hasOwnProperty(k)&&(l.ease=q[k],l.propsFrom=o[k],this._clips.push(new i(a,b,n[k],l)));l.onUpdate=this._onUpdate,l.onStart=s,l.onDraw=t,l.onComplete=u,l.propsFrom=null,l.ease="linear",c={}}else for(f in q)q.hasOwnProperty(f)&&(l.ease=q[f]);i.call(this,a,b,c,l)}var e=a("ac-object").clone,f=a("ac-object").create,g=a("../helpers/isCssCubicBezierString"),h=a("../helpers/BezierCurveCssManager"),i=a("ac-clip").Clip,j="ease",k=d.prototype=f(i.prototype);k.reset=function(){var a=i.prototype.reset.call(this);if(this._clips)for(var b=this._clips.length;b--;)this._clips[b].reset();return a},k.destroy=function(){var a=i.prototype.destroy.call(this);if(this._clips){for(var b=this._clips.length;b--;)this._clips[b].reset();this._clips=null}return this._eases=null,this._storeOnUpdate=null,a},k._onUpdate=function(a){for(var b=1===this._direction?a.progress:1-a.progress,c=this._clips.length;c--;)this._clips[c].setProgress(b);"function"==typeof this._storeOnUpdate&&this._storeOnUpdate.call(this,a)},b.exports=d},{"../helpers/BezierCurveCssManager":249,"../helpers/isCssCubicBezierString":257,"ac-clip":119,"ac-object":233}],246:[function(a,b,c){"use strict";function d(a,b,c,d){var h=g(d||{},!0);this._el=a;var k=f(this._el,c||{},h.propsFrom||{});this._styles=k.target,this._stylesFrom=k.propsFrom,c=k.propsTo;var l;this._storeOnStart=h.onStart||null,this._storeOnDraw=h.onDraw||null,this._storeOnComplete=h.onComplete||null,h.onStart=this._onStart,h.onDraw=this._onDraw,h.onComplete=this._onComplete,h.propsFrom=k.propsFrom,j.call(this,this._styles,b,c,h),i(this._el,this._styles);var m=this._isYoyo?this._stylesFrom:c;if(this._completeStyles=e(m),void 0!==h.removeStylesOnComplete){var n=h.removeStylesOnComplete;if("boolean"==typeof n&&n)for(l in this._completeStyles)this._completeStyles.hasOwnProperty(l)&&(this._completeStyles[l]=null);else if("object"==typeof n&&n.length)for(var o=n.length;o--;)l=n[o],this._completeStyles.hasOwnProperty(l)&&(this._completeStyles[l]=null)}}var e=a("../helpers/convertToStyleObject"),f=a("../helpers/convertToTransitionableObjects"),g=a("ac-object").clone,h=a("ac-object").create,i=a("../helpers/removeTransitions"),j=(a("../helpers/BezierCurveCssManager"),a("./ClipEasing")),k=a("ac-dom-styles"),l=d.prototype=h(j.prototype);l.reset=function(){var a=j.prototype.reset.call(this);return k.setStyle(this._el,e(this._styles)),a},l.destroy=function(){var a=j.prototype.destroy.call(this);return this._el=null,this._styles=null,this._stylesFrom=null,this._stylesTo=null,this._completeStyles=null,this._storeOnStart=null,this._storeOnDraw=null,this._storeOnComplete=null,a},l.getTarget=function(){return this._el},l._onStart=function(a){this.isPlaying()&&1===this._direction&&k.setStyle(this._el,e(this._stylesFrom)),"function"==typeof this._storeOnStart&&this._storeOnStart.call(this,a)},l._onDraw=function(a){k.setStyle(this._el,e(this._styles)),"function"==typeof this._storeOnDraw&&this._storeOnDraw.call(this,a)},l._onComplete=function(a){k.setStyle(this._el,this._completeStyles),"function"==typeof this._storeOnComplete&&this._storeOnComplete.call(this,a)},b.exports=d},{"../helpers/BezierCurveCssManager":249,"../helpers/convertToStyleObject":253,"../helpers/convertToTransitionableObjects":254,"../helpers/removeTransitions":258,"./ClipEasing":245,"ac-dom-styles":83,"ac-object":233}],247:[function(a,b,c){"use strict";function d(a,b,c,d){var h=g(d||{},!0);this._el=a;var i=f(this._el,c||{},h.propsFrom||{});this._styles=i.target,this._propsTo=i.propsTo,this._propsFrom=i.propsFrom,this._storeOnStart=h.onStart||null,this._storeOnComplete=h.onComplete||null,h.onStart=this._onStart,h.onComplete=this._onComplete,h.propsFrom=this._propsFrom,this._stylesTo=g(this._propsTo,!0),this._stylesFrom=g(this._propsFrom,!0),h.ease=h.ease||t,this._eases={},this._propsArray=[],this._propsComplete={};var l,n,o=e(this._stylesTo),p=e(this._stylesFrom);this._propsEase=g(h.propsEase||{},!0);var s;for(s in this._stylesTo)this._stylesTo.hasOwnProperty(s)&&(this._propsArray[this._propsArray.length]=s,this._propsComplete[m(s)]={1:o[s],"-1":p[s]},void 0===this._propsEase[s]?(void 0===this._eases[h.ease]&&(l=this._convertEase(h.ease),this._eases[h.ease]=l.css,n=l.js),this._propsEase[s]=h.ease):void 0===this._eases[this._propsEase[s]]?(l=this._convertEase(this._propsEase[s]),this._eases[this._propsEase[s]]=l.css,h.propsEase[s]=l.js):j(this._propsEase[s])&&(h.propsEase[s]=this._eases[this._propsEase[s]][1].toEasingFunction()));if(h.ease=n,q.call(this,this._styles,b,this._propsTo,h),this.on("pause",this._onPaused),k(this._el,this._stylesTo),this._otherTransitions=r.getStyle(this._el,"transition").transition,(null===this._otherTransitions||"all 0s ease 0s"===this._otherTransitions)&&(this._otherTransitions=""),this._completeStyles=e(h.yoyo?this._stylesFrom:this._stylesTo),this._completeStyles.transition=this._otherTransitions,void 0!==h.removeStylesOnComplete){var u=h.removeStylesOnComplete;if("boolean"==typeof u&&u)for(s in this._stylesTo)this._completeStyles[s]=null;else if("object"==typeof u&&u.length)for(var v=u.length;v--;)this._completeStyles[u[v]]=null}}var e=a("../helpers/convertToStyleObject"),f=a("../helpers/convertToTransitionableObjects"),g=a("ac-object").clone,h=a("ac-object").create,i=a("ac-easing").createPredefined,j=a("../helpers/isCssCubicBezierString"),k=a("../helpers/removeTransitions"),l=a("../helpers/splitUnits"),m=a("../helpers/toCamCase"),n=a("../helpers/transitionEnd"),o=a("../helpers/waitAnimationFrames"),p=a("../helpers/BezierCurveCssManager"),q=a("./ClipEasing"),r=a("ac-dom-styles"),s=a("../helpers/PageVisibilityManager"),t="ease",u="%EASE% is not a supported predefined ease when transitioning with Elements and CSS transition. If you need to use %EASE% then pass the inlineStyle:true option.",v=d.prototype=h(q.prototype);v.reset=function(){var a=q.prototype.reset.call(this);return this._applyStyles(0,e(this._target)),a},v.destroy=function(){var a=q.prototype.destroy.call(this);return s.off("changed",this._onVisibilityChanged),this._removeTransitionListener(),this._el=null,this._propsArray=null,this._propsComplete=null,this._styles=null,this._stylesFrom=null,this._stylesTo=null,this._completeStyles=null,this._storeOnStart=null,this._storeOnComplete=null,this._onTransitionEnded=null,a},v.getTarget=function(){return this._el},v.setProgress=function(a){var b=q.prototype.setProgress.call(this,a);return this._applyStyles(0,e(this._target)),this.isPlaying()&&(this._isWaitingForStylesToBeApplied=!0,o(this._setStylesAfterWaiting,2)),b},v._convertEase=function(a){var b,c;if(j(a))b=p.create(a),c=b.toEasingFunction();else{var d=i(a);if(null===d.cssString)throw new Error(u.replace(/%EASE%/g,a));b=p.create(d.cssString),c=a}return{css:{1:b,"-1":b.reversed()},js:c}},v._stop=function(){this._removeTransitionListener(),q.prototype._stop.call(this)},v._complete=function(){if(this._isWaitingForStylesToBeApplied){this._isWaitingForStylesToBeApplied=!1;var a=e(this._direction>0?this._stylesTo:this._stylesFrom);this._applyStyles(0,a),q.prototype._complete.call(this)}else this._isComplete()?q.prototype._complete.call(this):this._el.addEventListener(n,this._onTransitionEnded)},v._onTransitionEnded=function(){this._removeTransitionListener(),q.prototype._complete.call(this)},v._removeTransitionListener=function(){this._el&&this._onTransitionEnded&&this._el.removeEventListener(n,this._onTransitionEnded)},v._isComplete=function(){var a=r.getStyle.apply(this,[this._el].concat([this._propsArray]));a.transform=null;var b,c;for(c in a)if(a.hasOwnProperty(c)&&null!==a[c]&&(b=this._propsComplete[c][this._direction],a[c]!==b&&this._el.style[c]!==b&&String(l(a[c]).value)!==b))return!1;return!0},v._applyStyles=function(a,b){if(a>0){var c,d=this._otherTransitions+(this._otherTransitions.length?", ":""),e={};for(c in this._eases)this._eases.hasOwnProperty(c)&&(e[c]=this._eases[c][this._direction].splitAt(this.getProgress()).toCSSString());for(c in this._stylesTo)this._stylesTo.hasOwnProperty(c)&&(d+=c+" "+a+"ms "+e[this._propsEase[c]]+" 0ms, ");b.transition=d.substr(0,d.length-2)}else b.transition=this._otherTransitions;r.setStyle(this._el,b)},v._setStylesAfterWaiting=function(){if(this._isWaitingForStylesToBeApplied=!1,this.isPlaying()){var a=this._duration*(1-this.getProgress()),b=e(this._direction>0?this._stylesTo:this._stylesFrom);this._applyStyles(a,b)}},v._prepareProperties=function(){return this._onTransitionEnded=this._onTransitionEnded.bind(this),this._setStylesAfterWaiting=this._setStylesAfterWaiting.bind(this),this._onVisibilityChanged=this._onVisibilityChanged.bind(this),s.on(s.CHANGED,this._onVisibilityChanged),q.prototype._prepareProperties.call(this)},v._onVisibilityChanged=function(a){this.isPlaying()&&!a.hiddenState&&(this._update({timeNow:this._getTime()}),this.setProgress(this.getProgress()))},v._onPaused=function(a){var b=r.getStyle.apply(this,[this._el].concat([this._propsArray]));b.transition=this._otherTransitions,r.setStyle(this._el,b)},v._onStart=function(a){var b=1===this._direction&&0===this.getProgress()?2:0;b&&(this._isWaitingForStylesToBeApplied=!0,this._applyStyles(0,e(this._stylesFrom))),o(this._setStylesAfterWaiting,b),"function"==typeof this._storeOnStart&&this._storeOnStart.call(this,a)},v._onComplete=function(a){r.setStyle(this._el,this._completeStyles),"function"==typeof this._storeOnComplete&&this._storeOnComplete.call(this,a)},b.exports=d},{"../helpers/BezierCurveCssManager":249,"../helpers/PageVisibilityManager":251,"../helpers/convertToStyleObject":253,"../helpers/convertToTransitionableObjects":254,"../helpers/isCssCubicBezierString":257,"../helpers/removeTransitions":258,"../helpers/splitUnits":259,
"../helpers/toCamCase":260,"../helpers/transitionEnd":261,"../helpers/waitAnimationFrames":262,"./ClipEasing":245,"ac-dom-styles":83,"ac-easing":186,"ac-object":233}],248:[function(a,b,c){"use strict";function d(a,b){this.manager=b,this.p1={x:a[0],y:a[1]},this.p2={x:a[2],y:a[3]},this._cacheSplits={}}var e=a("ac-easing").createBezier,f=d.prototype;f.splitAt=function(a){if(0===a)return this;if(void 0!==this._cacheSplits[a])return this._cacheSplits[a];for(var b=[this.p1.x,this.p2.x],c=[this.p1.y,this.p2.y],d=0,e=a,f=0,g=1,h=this._getStartX(a,b);e!==h&&1e3>d;)h>e?g=a:f=a,a=f+.5*(g-f),h=this._getStartX(a,b),++d;var i=this._splitBezier(a,b,c),j=this._normalize(i),k=this.manager.create(j);return this._cacheSplits[e]=k,k},f.reversed=function(){var a=this.toArray();return this.manager.create([.5-(a[2]-.5),.5-(a[3]-.5),.5-(a[0]-.5),.5-(a[1]-.5)])},f.toArray=function(){var a=[this.p1.x,this.p1.y,this.p2.x,this.p2.y];return Array.prototype.slice.call(a)},f.toCSSString=function(){return"cubic-bezier("+this.p1.x+", "+this.p1.y+", "+this.p2.x+", "+this.p2.y+")"},f.toEasingFunction=function(){return e.apply(this,this.toArray()).easingFunction},f._getStartX=function(a,b){var c=a-1,d=a*a,e=c*c,f=d*a;return f-3*d*c*b[1]+3*a*e*b[0]},f._splitBezier=function(a,b,c){var d=a-1,e=a*a,f=d*d,g=e*a;return[g-3*e*d*b[1]+3*a*f*b[0],g-3*e*d*c[1]+3*a*f*c[0],e-2*a*d*b[1]+f*b[0],e-2*a*d*c[1]+f*c[0],a-d*b[1],a-d*c[1]]},f._normalize=function(a){return[(a[2]-a[0])/(1-a[0]),(a[3]-a[1])/(1-a[1]),(a[4]-a[0])/(1-a[0]),(a[5]-a[1])/(1-a[1])]},b.exports=d},{"ac-easing":186}],249:[function(a,b,c){"use strict";function d(){this._instances={}}var e=a("./BezierCurveCss"),f=d.prototype;f.create=function(a){var b;if(b="string"==typeof a?a.replace(/ /g,""):"cubic-bezier("+a.join(",")+")",void 0===this._instances[b]){if("string"==typeof a){a=a.match(/\d*\.?\d+/g);for(var c=a.length;c--;)a[c]=Number(a[c])}this._instances[b]=new e(a,this)}return this._instances[b]},b.exports=new d},{"./BezierCurveCss":248}],250:[function(a,b,c){"undefined"==typeof window.Float32Array&&(window.Float32Array=function(){})},{}],251:[function(a,b,c){"use strict";function d(){var a;"undefined"!=typeof document.hidden?(this._hidden="hidden",a="visibilitychange"):"undefined"!=typeof document.mozHidden?(this._hidden="mozHidden",a="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(this._hidden="msHidden",a="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(this._hidden="webkitHidden",a="webkitvisibilitychange"),"undefined"==typeof document[this._hidden]?this.isHidden=!1:this.isHidden=document[this._hidden],document.addEventListener(a,this._handleVisibilityChange.bind(this),!1)}var e=a("ac-object").create,f=a("ac-event-emitter").EventEmitter,g=d.prototype=e(f.prototype);g.CHANGED="changed",g._handleVisibilityChange=function(a){this.isHidden=document[this._hidden],this.trigger(this.CHANGED,{hiddenState:this.isHidden})},b.exports=new d},{"ac-event-emitter":263,"ac-object":233}],252:[function(a,b,c){"use strict";function d(a,b,c){this._transform=a;var d,f,g;for(g in c)c.hasOwnProperty(g)&&"function"==typeof this._transform[g]&&(d=e(c[g]),f="%"===d.unit?this._convertPercentToPixelValue(g,d.value,b):d.value,this._transform[g].call(this._transform,f))}var e=a("./splitUnits"),f=a("ac-dom-metrics"),g={translateX:"width",translateY:"height"},h=d.prototype;h._convertPercentToPixelValue=function(a,b,c){a=g[a];var d=f.getDimensions(c);return d[a]?(b*=.01,d[a]*b):b},h.toArray=function(){return this._transform.toArray()},h.toCSSString=function(){return this._transform.toCSSString()},b.exports=d},{"./splitUnits":259,"ac-dom-metrics":141}],253:[function(a,b,c){"use strict";b.exports=function(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&null!==a[b]&&(a[b].isColor?c[b]="rgb("+Math.round(a[b].r)+", "+Math.round(a[b].g)+", "+Math.round(a[b].b)+")":"transform"===b?c[b]="matrix("+a[b].join(",")+")":c[b]=a[b].value+a[b].unit);return c}},{}],254:[function(a,b,c){"use strict";var d=a("ac-object").clone,e=a("./cssColorNames"),f=a("./splitUnits"),g=a("./toCamCase"),h=a("ac-color"),i=a("ac-dom-styles"),j=a("ac-feature"),k=a("ac-transform").Transform,l=a("./TransformMatrix"),m=function(a){return e[a]?a=e[a]:(h.isHex(a)&&(a=h.hexToRgb(a)),a=h.rgbToObject(a)),a.isColor=!0,a};b.exports=function(a,b,c){var e={};b=d(b,!0),c=d(c,!0);var n,o,p,q,r,s=j.cssPropertyAvailable("transform");for(r in b)b.hasOwnProperty(r)&&null!==b[r]&&("transform"===r?(s&&(o=new k,n=i.getStyle(a,"transform").transform||"none",o.setMatrixValue(n),p=new l(new k,a,b[r])),p&&p.toCSSString()!==o.toCSSString()?(q=new l(c[r]?new k:o.clone(),a,c[r]),e[r]=o.toArray(),b[r]=p.toArray(),c[r]=q.toArray()):(e[r]=null,b[r]=null)):(n=i.getStyle(a,r)[g(r)]||c[r],h.isColor(n)?(e[r]=m(n),c[r]=void 0!==c[r]?m(c[r]):d(e[r],!0),b[r]=m(b[r])):(e[r]=f(n),c[r]=void 0!==c[r]?f(c[r]):d(e[r],!0),b[r]=f(b[r]))));for(r in c)!c.hasOwnProperty(r)||null===c[r]||void 0!==b[r]&&null!==b[r]||("transform"===r?(s&&(o=new k,o.setMatrixValue(getComputedStyle(a).transform||getComputedStyle(a).webkitTransform||"none"),q=new l(new k,a,c[r])),q&&q.toCSSString()!==o.toCSSString()?(p=new l(o.clone()),e[r]=o.toArray(),b[r]=p.toArray(),c[r]=q.toArray()):(e[r]=null,b[r]=null,c[r]=null)):(n=i.getStyle(a,r)[g(r)],h.isColor(n)?(e[r]=m(n),b[r]=d(e[r],!0),c[r]=m(c[r])):(e[r]=f(n),c[r]=f(c[r]),b[r]=d(e[r],!0))));return{target:e,propsTo:b,propsFrom:c}}},{"./TransformMatrix":252,"./cssColorNames":255,"./splitUnits":259,"./toCamCase":260,"ac-color":121,"ac-dom-styles":83,"ac-feature":203,"ac-object":233,"ac-transform":240}],255:[function(a,b,c){"use strict";var d={aqua:{r:0,g:255,b:255},aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},black:{r:0,g:0,b:0},blue:{r:0,g:0,b:255},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgreen:{r:0,g:100,b:0},darkturquoise:{r:0,g:206,b:209},deepskyblue:{r:0,g:191,b:255},green:{r:0,g:128,b:0},lime:{r:0,g:255,b:0},mediumblue:{r:0,g:0,b:205},mediumspringgreen:{r:0,g:250,b:154},navy:{r:0,g:0,b:128},springgreen:{r:0,g:255,b:127},teal:{r:0,g:128,b:128},midnightblue:{r:25,g:25,b:112},dodgerblue:{r:30,g:144,b:255},lightseagreen:{r:32,g:178,b:170},forestgreen:{r:34,g:139,b:34},seagreen:{r:46,g:139,b:87},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},limegreen:{r:50,g:205,b:50},mediumseagreen:{r:60,g:179,b:113},turquoise:{r:64,g:224,b:208},royalblue:{r:65,g:105,b:225},steelblue:{r:70,g:130,b:180},darkslateblue:{r:72,g:61,b:139},mediumturquoise:{r:72,g:209,b:204},indigo:{r:75,g:0,b:130},darkolivegreen:{r:85,g:107,b:47},cadetblue:{r:95,g:158,b:160},cornflowerblue:{r:100,g:149,b:237},mediumaquamarine:{r:102,g:205,b:170},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},slateblue:{r:106,g:90,b:205},olivedrab:{r:107,g:142,b:35},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},mediumslateblue:{r:123,g:104,b:238},lawngreen:{r:124,g:252,b:0},aquamarine:{r:127,g:255,b:212},chartreuse:{r:127,g:255,b:0},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},maroon:{r:128,g:0,b:0},olive:{r:128,g:128,b:0},purple:{r:128,g:0,b:128},lightskyblue:{r:135,g:206,b:250},skyblue:{r:135,g:206,b:235},blueviolet:{r:138,g:43,b:226},darkmagenta:{r:139,g:0,b:139},darkred:{r:139,g:0,b:0},saddlebrown:{r:139,g:69,b:19},darkseagreen:{r:143,g:188,b:143},lightgreen:{r:144,g:238,b:144},mediumpurple:{r:147,g:112,b:219},darkviolet:{r:148,g:0,b:211},palegreen:{r:152,g:251,b:152},darkorchid:{r:153,g:50,b:204},yellowgreen:{r:154,g:205,b:50},sienna:{r:160,g:82,b:45},brown:{r:165,g:42,b:42},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},greenyellow:{r:173,g:255,b:47},lightblue:{r:173,g:216,b:230},paleturquoise:{r:175,g:238,b:238},lightsteelblue:{r:176,g:196,b:222},powderblue:{r:176,g:224,b:230},firebrick:{r:178,g:34,b:34},darkgoldenrod:{r:184,g:134,b:11},mediumorchid:{r:186,g:85,b:211},rosybrown:{r:188,g:143,b:143},darkkhaki:{r:189,g:183,b:107},silver:{r:192,g:192,b:192},mediumvioletred:{r:199,g:21,b:133},indianred:{r:205,g:92,b:92},peru:{r:205,g:133,b:63},chocolate:{r:210,g:105,b:30},tan:{r:210,g:180,b:140},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},thistle:{r:216,g:191,b:216},goldenrod:{r:218,g:165,b:32},orchid:{r:218,g:112,b:214},palevioletred:{r:219,g:112,b:147},crimson:{r:220,g:20,b:60},gainsboro:{r:220,g:220,b:220},plum:{r:221,g:160,b:221},burlywood:{r:222,g:184,b:135},lightcyan:{r:224,g:255,b:255},lavender:{r:230,g:230,b:250},darksalmon:{r:233,g:150,b:122},palegoldenrod:{r:238,g:232,b:170},violet:{r:238,g:130,b:238},azure:{r:240,g:255,b:255},honeydew:{r:240,g:255,b:240},khaki:{r:240,g:230,b:140},lightcoral:{r:240,g:128,b:128},sandybrown:{r:244,g:164,b:96},beige:{r:245,g:245,b:220},mintcream:{r:245,g:255,b:250},wheat:{r:245,g:222,b:179},whitesmoke:{r:245,g:245,b:245},ghostwhite:{r:248,g:248,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},linen:{r:250,g:240,b:230},salmon:{r:250,g:128,b:114},oldlace:{r:253,g:245,b:230},bisque:{r:255,g:228,b:196},blanchedalmond:{r:255,g:235,b:205},coral:{r:255,g:127,b:80},cornsilk:{r:255,g:248,b:220},darkorange:{r:255,g:140,b:0},deeppink:{r:255,g:20,b:147},floralwhite:{r:255,g:250,b:240},fuchsia:{r:255,g:0,b:255},gold:{r:255,g:215,b:0},hotpink:{r:255,g:105,b:180},ivory:{r:255,g:255,b:240},lavenderblush:{r:255,g:240,b:245},lemonchiffon:{r:255,g:250,b:205},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightyellow:{r:255,g:255,b:224},magenta:{r:255,g:0,b:255},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},pink:{r:255,g:192,b:203},red:{r:255,g:0,b:0},seashell:{r:255,g:245,b:238},snow:{r:255,g:250,b:250},tomato:{r:255,g:99,b:71},white:{r:255,g:255,b:255},yellow:{r:255,g:255,b:0},rebeccapurple:{r:102,g:51,b:153}};b.exports=d},{}],256:[function(a,b,c){"use strict";b.exports=function(a){if(a.transitionProperty){for(var b="",c=a.transitionProperty.split(", "),d=a.transitionDuration.split(", "),e=a.transitionTimingFunction.replace(/\d+[,]+[\s]/gi,function(a){return a.substr(0,a.length-1)}).split(", "),f=a.transitionDelay.split(", "),g=c.length;g--;)b+=c[g]+" "+d[g]+" "+e[g]+" "+f[g]+", ";return b.substr(0,b.length-2)}return!1}},{}],257:[function(a,b,c){"use strict";b.exports=function(a){return"string"==typeof a&&"cubic-bezier("===a.substr(0,13)}},{}],258:[function(a,b,c){"use strict";var d=a("./getShorthandTransition"),e=a("ac-dom-styles");b.exports=function(a,b){var c=e.getStyle(a,"transition","transition-property","transition-duration","transition-timing-function","transition-delay");if(c=c.transition||d(c),c&&c.length){c=c.split(",");for(var f,g=0,h=c.length;h--;)f=c[h].trim().split(" ")[0],void 0!==b[f]&&(c.splice(h,1),++g);g&&(0===c.length&&(c=["all"]),e.setStyle(a,{transition:c.join(",").trim()}))}}},{"./getShorthandTransition":256,"ac-dom-styles":83}],259:[function(a,b,c){"use strict";b.exports=function(a){if(a=String(a),a.indexOf(" ")>-1)throw new Error("Shorthand CSS is not supported. Please use longhand CSS only.");var b=/(\d*\.?\d*)(.*)/,c=1;a&&"-"===a.substr(0,1)&&(a=a.substr(1),c=-1);var d=String(a).match(b);return{value:Number(d[1])*c,unit:d[2]}}},{}],260:[function(a,b,c){"use strict";b.exports=function(a){var b=function(a,b,c,d){return 0===c&&"moz"!==d.substr(1,3)?b:b.toUpperCase()};return a.replace(/-(\w)/g,b)}},{}],261:[function(a,b,c){"use strict";var d;b.exports=function(){if(d)return d;var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return d=c[a]}()},{}],262:[function(a,b,c){"use strict";var d=a("./PageVisibilityManager");b.exports=function(a,b){if(b){var c=function(a){d.isHidden?setTimeout(a,16):window.requestAnimationFrame(a)},e=0,f=function(){e===b?a.call(this):(++e,c(f))};f()}else a.call(this)}},{"./PageVisibilityManager":251}],263:[function(a,b,c){b.exports.EventEmitter=a("./ac-event-emitter/EventEmitter")},{"./ac-event-emitter/EventEmitter":264}],264:[function(a,b,c){"use strict";var d="EventEmitter:propagation",e=function(a){a&&(this.context=a)},f=e.prototype,g=function(){return this.hasOwnProperty("_events")||"object"==typeof this._events||(this._events={}),this._events},h=function(a,b){var c=a[0],d=a[1],e=a[2];if("string"!=typeof c&&"object"!=typeof c||null===c||Array.isArray(c))throw new TypeError("Expecting event name to be a string or object.");if("string"==typeof c&&!d)throw new Error("Expecting a callback function to be provided.");if(d&&"function"!=typeof d){if("object"!=typeof c||"object"!=typeof d)throw new TypeError("Expecting callback to be a function.");e=d}if("object"==typeof c)for(var f in c)b.call(this,f,c[f],e);"string"==typeof c&&(c=c.split(" "),c.forEach(function(a){b.call(this,a,d,e)},this))},i=function(a,b){var c,d,e;if(c=g.call(this)[a],c&&0!==c.length)for(c=c.slice(),this._stoppedImmediatePropagation=!1,d=0,e=c.length;e>d&&(!this._stoppedImmediatePropagation&&!b(c[d],d));d++);},j=function(a,b,c){var d=-1;i.call(this,b,function(a,b){return a.callback===c?(d=b,!0):void 0}),-1!==d&&a[b].splice(d,1)};f.on=function(){var a=g.call(this);return h.call(this,arguments,function(b,c,d){a[b]=a[b]||(a[b]=[]),a[b].push({callback:c,context:d})}),this},f.once=function(){return h.call(this,arguments,function(a,b,c){var d=function(e){b.call(c||this,e),this.off(a,d)};this.on(a,d,this)}),this},f.off=function(a,b){var c=g.call(this);if(0===arguments.length)this._events={};else if(!a||"string"!=typeof a&&"object"!=typeof a||Array.isArray(a))throw new TypeError("Expecting event name to be a string or object.");if("object"==typeof a)for(var d in a)j.call(this,c,d,a[d]);if("string"==typeof a){var e=a.split(" ");1===e.length?b?j.call(this,c,a,b):c[a]=[]:e.forEach(function(a){c[a]=[]})}return this},f.trigger=function(a,b,c){if(!a)throw new Error("trigger method requires an event name");if("string"!=typeof a)throw new TypeError("Expecting event names to be a string.");if(c&&"boolean"!=typeof c)throw new TypeError("Expecting doNotPropagate to be a boolean.");return a=a.split(" "),a.forEach(function(a){i.call(this,a,function(a){a.callback.call(a.context||this.context||this,b)}.bind(this)),c||i.call(this,d,function(c){var d=a;c.prefix&&(d=c.prefix+d),c.emitter.trigger(d,b)})},this),this},f.propagateTo=function(a,b){var c=g.call(this);c[d]||(this._events[d]=[]),c[d].push({emitter:a,prefix:b})},f.stopPropagatingTo=function(a){var b=g.call(this);if(!a)return void(b[d]=[]);var c,e=b[d],f=e.length;for(c=0;f>c;c++)if(e[c].emitter===a){e.splice(c,1);break}},f.stopImmediatePropagation=function(){this._stoppedImmediatePropagation=!0},f.has=function(a,b,c){var d=g.call(this),e=d[a];if(0===arguments.length)return Object.keys(d);if(!e)return!1;if(!b)return e.length>0?!0:!1;for(var f=0,h=e.length;h>f;f++){var i=e[f];if(c&&b&&i.context===c&&i.callback===b)return!0;if(b&&!c&&i.callback===b)return!0}return!1},b.exports=e},{}],265:[function(a,b,c){b.exports=a(51)},{"./ac-prefixer/Prefixer":266}],266:[function(a,b,c){b.exports=a(52)},{"./Prefixer/camelCasedEvents":267}],267:[function(a,b,c){b.exports=a(53)},{}],268:[function(a,b,c){"use strict";var d,e=a("./ac-feature/helpers/memoize"),f=["cssPropertyAvailable","isRetina"],g={canvasAvailable:a("./ac-feature/canvasAvailable"),continuousScrollEventsAvailable:a("./ac-feature/continuousScrollEventsAvailable"),cookiesAvailable:a("./ac-feature/cookiesAvailable"),cssLinearGradientAvailable:a("./ac-feature/cssLinearGradientAvailable"),cssPropertyAvailable:a("./ac-feature/cssPropertyAvailable"),isDesktop:a("./ac-feature/isDesktop"),isHandheld:a("./ac-feature/isHandheld"),isRetina:a("./ac-feature/isRetina"),isTablet:a("./ac-feature/isTablet"),localStorageAvailable:a("./ac-feature/localStorageAvailable"),mediaElementsAvailable:a("./ac-feature/mediaElementsAvailable"),sessionStorageAvailable:a("./ac-feature/sessionStorageAvailable"),svgAvailable:a("./ac-feature/svgAvailable"),threeDTransformsAvailable:a("./ac-feature/threeDTransformsAvailable"),touchAvailable:a("./ac-feature/touchAvailable"),webGLAvailable:a("./ac-feature/webGLAvailable")};for(d in g)-1===f.indexOf(d)&&(g[d]=e(g[d]));b.exports=g},{"./ac-feature/canvasAvailable":269,"./ac-feature/continuousScrollEventsAvailable":270,"./ac-feature/cookiesAvailable":271,"./ac-feature/cssLinearGradientAvailable":272,"./ac-feature/cssPropertyAvailable":273,"./ac-feature/helpers/memoize":275,"./ac-feature/isDesktop":276,"./ac-feature/isHandheld":277,"./ac-feature/isRetina":278,"./ac-feature/isTablet":279,"./ac-feature/localStorageAvailable":280,"./ac-feature/mediaElementsAvailable":281,"./ac-feature/sessionStorageAvailable":282,"./ac-feature/svgAvailable":283,"./ac-feature/threeDTransformsAvailable":284,"./ac-feature/touchAvailable":285,"./ac-feature/webGLAvailable":286}],269:[function(a,b,c){"use strict";var d=a("./helpers/globals");b.exports=function(){var a=d.getDocument(),b=a.createElement("canvas");return!("function"!=typeof b.getContext||!b.getContext("2d"))}},{"./helpers/globals":274}],270:[function(a,b,c){"use strict";var d=a("ac-browser"),e=a("./touchAvailable");b.exports=function(){return!e()||"iOS"===d.os&&d.version>=8||"Chrome"===d.name}},{"./touchAvailable":285,"ac-browser":17}],271:[function(a,b,c){"use strict";var d=a("./helpers/globals");b.exports=function(){var a=!1,b=d.getDocument(),c=d.getNavigator();try{"cookie"in b&&c.cookieEnabled&&(b.cookie="ac_feature_cookie=1",a=-1!==b.cookie.indexOf("ac_feature_cookie"),b.cookie="ac_feature_cookie=; expires=Thu, 01 Jan 1970 00:00:01 GMT;")}catch(e){}return a}},{"./helpers/globals":274}],272:[function(a,b,c){"use strict";var d=a("./cssPropertyAvailable");b.exports=function(){var a=["linear-gradient(to bottom right, #9f9, white)","linear-gradient(top left, #9f9, white)","gradient(linear, left top, right bottom, from(#9f9), to(white))"];return a.some(function(a){return d("background-image",a)})}},{"./cssPropertyAvailable":273}],273:[function(a,b,c){"use strict";var d=a("ac-prefixer");b.exports=function(a,b){return"undefined"!=typeof b?!!d.getStyleValue(a,b):!!d.getStyleProperty(a)}},{"ac-prefixer":265}],274:[function(a,b,c){b.exports=a(202)},{}],275:[function(a,b,c){"use strict";b.exports=function(a){var b;return function(){return"undefined"!=typeof b?b:b=a()}}},{}],276:[function(a,b,c){"use strict";var d=a("./touchAvailable"),e=a("./helpers/globals");b.exports=function(){var a=e.getWindow();return!d()&&!a.orientation}},{"./helpers/globals":274,"./touchAvailable":285}],277:[function(a,b,c){"use strict";var d=a("./isDesktop"),e=a("./isTablet");b.exports=function(){return!d()&&!e()}},{"./isDesktop":276,"./isTablet":279}],278:[function(a,b,c){"use strict";var d=a("./helpers/globals");b.exports=function(){var a=d.getWindow();return"devicePixelRatio"in a&&a.devicePixelRatio>=1.5}},{"./helpers/globals":274}],279:[function(a,b,c){"use strict";var d=a("./isDesktop"),e=a("./helpers/globals");b.exports=function(){var a=e.getWindow(),b=a.screen.width;return a.orientation&&a.screen.height<b&&(b=a.screen.height),!d()&&b>=600}},{"./helpers/globals":274,"./isDesktop":276}],280:[function(a,b,c){"use strict";var d=a("./helpers/globals");b.exports=function(){var a=d.getWindow(),b=!1;try{b=!(!a.localStorage||null===a.localStorage.non_existent)}catch(c){}return b}},{"./helpers/globals":274}],281:[function(a,b,c){"use strict";var d=a("./helpers/globals");b.exports=function(){var a=d.getWindow();return"HTMLMediaElement"in a}},{"./helpers/globals":274}],282:[function(a,b,c){"use strict";var d=a("./helpers/globals");b.exports=function(){var a=d.getWindow(),b=!1;try{"sessionStorage"in a&&"function"==typeof a.sessionStorage.setItem&&(a.sessionStorage.setItem("ac_feature","test"),b=!0,a.sessionStorage.removeItem("ac_feature","test"))}catch(c){}return b}},{"./helpers/globals":274}],283:[function(a,b,c){"use strict";var d=a("./helpers/globals");b.exports=function(){var a=d.getDocument();return a.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}},{"./helpers/globals":274}],284:[function(a,b,c){"use strict";var d=a("./cssPropertyAvailable");b.exports=function(){return d("perspective","1px")&&d("transform","translateZ(0)")}},{"./cssPropertyAvailable":273}],285:[function(a,b,c){"use strict";var d=a("./helpers/globals");b.exports=function(){var a=d.getWindow(),b=d.getDocument();return!!("ontouchstart"in a||a.DocumentTouch&&b instanceof a.DocumentTouch)}},{"./helpers/globals":274}],286:[function(a,b,c){"use strict";var d=a("./helpers/globals");b.exports=function(){var a=d.getDocument(),b=a.createElement("canvas");return!("function"!=typeof b.getContext||!b.getContext("webgl"))}},{"./helpers/globals":274}],287:[function(a,b,c){"use strict";var d=a("./utils/addEventListener"),e=a("./shared/getEventType");b.exports=function(a,b,c,f){return b=e(a,b),d(a,b,c,f)}},{"./shared/getEventType":292,"./utils/addEventListener":293}],288:[function(a,b,c){b.exports=a(212)},{"./shared/camelCasedEventTypes":289,"./shared/prefixHelper":290,"./utils/eventTypeAvailable":291}],289:[function(a,b,c){b.exports=a(215)},{}],290:[function(a,b,c){b.exports=a(89)},{}],291:[function(a,b,c){b.exports=a(220)},{}],292:[function(a,b,c){"use strict";var d=a("ac-prefixer/getEventType");b.exports=function(a,b){var c,e;return c="tagName"in a?a.tagName:a===window?"window":"document",e=d(b,c),e?e:b}},{"ac-prefixer/getEventType":288}],293:[function(a,b,c){"use strict";b.exports=function(a,b,c,d){return a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent("on"+b,c),a}},{}],294:[function(a,b,c){"use strict";b.exports=a("./ac-fullscreen/fullscreen")},{"./ac-fullscreen/fullscreen":300}],295:[function(a,b,c){b.exports={STANDARD:"standard",IOS:"ios"}},{}],296:[function(a,b,c){"use strict";function d(a){l.trigger(j.ENTERFULLSCREEN,a)}function e(a){l.trigger(j.EXITFULLSCREEN,a)}function f(a){l.fullscreenElement()?d(a):e(a)}function g(){h(document,"fullscreenchange",f)}var h=a("ac-dom-events/addEventListener"),i=a("ac-event-emitter").EventEmitter,j=a("./../events/types"),k=a("./../consts/modes"),l=new i;g(),l.fullscreenEnabled=function(a){var b=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||"webkitCancelFullScreen"in document;return!!b},l.fullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.webkitCurrentFullScreenElement},l.exitFullscreen=function(a){var b;"function"==typeof document.exitFullscreen?b="exitFullscreen":"function"==typeof document.webkitExitFullscreen?b="webkitExitFullscreen":"function"==typeof document.webkitCancelFullScreen?b="webkitCancelFullScreen":"function"==typeof document.mozCancelFullScreen&&(b="mozCancelFullScreen"),"function"==typeof document[b]&&document[b].call(document)},l.requestFullscreen=function(a){var b;"function"==typeof a.requestFullscreen?b="requestFullscreen":"function"==typeof a.webkitRequestFullscreen?b="webkitRequestFullscreen":"function"==typeof a.webkitRequestFullScreen?b="webkitRequestFullScreen":"function"==typeof a.mozRequestFullScreen&&(b="mozRequestFullScreen"),"function"==typeof a[b]&&a[b].call(a)},l.mode=k.STANDARD,b.exports=l},{"./../consts/modes":295,"./../events/types":299,"ac-dom-events/addEventListener":287,"ac-event-emitter":263}],297:[function(a,b,c){"use strict";var d=a("./ios"),e=a("./desktop");b.exports={create:function(){var a=e;return"webkitEnterFullscreen"in document.createElement("video")&&!("webkitRequestFullScreen"in document.createElement("div"))&&(a=d),a}}},{"./desktop":296,"./ios":298}],298:[function(a,b,c){"use strict";function d(){h(document,"webkitbeginfullscreen",e,!0),h(document,"webkitendfullscreen",f,!0)}function e(a){l.trigger(j.ENTERFULLSCREEN,a)}function f(a){g=void 0,l.trigger(j.EXITFULLSCREEN,a)}var g,h=a("ac-dom-events/addEventListener"),i=a("ac-event-emitter").EventEmitter,j=a("./../events/types"),k=a("./../consts/modes");d();var l=new i;l.fullscreenEnabled=function(a){return!!a.webkitSupportsFullscreen},l.fullscreenElement=function(){return g},l.exitFullscreen=function(a){a&&"function"==typeof a.webkitExitFullscreen&&a.webkitExitFullscreen()},l.requestFullscreen=function(a){"function"==typeof a.webkitEnterFullscreen&&a.webkitEnterFullscreen()},l.mode=k.IOS,b.exports=l},{"./../consts/modes":295,"./../events/types":299,"ac-dom-events/addEventListener":287,"ac-event-emitter":263}],299:[function(a,b,c){b.exports={ENTERFULLSCREEN:"enterfullscreen",EXITFULLSCREEN:"exitfullscreen"}},{}],300:[function(a,b,c){"use strict";function d(){throw new Error(g)}var e=a("ac-event-emitter").EventEmitter,f=a("./delegate/factory"),g="Error: Element missing. ac-fullscreen requires an element to be specified",h=new e,i=f.create();i.propagateTo(h),h.requestFullscreen=function(a){return a||d(),i.requestFullscreen(a)},h.fullscreenEnabled=function(a){return a||d(),i.fullscreenEnabled(a)},h.fullscreenElement=function(){return i.fullscreenElement()},h.exitFullscreen=function(a){return a||d(),i.exitFullscreen(a)},h.getMode=function(){return i.mode},b.exports=h},{"./delegate/factory":297,"ac-event-emitter":263}],301:[function(a,b,c){b.exports=a(51)},{"./ac-prefixer/Prefixer":302}],302:[function(a,b,c){b.exports=a(52)},{"./Prefixer/camelCasedEvents":303}],303:[function(a,b,c){b.exports=a(53)},{}],304:[function(a,b,c){"use strict";b.exports={addEventListener:a("./ac-dom-events/addEventListener"),dispatchEvent:a("./ac-dom-events/dispatchEvent"),removeEventListener:a("./ac-dom-events/removeEventListener"),stop:a("./ac-dom-events/stop"),target:a("./ac-dom-events/target")}},{"./ac-dom-events/addEventListener":305,"./ac-dom-events/dispatchEvent":306,"./ac-dom-events/removeEventListener":307,"./ac-dom-events/stop":308,"./ac-dom-events/target":309}],305:[function(a,b,c){b.exports=a(55)},{"ac-prefixer":301}],306:[function(a,b,c){b.exports=a(56)},{}],307:[function(a,b,c){b.exports=a(58)},{"ac-prefixer":301}],308:[function(a,b,c){"use strict";b.exports=function(a){a||(a=window.event),a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,a.preventDefault&&a.preventDefault(),a.stopped=!0,a.returnValue=!1}},{}],309:[function(a,b,c){"use strict";b.exports=function(a){return"undefined"!=typeof a.target?a.target:a.srcElement}},{}],310:[function(a,b,c){var d=a("./ac-keyboard/Keyboard");b.exports=new d,b.exports.Keyboard=d,b.exports.keys=a("./ac-keyboard/keymap")},{"./ac-keyboard/Keyboard":312,"./ac-keyboard/keymap":313}],311:[function(a,b,c){function d(a){this.originalEvent=a;var b;for(b in a)"function"!=typeof a[b]&&-1===e.indexOf(b)&&(this[b]=a[b]);this.location=void 0===this.originalEvent.keyLocation?this.originalEvent.location:this.originalEvent.keyLocation}var e=["keyLocation"];d.prototype={preventDefault:function(){return"function"!=typeof this.originalEvent.preventDefault?void(this.originalEvent.returnValue=!1):this.originalEvent.preventDefault()},stopPropagation:function(){return this.originalEvent.stopPropagation()}},b.exports=d},{}],312:[function(a,b,c){"use strict";function d(){this._keysDown=[],this._keyDownEmitter=new g,this._keyUpEmitter=new g,f.addEventListener(document,"keydown",this._DOMKeyDown.bind(this),!0),f.addEventListener(document,"keyup",this._DOMKeyUp.bind(this),!0),this._listening=[]}var e,f=a("ac-dom-events"),g=a("ac-event-emitter").EventEmitter,h=a("./KeyEvent");a("./keymap");e=d.prototype,e._castEventNameNumberToString=function(a){return"number"==typeof a?a.toString():a},e._DOMKeyDown=function(a){var b=this._normalizeKeyboardEvent(a),c=b.keyCode;this._trackKeyDown(c),this._keyDownEmitter.trigger(c.toString(),b)},e._DOMKeyUp=function(a){var b=this._normalizeKeyboardEvent(a),c=b.keyCode;this._trackKeyUp(c),this._keyUpEmitter.trigger(c.toString(),b)},e.addKeyDown=function(){var a=Array.prototype.slice.call(arguments),b=a.shift();if(void 0===b)throw new TypeError('Could not listen for keyup event on "'+b+'"');return b=this._castEventNameNumberToString(b),this._keyDownEmitter.on.apply(this._keyDownEmitter,[b].concat(a))},e.addKeyUp=function(){var a=Array.prototype.slice.call(arguments),b=a.shift();if(void 0===b)throw new TypeError('Could not listen for keyup event on "'+b+'"');return b=this._castEventNameNumberToString(b),this._keyUpEmitter.on.apply(this._keyUpEmitter,[b].concat(a))},e.removeKeyDown=function(){var a=Array.prototype.slice.call(arguments),b=a.shift();return b=this._castEventNameNumberToString(b),this._keyDownEmitter.off.apply(this._keyDownEmitter,[b].concat(a))},e.removeKeyUp=function(){var a=Array.prototype.slice.call(arguments),b=a.shift();return b=this._castEventNameNumberToString(b),this._keyUpEmitter.off.apply(this._keyUpEmitter,[b].concat(a))},e.isDown=function(a){return-1!==this._keysDown.indexOf(a)},e.isUp=function(a){return!this.isDown(a)},e._trackKeyUp=function(a){var b=this._keysDown.indexOf(a);-1!==b&&this._keysDown.splice(b,1)},e._trackKeyDown=function(a){-1===this._keysDown.indexOf(a)&&this._keysDown.push(a)},e._normalizeKeyboardEvent=function(a){return new h(a)},b.exports=d},{"./KeyEvent":311,"./keymap":313,"ac-dom-events":304,"ac-event-emitter":263}],313:[function(a,b,c){b.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,COMMAND:91,CAPSLOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ASTERISK:106,NUMPAD_PLUS:107,NUMPAD_DASH:109,NUMPAD_DOT:110,NUMPAD_SLASH:111,NUMPAD_EQUALS:187,TICK:192,LEFT_BRACKET:219,RIGHT_BRACKET:221,BACKSLASH:220,SEMICOLON:186,APOSTRAPHE:222,SPACEBAR:32,CLEAR:12,COMMA:188,DOT:190,SLASH:191}},{}],314:[function(a,b,c){b.exports=a(165)},{"./ac-shared-instance/SharedInstance":315}],315:[function(a,b,c){b.exports=a(166)},{}],316:[function(a,b,c){"use strict";b.exports={CID:a("./ac-mvc-cid/CID")}},{"./ac-mvc-cid/CID":317}],317:[function(a,b,c){"use strict";function d(){this._idCount=0}var e=a("ac-shared-instance").SharedInstance,f="ac-mvc-cid:CID",g="1.0.0",h=d.prototype;h._cidPrefix="cid",h.getNewCID=function(){var a=this._cidPrefix+"-"+this._idCount;return this._idCount++,a},b.exports=e.share(f,g,d)},{"ac-shared-instance":314}],318:[function(a,b,c){"use strict";b.exports={Collection:a("./ac-mvc-collection/Collection")}},{"./ac-mvc-collection/Collection":319}],319:[function(a,b,c){"use strict";function d(a,b,c,d){"undefined"==typeof a[b]&&(a[b]=function(a,b){return function(){var c=g.toArray(arguments),d=b.concat(c);return a.apply(this,d)}}(c,d))}function e(a){i.call(this),this.options=f.defaults(this.defaultOptions,a||{}),this.models=[],this.cid=h.getNewCID(),this.options.ModelType&&(this.ModelType=this.options.ModelType),this.ModelType&&(this._modelsObject={}),this.on(l.add,this._addToModelsObject,this),this.on(l.remove,this._removeFromModelsObject,this),this.options.models&&this.add(this.options.models)}var f=a("ac-object"),g=a("ac-array"),h=a("ac-mvc-cid").CID,i=a("ac-event-emitter").EventEmitter,j=["every","filter","forEach","map","reduce","reduceRight","some","slice","sort","reverse","indexOf","lastIndexOf"],k=["intersection","union","unique","without"],l={add:"add",remove:"remove",set:"set",reset:"reset",empty:"empty",destroy:"destroy"},m=e.prototype=f.create(i.prototype);m.defaultOptions={},m.count=function(){return this.models?this.models.length:null},m.add=function(a,b){return b=b||{},"undefined"==typeof a&&(a=[]),a=this._returnAsArray(a),a=this._createModels(a),0===this.models.length?this.models=a:this.models=this.models.concat(a),this._trigger(l.add,{models:a},b),this},m.remove=function(a,b){if(b=b||{},!a)return[];a=this._returnAsArray(a);var c,d,e=[],f=a.length;
for(c=0;f>c;c++)d=this.indexOf(a[c]),d>-1&&(e.push(a[c]),this.spliceWithOptions([d,1],{silent:!0}));return e.length>0&&this._trigger(l.remove,{models:e},b),e},m.reset=function(a,b){return b=b||{},this.empty(b),this.add(a,b),this._trigger(l.reset,{models:this.models},b),this},m.empty=function(a){a=a||{};var b=this.slice(0);return this.models=[],this._modelsObject&&(this._modelsObject={}),b.length>0&&(this._trigger(l.remove,{models:b},a),this._trigger(l.empty,{models:b},a)),b},m.destroy=function(a){a=a||{};var b=this.empty(a);this._trigger(l.destroy,{models:b},a),this.off();var c;for(c in this)this.hasOwnProperty(c)&&(this[c]=null)},m.get=function(a){var b=this._getModelByID(a);if(b)return b;var c,d=this.models.length;for(c=0;d>c;c++)if("undefined"!=typeof this.models[c].id&&this.models[c].id===a||"undefined"!=typeof this.models[c].cid&&this.models[c].cid===a){b=this.models[c];break}return b},m.set=function(a,b){b=b||{},"undefined"==typeof a&&(a=[]),a=this._returnAsArray(a);var c,d,e,f="id",g=a.length,h=[],i=[],j={};for(b.matchParameter?f=b.matchParameter:this.ModelType&&this.ModelType.prototype.idAttribute&&(f=this.ModelType.prototype.idAttribute),b.matchParameter&&(f=b.matchParameter),c=0;g>c;c++)d=null,e=a[c]instanceof this.ModelType,e?d=this.get(a[c].id):"object"==typeof a[c]&&(d=this.get(a[c][f])),d?(this.ModelType?(e?d.set(a[c].attributes):d.set(a[c]),j[d.cid]=!0):d=a[c],i.push(d)):(this.ModelType&&(a[c]=this._createModel(a[c])),(this.ModelType||-1===this.indexOf(a[c]))&&h.push(a[c]),i.push(a[c]));var k,m,n,o=i.length,p=[];for(g=this.models.length,c=0;g>c;c++){if(n=this.models[c],this.ModelType)m=!0,j[n.cid]&&(m=!1);else for(m=!0,k=0;o>k;k++)if(n===i[k]){m=!1;break}m&&p.push(n)}return this.models=i,h.length>0&&this._trigger(l.add,{models:h},b),p.length>0&&this._trigger(l.remove,{models:p},b),this._trigger(l.set,{models:i},b),p},m.at=function(a){return this.models?this.models[a]:void 0},m.find=function(a,b){if("object"!=typeof a)return[];b=b||{};var c,d,e=[],f=!1,g=0,h=null,i=0,j=this.models.length,k=j;for(b.reverse&&(i=j-1,k=-1,f=!0),b.limit&&(h=b.limit),d=i;(f?d>k:k>d)&&(c=this.models[d],!(this._modelMatchesProperties(c,a)&&(f?e.unshift(c):e.push(c),g++,h&&g>=h)));f?d--:d++);return e},m.push=function(){return this.pushWithOptions(g.toArray(arguments))},m.pop=function(){return this.popWithOptions(g.toArray(arguments))},m.shift=function(){return this.shiftWithOptions(g.toArray(arguments))},m.unshift=function(){return this.unshiftWithOptions(g.toArray(arguments))},m.splice=function(){return this.spliceWithOptions(g.toArray(arguments))},m.pushWithOptions=function(a,b){b=b||{};var c=this._createModels(a),d=Array.prototype.push.apply(this.models,c);return c.length>0&&this._trigger(l.add,{models:c},b),d},m.popWithOptions=function(a,b){b=b||{};var c=Array.prototype.pop.call(this.models);return c&&this._trigger(l.remove,{models:[c]},b),c},m.shiftWithOptions=function(a,b){b=b||{};var c=Array.prototype.shift.call(this.models);return c&&this._trigger(l.remove,{models:[c]},b),c},m.unshiftWithOptions=function(a,b){b=b||{};var c=this._createModels(a),d=Array.prototype.unshift.apply(this.models,c);return c.length>0&&this._trigger(l.add,{models:c},b),d},m.spliceWithOptions=function(a,b){b=b||{};var c,d,e,f=[a[0],a[1]];return a.length>2&&(c=a.slice(2,a.length),d=this._createModels(c),f=f.concat(d)),e=Array.prototype.splice.apply(this.models,f),e.length>0&&this._trigger(l.remove,{models:e},b),d&&this._trigger(l.add,{models:d},b),e},m._trigger=function(a,b,c){c=c||{},c.silent||this.trigger(a,b)},m._getModelByID=function(a){return this.ModelType&&this._modelsObject&&this._modelsObject[a]?this._modelsObject[a]:null},m._createModel=function(a){return a instanceof this.ModelType||a instanceof e?a:new this.ModelType(a)},m._createModels=function(a){if(!this.ModelType)return Array.prototype.slice.call(a,0);var b,c,d=[],e=a.length;for(c=0;e>c;c++)b=a[c],b instanceof this.ModelType||(b=this._createModel(b)),d.push(b);return d},m._modelMatchesProperties=function(a,b){var c;for(c in b)if(b.hasOwnProperty(c)&&this._getPropFromModel(a,c)!==b[c])return!1;return!0},m._getPropFromModel=function(a,b){return this.ModelType?a.get(b):a[b]},m._addToModelsObject=function(a){this._modelsObject&&a.models||(this._modelsObject={}),a.models.forEach(function(a){this._modelsObject[a.id]=a,this._modelsObject[a.cid]=a},this)},m._removeFromModelsObject=function(a){this._modelsObject&&a.models||(this._modelsObject={}),a.models.forEach(function(a){this._modelsObject[a.id]=null,this._modelsObject[a.cid]=null},this)},m._returnAsArray=function(a){return Array.isArray(a)||(a=[a]),a},m._acArrayProxy=function(a){var b=g.toArray(arguments);return b[0]=this.models,g[a].apply(g,b)},m._arrayPrototypeProxy=function(a){var b=g.toArray(arguments);return b.shift(),Array.prototype[a].apply(this.models,b)},j.forEach(function(a){"function"==typeof Array.prototype[a]&&d(this,a,this._arrayPrototypeProxy,[a])},m),k.forEach(function(a){"function"==typeof g[a]&&d(this,a,this._acArrayProxy,[a])},m),b.exports=e},{"ac-array":10,"ac-event-emitter":263,"ac-mvc-cid":316,"ac-object":358}],320:[function(a,b,c){b.exports=a(165)},{"./ac-shared-instance/SharedInstance":321}],321:[function(a,b,c){b.exports=a(166)},{}],322:[function(a,b,c){b.exports=a(316)},{"./ac-mvc-cid/CID":323}],323:[function(a,b,c){b.exports=a(317)},{"ac-shared-instance":320}],324:[function(a,b,c){"use strict";b.exports={DataProvider:a("./ac-mvc-data-provider/DataProvider")}},{"./ac-mvc-data-provider/DataProvider":325}],325:[function(a,b,c){"use strict";function d(a){return a&&"string"==typeof a.url?(this.options=a,this.url=this.options.url,this.cid=h.getNewCID(),void(this._fetching=!1)):!1}var e=a("ac-event-emitter").EventEmitter,f=a("ac-object"),g=a("ac-ajax"),h=a("ac-mvc-cid").CID,i=d.prototype=f.create(e.prototype);i.fetch=function(a){return a=a||{},this._setBoundCallbacks(a),this._fetchOptions=a,this._intervalActive&&"number"!=typeof this._fetchOptions.interval&&(this._fetchOptions.interval=this._interval),this._fetch()},i.setInterval=function(a){return"number"!=typeof a?!1:("number"==typeof this._interval&&this.clearInterval(),this._interval=a,this._intervalActive=!0,this._fetchOptions&&(this._fetchOptions.interval=this._interval),this._onInterval||(this._onInterval=this._fetch.bind(this)),this._intervalBound||(this.on("complete",this._setIntervalTimeout,this),this._intervalBound=!0),this)},i.clearInterval=function(){this._intervalActive=!1,this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this._intervalBound&&(this.off("complete",this._setIntervalTimeout,this),this._intervalBound=!1)},i._setIntervalTimeout=function(){this._intervalActive&&(this._timeout=setTimeout(this._onInterval,this._interval))},i._fetch=function(){this._fetchOptions.interval&&this.setInterval(this._fetchOptions.interval),this._fetching=!0;var a={url:this.url},b=g.get(a).then(this._boundOnRequestSuccess,this._boundOnRequestFailed);return this._trigger("fetch",{promise:b},this._fetchOptions),b},i._setBoundCallbacks=function(a){this._boundOnRequestSuccess=this._onRequestSuccess.bind(this,a),this._boundOnRequestFailed=this._onRequestFailed.bind(this,a)},i._onRequestSuccess=function(a,b){this._fetching=!1;var c=b.responseText,d=JSON.parse(c);this._trigger("success complete",{data:d,xhr:b},a)},i._onRequestFailed=function(a,b){this._fetching=!1,this._trigger("failed complete",{data:{},xhr:b},a)},i._trigger=function(a,b,c){c=c||{},c.silent||this.trigger(a,b)},b.exports=d},{"ac-ajax":9,"ac-event-emitter":263,"ac-mvc-cid":322,"ac-object":358}],326:[function(a,b,c){b.exports=a(165)},{"./ac-shared-instance/SharedInstance":327}],327:[function(a,b,c){b.exports=a(166)},{}],328:[function(a,b,c){b.exports=a(316)},{"./ac-mvc-cid/CID":329}],329:[function(a,b,c){b.exports=a(317)},{"ac-shared-instance":326}],330:[function(a,b,c){"use strict";b.exports={Model:a("./ac-mvc-model/Model")}},{"./ac-mvc-model/Model":331}],331:[function(a,b,c){"use strict";var d=a("ac-event-emitter").EventEmitter,e=a("ac-object"),f=a("ac-mvc-cid").CID,g=function(a){this.attributes=e.defaults(this.defaultAttributes,a||{}),this.cid=f.getNewCID(),this.attributes[this.idAttribute]&&(this.id=this.attributes[this.idAttribute])},h=g.prototype=e.create(d.prototype);h.defaultAttributes={},h.idAttribute="id",h._trigger=function(a,b,c){c=c||{},c.silent!==!0&&this.trigger(a,b)},h._triggerChange=function(a,b,c){return this._trigger("change:"+a,b,c)},h.get=function(a){return this.attributes?this.attributes[a]:void 0},h.set=function(a,b){if(this.attributes){var c,d,e,f={},g=!1;for(c in a)if(a.hasOwnProperty(c)){if(e=this.get(c),"object"==typeof e&&"object"==typeof a[c]&&JSON.stringify(e)===JSON.stringify(a[c])||e===a[c])continue;g=!0,this.attributes[c]=a[c],d={value:a[c],previous:e},f[c]=d,this._triggerChange(c,d,b)}g&&this._trigger("change",f,b)}},h.has=function(a){return this.attributes?void 0!==this.attributes[a]:!1},h.eachAttribute=function(a,b){if(this.attributes){var c;for(c in this.attributes)this.attributes.hasOwnProperty(c)&&a.call(b,{attribute:c,value:this.attributes[c]})}},h.destroy=function(){this.trigger("destroy"),this.off();var a;for(a in this)this.hasOwnProperty(a)&&(this[a]=null)},b.exports=g},{"ac-event-emitter":263,"ac-mvc-cid":328,"ac-object":358}],332:[function(a,b,c){"use strict";var d,e=a("./ac-dom-nodes/helpers/nodeTypes"),f={createDocumentFragment:a("./ac-dom-nodes/createDocumentFragment"),filterByNodeType:a("./ac-dom-nodes/filterByNodeType"),insertAfter:a("./ac-dom-nodes/insertAfter"),insertBefore:a("./ac-dom-nodes/insertBefore"),insertFirstChild:a("./ac-dom-nodes/insertFirstChild"),insertLastChild:a("./ac-dom-nodes/insertLastChild"),isComment:a("./ac-dom-nodes/isComment"),isDocument:a("./ac-dom-nodes/isDocument"),isDocumentFragment:a("./ac-dom-nodes/isDocumentFragment"),isDocumentType:a("./ac-dom-nodes/isDocumentType"),isElement:a("./ac-dom-nodes/isElement"),isNode:a("./ac-dom-nodes/isNode"),isTextNode:a("./ac-dom-nodes/isTextNode"),remove:a("./ac-dom-nodes/remove"),replace:a("./ac-dom-nodes/replace")};for(d in e)f[d]=e[d];b.exports=f},{"./ac-dom-nodes/createDocumentFragment":333,"./ac-dom-nodes/filterByNodeType":334,"./ac-dom-nodes/helpers/nodeTypes":336,"./ac-dom-nodes/insertAfter":338,"./ac-dom-nodes/insertBefore":339,"./ac-dom-nodes/insertFirstChild":340,"./ac-dom-nodes/insertLastChild":341,"./ac-dom-nodes/isComment":342,"./ac-dom-nodes/isDocument":343,"./ac-dom-nodes/isDocumentFragment":344,"./ac-dom-nodes/isDocumentType":345,"./ac-dom-nodes/isElement":346,"./ac-dom-nodes/isNode":347,"./ac-dom-nodes/isTextNode":348,"./ac-dom-nodes/remove":349,"./ac-dom-nodes/replace":350}],333:[function(a,b,c){b.exports=a(63)},{}],334:[function(a,b,c){arguments[4][64][0].apply(c,arguments)},{"./helpers/isNodeType":335,"./helpers/nodeTypes":336}],335:[function(a,b,c){arguments[4][65][0].apply(c,arguments)},{"../isNode":347}],336:[function(a,b,c){b.exports=a(66)},{}],337:[function(a,b,c){arguments[4][67][0].apply(c,arguments)},{"./isNodeType":335,"./nodeTypes":336}],338:[function(a,b,c){b.exports=a(68)},{"./helpers/validate":337}],339:[function(a,b,c){b.exports=a(69)},{"./helpers/validate":337}],340:[function(a,b,c){b.exports=a(70)},{"./helpers/validate":337}],341:[function(a,b,c){b.exports=a(71)},{"./helpers/validate":337}],342:[function(a,b,c){"use strict";var d=a("./helpers/isNodeType"),e=a("./helpers/nodeTypes").COMMENT_NODE;b.exports=function(a){return d(a,e)}},{"./helpers/isNodeType":335,"./helpers/nodeTypes":336}],343:[function(a,b,c){"use strict";var d=a("./helpers/isNodeType"),e=a("./helpers/nodeTypes").DOCUMENT_NODE;b.exports=function(a){return d(a,e)}},{"./helpers/isNodeType":335,"./helpers/nodeTypes":336}],344:[function(a,b,c){"use strict";var d=a("./helpers/isNodeType"),e=a("./helpers/nodeTypes").DOCUMENT_FRAGMENT_NODE;b.exports=function(a){return d(a,e)}},{"./helpers/isNodeType":335,"./helpers/nodeTypes":336}],345:[function(a,b,c){"use strict";var d=a("./helpers/isNodeType"),e=a("./helpers/nodeTypes").DOCUMENT_TYPE_NODE;b.exports=function(a){return d(a,e)}},{"./helpers/isNodeType":335,"./helpers/nodeTypes":336}],346:[function(a,b,c){"use strict";var d=a("./helpers/isNodeType"),e=a("./helpers/nodeTypes").ELEMENT_NODE;b.exports=function(a){return d(a,e)}},{"./helpers/isNodeType":335,"./helpers/nodeTypes":336}],347:[function(a,b,c){"use strict";b.exports=function(a){return!(!a||!a.nodeType)}},{}],348:[function(a,b,c){"use strict";var d=a("./helpers/isNodeType"),e=a("./helpers/nodeTypes").TEXT_NODE;b.exports=function(a){return d(a,e)}},{"./helpers/isNodeType":335,"./helpers/nodeTypes":336}],349:[function(a,b,c){b.exports=a(80)},{"./helpers/validate":337}],350:[function(a,b,c){b.exports=a(81)},{"./helpers/validate":337}],351:[function(a,b,c){b.exports=a(165)},{"./ac-shared-instance/SharedInstance":352}],352:[function(a,b,c){b.exports=a(166)},{}],353:[function(a,b,c){b.exports=a(316)},{"./ac-mvc-cid/CID":354}],354:[function(a,b,c){b.exports=a(317)},{"ac-shared-instance":351}],355:[function(a,b,c){"use strict";b.exports={View:a("./ac-mvc-view/View")}},{"./ac-mvc-view/View":356}],356:[function(a,b,c){"use strict";function d(a){var b,c,d;this.options=g.defaults(this.defaultOptions,a||{}),this.cid=f.getNewCID(),this.model=this.options.model,this.options.template&&(this.template=this.options.template),b=this.options.tagName||this.tagName,c=this.options.element,d=this.options.className||this.className,c||(c=document.createElement(b)),e.call(this,c),d&&this.addClassName(d),this.options.events&&this.delegateEvents(this.options.events)}var e=a("ac-dom-emitter").DOMEmitter,f=a("ac-mvc-cid").CID,g=a("ac-object"),h=a("ac-dom-nodes"),i=a("ac-classlist"),j=d.prototype=g.create(e.prototype);j.tagName="div",j.defaultOptions={},j.getTagName=function(){return this.el.tagName.toLowerCase()},j.appendTo=function(a){return h.insertLastChild(this.el,a),this},j.render=function(){},j.addClassName=function(a){return this._manipulateClassName(a,"add")},j.removeClassName=function(a){return this._manipulateClassName(a,"remove")},j._manipulateClassName=function(a,b){var c;if("string"==typeof a)c=a.split(" ");else{if("object"!=typeof a||!Array.isArray(a))return this;c=a.slice()}return c.unshift(this.el),i[b].apply(this.el,c),this},j.destroy=function(){this.emitterTrigger("destroy"),this.off(),h.remove(this.el);var a;for(a in this)this.hasOwnProperty(a)&&(this[a]=null)},j.delegateEvents=function(a,b){b=b||this;var c,d;for(c in a)a.hasOwnProperty(c)&&(d=a[c],"string"==typeof d&&(a[c]=this[a[c]]));return this.on(a,b),this},b.exports=d},{"ac-classlist":21,"ac-dom-emitter":48,"ac-dom-nodes":332,"ac-mvc-cid":353,"ac-object":358}],357:[function(a,b,c){b.exports=a(237)},{}],358:[function(a,b,c){"use strict";b.exports={clone:a("./ac-object/clone"),create:a("./ac-object/create"),defaults:a("./ac-object/defaults"),extend:a("./ac-object/extend"),getPrototypeOf:a("./ac-object/getPrototypeOf"),isDate:a("./ac-object/isDate"),isEmpty:a("./ac-object/isEmpty"),isRegExp:a("./ac-object/isRegExp"),toQueryParameters:a("./ac-object/toQueryParameters")}},{"./ac-object/clone":359,"./ac-object/create":360,"./ac-object/defaults":361,"./ac-object/extend":362,"./ac-object/getPrototypeOf":363,"./ac-object/isDate":364,"./ac-object/isEmpty":365,"./ac-object/isRegExp":366,"./ac-object/toQueryParameters":367}],359:[function(a,b,c){"use strict";var d=a("./extend");b.exports=function(a){return d({},a)}},{"./extend":362}],360:[function(a,b,c){b.exports=a(229)},{}],361:[function(a,b,c){b.exports=a(230)},{"./extend":362}],362:[function(a,b,c){b.exports=a(231)},{}],363:[function(a,b,c){b.exports=a(232)},{}],364:[function(a,b,c){b.exports=a(234)},{}],365:[function(a,b,c){b.exports=a(235)},{}],366:[function(a,b,c){b.exports=a(236)},{}],367:[function(a,b,c){b.exports=a(238)},{qs:357}],368:[function(a,b,c){b.exports=a(228)},{"./extend":371}],369:[function(a,b,c){b.exports=a(229)},{}],370:[function(a,b,c){b.exports=a(230)},{"./extend":371}],371:[function(a,b,c){b.exports=a(231)},{}],372:[function(a,b,c){b.exports=a(232)},{}],373:[function(a,b,c){b.exports=a(233)},{"./clone":368,"./create":369,"./defaults":370,"./extend":371,"./getPrototypeOf":372,"./isDate":374,"./isEmpty":375,"./isRegExp":376,"./toQueryParameters":378}],374:[function(a,b,c){b.exports=a(234)},{}],375:[function(a,b,c){b.exports=a(235)},{}],376:[function(a,b,c){b.exports=a(236)},{}],377:[function(a,b,c){b.exports=a(237)},{}],378:[function(a,b,c){b.exports=a(238)},{qs:377}],379:[function(a,b,c){"use strict";b.exports={Routes:a("./ac-routes/Routes"),Route:a("./ac-routes/Route")}},{"./ac-routes/Route":380,"./ac-routes/Routes":381}],380:[function(a,b,c){"use strict";function d(a,b,c,d,e){if(this.path=a,this.callback=b,this.context=c,this.greedy=d||!1,this.priority=e||0,"number"!=typeof this.priority)throw new Error("Priority must be a Number.");this.identifierPattern="([a-zA-Z0-9\\-\\_]+)",this.tokensRe=new RegExp(":"+this.identifierPattern,"g"),this.matcher=this._createRouteMatcher(a)}var e=d.prototype;e._createRouteMatcher=function(a){if(a&&a.exec)return{pattern:a};if("/"===a)return{pattern:/^\/$/};if("string"!=typeof a)throw new Error("path must be either a string or regex");var b=this._extractRouteTokens(a),c=a.replace(this.tokensRe,this.identifierPattern),d=new RegExp(c,"g");return{pattern:d,routeTokens:b}},e._extractRouteTokens=function(a){var b=a.replace(this.tokensRe,":"+this.identifierPattern),c=new RegExp(b,"g"),d=c.exec(a);return d=d&&d.length>1?d.slice(1):null},e.match=function(a){this.matcher.pattern.lastIndex=0;var b=this.matcher.pattern.exec(a);if(b){var c=b.length?b.slice(1):[],d=this.callback;if(d&&"function"==typeof d)return d.apply(this.context||this,c),!0}return!1},b.exports=d},{}],381:[function(a,b,c){"use strict";function d(a){this._routes={},a&&this.addRoutes(a)}var e=a("./Route"),f=d.prototype;f._getIndex=function(a,b,c){if(void 0!==this._routes[a])for(var d=this._routes[a].length;--d>-1;)if(this._routes[a][d].callback===b&&this._routes[a][d].context===c)return d;return-1},f.match=function(a){var b,c;for(b in this._routes)for(c=this._routes[b].length;--c>-1&&(!this._routes[b][c].match(a)||!this._routes[b][c].greedy););},f.add=function(a){if(void 0===this._routes[a.path])this._routes[a.path]=[a];else if(!this.get(a.path,a.callback,a.context)){var b,c=this._routes[a.path].length;if(c>0)for(b=0;c>b;++b)if(this._routes[a.path][b].priority>a.priority)return this._routes[a.path].splice(b,0,a),a;this._routes[a.path].push(a)}return a},f.remove=function(a){var b=this._getIndex(a.path,a.callback,a.context);return b>-1?(this._routes[a.path].splice(b,1),a):!1},f.get=function(a,b,c){var d=this._getIndex(a,b,c);return d>-1?this._routes[a][d]:!1},f.createRoute=function(a,b,c,d,f){var g=new e(a,b,c,d,f);return this.add(g),g},f.addRoutes=function(a){if(!(a instanceof Array))throw new Error("routes must be an Array.");var b,c,d=a.length;for(b=0;d>b;++b)c=a[b],c&&"object"==typeof c&&this.add(c)},f.removeRoutes=function(a){if(!(a instanceof Array))throw new Error("routes must be an Array.");var b,c,d=a.length;for(b=0;d>b;++b)c=a[b],c&&"object"==typeof c&&this.remove(c)},f.getRoutes=function(a){return void 0===this._routes[a]?[]:this._routes[a]},b.exports=d},{"./Route":380}],382:[function(a,b,c){"use strict";b.exports={Router:a("./ac-router/Router"),History:a("./ac-router/History"),Routes:a("ac-routes").Routes,Route:a("ac-routes").Route}},{"./ac-router/History":383,"./ac-router/Router":384,"ac-routes":379}],383:[function(a,b,c){"use strict";function d(a){a=a||{},this.history=window.history,this.rootStripper=/^\/+|\/+$/g,this.root=a.root||"/",this.root=("/"+this.root+"/").replace(this.rootStripper,"/");var b="boolean"!=typeof a.resolveInitialHash?!0:a.resolveInitialHash;this._pushState="boolean"!=typeof a.pushState?!0:a.pushState,this._hashChange=a.hashChange||!1,this._setUpdateVars(b),a.autoStart&&this.start()}var e=a("ac-object").create,f=a("ac-dom-events"),g=a("ac-event-emitter").EventEmitter,h=d.prototype=e(g.prototype);h._isRoot=function(a){return("/"+a+"/").replace(this.rootStripper,"/")===this.root},h._isPushStateSupported=function(){return this.history&&this.history.pushState},h._isHashChangeSupported=function(){return"onhashchange"in window},h._setUpdateVars=function(a){if(this._pushState&&this._isPushStateSupported())a&&this._hashChange&&-1!==window.location.href.indexOf("#")&&this.history.pushState({},document.title,window.location.href.replace("#","")),this._hashChange=!1;else{if(a&&this._pushState&&this._hashChange&&window.location.href.indexOf("#")<0){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname,window.location.origin+=window.location.port?":"+window.location.port:"");var b=window.location.href.substr(window.location.origin.length+this.root.length);if(b.length)return void(window.location=window.location.origin+this.root+"#"+b)}this._hashChange&&!this._isHashChangeSupported()&&(this._interval=50,this._iframe=document.createElement('<iframe src="javascript:0" tabindex="-1" style="display:none;">'),this._iframe=document.body.appendChild(this._iframe).contentWindow,this._iframe.document.open().close()),this._pushState=!1}},h._checkUrl=function(){var a=this._iframe.location.hash.substr(1);0===a.length&&(a="/"),this.fragment()!==a&&(window.location.hash="#"+a,this._ignoreHashChange=!1,this._handleHashChange())},h._handlePopState=function(a){this.trigger("popstate",{fragment:this.fragment()})},h._handleHashChange=function(a){return this._ignoreHashChange?void(this._ignoreHashChange=!1):void this.trigger("popstate",{fragment:this.fragment()})},h.canUpdate=function(){return this._pushState||this._hashChange},h.start=function(){return this.started||!this._pushState&&!this._hashChange||(this.started=!0,this._pushState?(this._handlePopState=this._handlePopState.bind(this),f.addEventListener(window,"popstate",this._handlePopState)):this._hashChange&&(this._isHashChangeSupported()?(this._handleHashChange=this._handleHashChange.bind(this),f.addEventListener(window,"hashchange",this._handleHashChange)):(this._iframe.location.hash=this.fragment(),this._checkUrl=this._checkUrl.bind(this),this._checkUrlInterval=setInterval(this._checkUrl,this._interval)))),this.started||!1},h.stop=function(){this.started&&(this.started=!1,this._pushState?f.removeEventListener(window,"popstate",this._handlePopState):this._hashChange&&(this._isHashChangeSupported()?f.removeEventListener(window,"hashchange",this._handleHashChange):this._checkUrlInterval&&(clearInterval(this._checkUrlInterval),this._checkUrlInterval=null)))},h.navigate=function(a,b){if(!this.started||!this.canUpdate())return!1;b=b||{};var c=((this._isRoot(a)?"":this.root)+a).replace(/([^:])(\/\/)/g,"$1/");return this._pushState?this.history.pushState(b,document.title,c):this._hashChange&&(this._ignoreHashChange=!0,window.location.hash="#"+a,this._isHashChangeSupported()||(this._iframe.document.open().close(),this._iframe.location.hash="#"+a)),!0},h.fragment=function(){var a="";return this._pushState?a=window.location.pathname.substr(this.root.length):this._hashChange&&(a=window.location.hash.substr(1)),""===a?"/":a},b.exports=d},{"ac-dom-events":54,"ac-event-emitter":263,"ac-object":373}],384:[function(a,b,c){"use strict";function d(a){a=a||{},this._intercept=a.intercept||"[data-route]",this._interceptAttribute=a.attribute||"href",this._handleTrigger=this._handleTrigger.bind(this),this.intercept(this._intercept),this.history=a.history||new g({root:a.root,autoStart:a.autoStart,pushState:a.pushState,hashChange:a.hashChange,resolveInitialHash:a.resolveInitialHash}),h.call(this,a.routes),a.autoStart&&(this.history.started||this.history.start(),this.start())}var e=a("ac-object").create,f=a("ac-dom-emitter").DOMEmitter,g=a("./History"),h=(a("ac-routes").Route,a("ac-routes").Routes),i=d.prototype=e(h.prototype);i._handleTrigger=function(a){if(this.started){var b=a.target.getAttribute(this._interceptAttribute);b&&(/^(http|https):\/\/+/.exec(b)&&"href"===this._interceptAttribute&&(b=b.substr(b.indexOf(this.history.root)+this.history.root.length)||"/"),this.navigate(b)&&a.preventDefault())}},i._handlePopstate=function(a){this.navigate(a.fragment,!0)},i.start=function(){this.started||(this.started=!0,this.history.start(),this._handlePopstate=this._handlePopstate.bind(this),this.history.on("popstate",this._handlePopstate),this.navigate(this.history.fragment(),!0))},i.stop=function(){this.started&&(this.started=!1,this.history.stop(),this.history.off("popstate",this._handlePopstate))},i.navigate=function(a,b){return this.history.fragment()!==a||b?!a||b||this.history.navigate(a)?(this.match(a),!0):!1:this.history.canUpdate()},i.intercept=function(a,b){var c=new f(b||document.body);c.on("click",a,this._handleTrigger)},b.exports=d},{"./History":383,"ac-dom-emitter":48,"ac-object":373,"ac-routes":379}],385:[function(a,b,c){b.exports=a(143)},{}],386:[function(a,b,c){b.exports=a(134)},{"./utils/getBoundingClientRect":436}],387:[function(a,b,c){b.exports=a(135)},{"./utils/getBoundingClientRect":436}],388:[function(a,b,c){b.exports=a(136)},{"./getDimensions":387,"./utils/getBoundingClientRect":436,"ac-window-delegate":418}],389:[function(a,b,c){b.exports=a(137)},{"./getDimensions":387,"./getPixelsInViewport":390}],390:[function(a,b,c){b.exports=a(138)},{"./getViewportPosition":392,"ac-window-delegate":418}],391:[function(a,b,c){b.exports=a(139)},{"./getDimensions":387,"./utils/getBoundingClientRect":436}],392:[function(a,b,c){b.exports=a(140)},{"./getPagePosition":388,"./utils/getBoundingClientRect":436,"ac-window-delegate":418}],393:[function(a,b,c){b.exports=a(141)},{"./getContentDimensions":386,"./getDimensions":387,"./getPagePosition":388,"./getPercentInViewport":389,"./getPixelsInViewport":390,"./getPosition":391,"./getViewportPosition":392,"./isInViewport":394}],394:[function(a,b,c){b.exports=a(142)},{"./getPercentInViewport":389,"./getPixelsInViewport":390}],395:[function(a,b,c){b.exports=a(29)},{"./ac-dom-traversal/ancestor":396,"./ac-dom-traversal/ancestors":397,"./ac-dom-traversal/children":398,"./ac-dom-traversal/filterBySelector":399,"./ac-dom-traversal/firstChild":400,"./ac-dom-traversal/lastChild":403,"./ac-dom-traversal/matchesSelector":404,"./ac-dom-traversal/nextSibling":405,"./ac-dom-traversal/nextSiblings":406,"./ac-dom-traversal/previousSibling":407,"./ac-dom-traversal/previousSiblings":408,"./ac-dom-traversal/querySelector":409,"./ac-dom-traversal/querySelectorAll":410,"./ac-dom-traversal/shims/ie":411,"./ac-dom-traversal/siblings":412}],396:[function(a,b,c){b.exports=a(30)},{"./helpers/validate":402,"./matchesSelector":404,"ac-dom-nodes":62}],397:[function(a,b,c){b.exports=a(31)},{"./helpers/validate":402,"./matchesSelector":404,"ac-dom-nodes":62}],398:[function(a,b,c){b.exports=a(32)},{"./filterBySelector":399,"./helpers/validate":402,"ac-dom-nodes":62}],399:[function(a,b,c){b.exports=a(33)},{"./helpers/validate":402,"./matchesSelector":404}],400:[function(a,b,c){b.exports=a(34)},{"./children":398,"./helpers/validate":402}],401:[function(a,b,c){b.exports=a(35)},{}],402:[function(a,b,c){b.exports=a(36)},{"ac-dom-nodes":62}],403:[function(a,b,c){b.exports=a(37)},{"./children":398,"./helpers/validate":402}],404:[function(a,b,c){b.exports=a(38)},{"./helpers/nativeMatches":401,"./helpers/validate":402,"ac-dom-nodes":62}],405:[function(a,b,c){b.exports=a(39)},{"./helpers/validate":402,"./matchesSelector":404,"ac-dom-nodes":62}],406:[function(a,b,c){b.exports=a(40)},{"./helpers/validate":402,"./matchesSelector":404,"ac-dom-nodes":62}],407:[function(a,b,c){b.exports=a(41)},{"./helpers/validate":402,"./matchesSelector":404,"ac-dom-nodes":62}],408:[function(a,b,c){b.exports=a(42)},{"./helpers/validate":402,"./matchesSelector":404,"ac-dom-nodes":62}],409:[function(a,b,c){b.exports=a(43)},{"./helpers/validate":402}],410:[function(a,b,c){b.exports=a(44)},{"./helpers/validate":402}],411:[function(a,b,c){b.exports=a(45)},{"../helpers/nativeMatches":401,"../helpers/validate":402,"../vendor/sizzle/sizzle":413,"ac-dom-nodes":62}],412:[function(a,b,c){b.exports=a(46)},{"./children":398,"./helpers/validate":402}],413:[function(a,b,c){b.exports=a(47)},{}],414:[function(a,b,c){b.exports=a(163)},{"./ac-dom-emitter/DOMEmitter":415}],415:[function(a,b,c){b.exports=a(164)},{"ac-dom-events":385,"ac-dom-traversal":395,"ac-event-emitter":263}],416:[function(a,b,c){b.exports=a(165)},{"./ac-shared-instance/SharedInstance":417}],417:[function(a,b,c){b.exports=a(166)},{}],418:[function(a,b,c){b.exports=a(167)},{"./ac-window-delegate/WindowDelegate":421,"./ac-window-delegate/WindowDelegateCustomEvent":422,"./ac-window-delegate/WindowDelegateOptimizer":423}],419:[function(a,b,c){b.exports=a(168)},{"ac-event-emitter":263}],420:[function(a,b,c){b.exports=a(169)},{"ac-event-emitter":263}],421:[function(a,b,c){b.exports=a(170)},{"./CustomEventController":419,"./OptimizerController":420,"./optimizers/optimizers":426,"./queries/queries":435,"ac-dom-emitter":414,"ac-shared-instance":416}],422:[function(a,b,c){b.exports=a(171)},{"ac-event-emitter":263}],423:[function(a,b,c){b.exports=a(172)},{"ac-event-emitter":263}],424:[function(a,b,c){b.exports=a(173)},{"../../WindowDelegateOptimizer":423,"../../queries/queries":435}],425:[function(a,b,c){b.exports=a(174)},{"../../WindowDelegateOptimizer":423,"../../queries/queries":435}],426:[function(a,b,c){b.exports=a(175)},{"./events/resize":424,"./events/scroll":425}],427:[function(a,b,c){b.exports=a(176)},{}],428:[function(a,b,c){b.exports=a(177)},{}],429:[function(a,b,c){b.exports=a(178)},{}],430:[function(a,b,c){b.exports=a(179)},{}],431:[function(a,b,c){b.exports=a(180)},{}],432:[function(a,b,c){b.exports=a(181)},{}],433:[function(a,b,c){b.exports=a(182)},{}],434:[function(a,b,c){b.exports=a(183)},{}],435:[function(a,b,c){b.exports=a(184)},{"./methods/clientHeight":427,"./methods/clientWidth":428,"./methods/innerHeight":429,"./methods/innerWidth":430,"./methods/maxScrollX":431,"./methods/maxScrollY":432,"./methods/scrollX":433,"./methods/scrollY":434}],436:[function(a,b,c){b.exports=a(185)},{}],437:[function(a,b,c){b.exports.Slider=a("./ac-slider/Slider")},{"./ac-slider/Slider":438}],438:[function(a,b,c){"use strict";var d=a("ac-dom-traversal"),e=a("ac-dom-events"),f=a("ac-event-emitter"),g=a("ac-dom-metrics"),h={min:0,max:1,step:1,value:0,orientation:"horizontal",template:'<div class="ac-slider-runnable-track">\n	<div class="ac-slider-thumb"></div>\n</div>'},i=Object.keys(h),j=function(a,b){this.options=Object.assign({},h,b),this.model=Object.create(this.options),this.el=a,a.className+=" ac-slider-container",a.innerHTML=this.model.template,this.initialize()};j.prototype=Object.create(f.EventEmitter.prototype);var k=j.prototype;k.addEventListeners=function(){this.addEventListener(this.el,"mousedown",this.onMouseDown),this.addEventListener(this.el,"touchstart",this.onTouchStart),this.addEventListener(this.el,"mouseover",this.onMouseOver),this.addEventListener(this.el,"mouseleave",this.onMouseLeave),this.addEventListener(this.el,"touchend",this.onTouchEnd),this.addEventListener(document,"touchend",this.onMouseUp)},k.addEventListener=e.addEventListener,k.bindMethods=function(){this.onMouseDown=this.bindMethod(this.onMouseDown,this),this.onTouchStart=this.bindMethod(this.onTouchStart,this),this.onMouseOver=this.bindMethod(this.onMouseOver,this),this.onMouseLeave=this.bindMethod(this.onMouseLeave,this),this.onTouchEnd=this.bindMethod(this.onTouchEnd,this),this.onMouseUp=this.bindMethod(this.onMouseUp,this),this.onMouseMove=this.bindMethod(this.onMouseMove,this),this.onTouchMove=this.bindMethod(this.onTouchMove,this)},k.bindMethod=function(a,b){return a.bind(b)},k.correctValueMinMax=function(a,b,c){return a>c&&(a=c),b>a&&(a=b),a},k.calculateStepsToValue=function(a,b){return Math.abs(a-b)},k.calculateMaxSteps=function(a,b){return Math.abs(b-a)},k.calculateStepsEqualToPercentage=function(a,b){return a/100*b},k.calculateNextStepInRange=function(a,b,c,d){var e=this.calculateMaxSteps(b,c),f=this.calculateStepsToValue(a,b),g=b+Math.floor(e/d)*d;return a=Math.min(g,b+Math.round(f/d)*d);
},k.dispatchEvent=e.dispatchEvent,k.disableUserControls=function(){this.removeEventListeners()},k.enableUserControls=function(){this.addEventListeners()},k.getNextValue=function(a,b,c,d){return a=this.correctValueMinMax(a,b,c),"auto"!==d&&(a=this.calculateNextStepInRange(a,b,c,d)),a},k.getOrientation=function(){return this.model.orientation},k.getValue=function(){return this.model.value},k.getMin=function(){return this.model.min},k.getMax=function(){return this.model.max},k.getStep=function(){return this.model.step},k.getClientXValue=function(a){var b=this.getClientXFromEvent(a),c=g.getDimensions(this.thumbElement,!0),d=(g.getViewportPosition(this.thumbElement),g.getDimensions(this.runnableTrackElement,!0)),e=(g.getViewportPosition(this.runnableTrackElement),b-this.runnableTrackElement.getBoundingClientRect().left-c.width/2),f=d.width-c.width,h=e/f*100,i=this.calculateMaxSteps(this.getMin(),this.getMax()),j=this.calculateStepsEqualToPercentage(h,i);return this.getMin()+j},k.getClientYValue=function(a){var b=this.getClientYFromEvent(a),c=g.getDimensions(this.thumbElement,!0),d=(g.getViewportPosition(this.thumbElement),g.getDimensions(this.runnableTrackElement,!0)),e=(g.getViewportPosition(this.runnableTrackElement),d.height-c.height),f=e-(b-this.runnableTrackElement.getBoundingClientRect().top-c.height/2),h=f/(d.height-c.height)*100,i=this.calculateMaxSteps(this.model.min,this.model.max),j=this.calculateStepsEqualToPercentage(h,i);return this.model.min+j},k.getClientValue=function(a){a=a.originalEvent||a;var b;return b="horizontal"===this.model.orientation?this.getClientXValue(a):this.getClientYValue(a)},k.getClientXFromEvent=function(a){return a.touches?a.touches[0].clientX:a.clientX},k.getClientYFromEvent=function(a){return a.touches?a.touches[0].clientY:a.clientY},k.initialize=function(){this.setNodeReferences(),this.setValue(this.model.value),this.bindMethods(),this.addEventListeners()},k.onMouseLeave=function(){this.preventDocumentMouseUpDispatch=!1},k.onMouseDown=function(a){var b=this.getClientValue(a);this.addEventListener(document,"mouseup",this.onMouseUp),this.addEventListener(document,"mousemove",this.onMouseMove),this.trigger("grab",this.getValue()),this.setValue(b)},k.onMouseUp=function(){this.removeEventListener(document,"mouseup",this.onMouseUp),this.removeEventListener(document,"mousemove",this.onMouseMove),this.trigger("release",this.getValue()),this.preventDocumentMouseUpDispatch||this.dispatchEvent(this.el,"mouseup")},k.onMouseOver=function(){this.preventDocumentMouseUpDispatch=!0},k.onTouchEnd=function(){this.removeEventListener(document,"touchend",this.onTouchEnd),this.removeEventListener(document,"touchmove",this.onTouchMove),this.trigger("release",this.getValue()),this.preventDocumentMouseUpDispatch||this.dispatchEvent(this.el,"touchend")},k.onTouchStart=function(a){var b=this.getClientValue(a);this.addEventListener(document,"touchend",this.onMouseUp),this.addEventListener(document,"touchmove",this.onTouchMove),this.trigger("grab",this.getValue()),this.setValue(b)},k.onMouseMove=function(a){var b=this.getClientValue(a);this.setValue(b)},k.onTouchMove=function(a){a.preventDefault&&a.preventDefault();var b=this.getClientValue(a);this.setValue(b)},k.getElementOrientationOffsetValue=function(a,b){return"horizontal"===b?g.getDimensions(a).width:g.getDimensions(a).height},k.getAvailableRunnableTrack=function(a,b){var c=this.getElementOrientationOffsetValue(this.thumbElement,b);return a-c},k.getPercentageByValue=function(a,b){return a=this.calculateStepsToValue(a,this.getMin()),b=this.calculateMaxSteps(this.getMin(),this.getMax()),a/b*100},k.getPercentageOfRunnableTrack=function(a){var b=this.getOrientation(),c=this.getElementOrientationOffsetValue(this.runnableTrackElement,b),d=this.getAvailableRunnableTrack(c,b),e=this.getPercentageByValue(a,this.getMax()),f=e/100*d;return f/c*100},k.onChange=function(a){var b=this.getPercentageOfRunnableTrack(a);"horizontal"===this.getOrientation()?isNaN(b)||(this.thumbElement.style.left=b+"%"):isNaN(b)||(this.thumbElement.style.bottom=b+"%"),this.trigger("change",this.getValue())},k.removeEventListeners=function(){this.removeEventListener(this.el,"mousedown",this.onMouseDown),this.removeEventListener(this.el,"touchstart",this.onTouchStart),this.removeEventListener(this.el,"mouseover",this.onMouseOver),this.removeEventListener(this.el,"mouseleave",this.onMouseLeave),this.removeEventListener(this.el,"touchend",this.onTouchEnd),this.removeEventListener(document,"touchend",this.onMouseUp)},k.removeEventListener=e.removeEventListener,k.setNodeReferences=function(){this.runnableTrackElement=d.querySelector(".ac-slider-runnable-track",this.el),this.thumbElement=d.querySelector(".ac-slider-thumb",this.el)},k.setOrientation=function(a){this.set("orientation",a)},k.setValue=function(a){a=this.getNextValue(a,this.getMin(),this.getMax(),this.getStep()),this.set("value",a),this.onChange(a)},k.setMin=function(a){this.set("min",a)},k.setMax=function(a){this.set("max",a)},k.setStep=function(a){this.set("step",a)},k.set=function(a,b){if(i.indexOf(a)>-1&&this.model[a]!==b){var c=this.model[a];this.model[a]=b,this.trigger("change:model:"+a,{previous:c,current:b})}},b.exports=j},{"ac-dom-events":385,"ac-dom-metrics":393,"ac-dom-traversal":96,"ac-event-emitter":263}],439:[function(a,b,c){"use strict";b.exports={Link:a("./ac-social/Link"),Dialog:a("./ac-social/Dialog"),Focus:a("./ac-social/Focus"),Debug:a("./ac-social/Debug")}},{"./ac-social/Debug":440,"./ac-social/Dialog":441,"./ac-social/Focus":442,"./ac-social/Link":443}],440:[function(a,b,c){"use strict";function d(){this.types={};var a;for(a in e)e.hasOwnProperty(a)&&(f[a]=a,this.addType(a,e[a].getDialogDebugData.bind(e[a])))}var e=a("./NetworkActions"),f=d.prototype;f.create=function(a,b){b=b||{};var c=this.types[a];if(c)return c(b)},f.addType=function(a,b){return this.types[a]=b,this},f.removeType=function(){return this.types[name]=null,this},b.exports=new d},{"./NetworkActions":444}],441:[function(a,b,c){"use strict";function d(){this.types={};var a;for(a in e)e.hasOwnProperty(a)&&(f[a]=a,this.addType(a,e[a].generateDialog.bind(e[a])))}var e=a("./NetworkActions"),f=d.prototype;f.create=function(a,b){b=b||{};var c=this.types[a];if(c)return c(b)},f.addType=function(a,b){return this.types[a]=b,this},f.removeType=function(){return this.types[name]=null,this},b.exports=new d},{"./NetworkActions":444}],442:[function(a,b,c){"use strict";b.exports=function(a){if(window.getSelection){var b=window.getSelection(),c=document.createRange();c.selectNodeContents(a),b.removeAllRanges(),b.addRange(c)}else if(a.setSelectionRange)a.setSelectionRange(0,a.value.length);else if(document.body.createTextRange){var c=document.body.createTextRange();c.moveToElementText(a),c.select()}}},{}],443:[function(a,b,c){"use strict";function d(){this.types={};var a;for(a in e)e.hasOwnProperty(a)&&(g[a]=a,this.addType(a,e[a].generateLink.bind(e[a])))}var e=a("./NetworkActions"),f=a("./network-actions/DefaultNetworkAction"),g=d.prototype;g.create=function(a,b,c){b=b||{};var d=this.types[a];if(d)return d(b,c)},g.createFromAnchor=function(a){var b,c=a.getAttribute("data-network-action");for(b in e)if(e.hasOwnProperty(b)&&c===e[b].id)return void e[b].enhanceLinkEngagement(a);f.enhanceLinkEngagement(a)},g.addType=function(a,b){return this.types[a]=b,this},g.removeType=function(){return this.types[name]=null,this},b.exports=new d},{"./NetworkActions":444,"./network-actions/DefaultNetworkAction":445}],444:[function(a,b,c){"use strict";var d=a("./network-actions/FacebookShare"),e=a("./network-actions/PinterestShare"),f=a("./network-actions/TumblrShare"),g=a("./network-actions/TwitterFavorite"),h=a("./network-actions/TwitterReply"),i=a("./network-actions/TwitterRetweet"),j=a("./network-actions/TwitterTweet"),k=a("./network-actions/WeiboShare"),l=a("./network-actions/QQWeiboShare"),m=a("./network-actions/QZoneShare"),n=a("./network-actions/RenrenShare"),o=a("./network-actions/EMailShare");b.exports={FACEBOOK_SHARE:d,PINTEREST_SHARE:e,TUMBLR_SHARE:f,TWITTER_FAVORITE:g,TWITTER_REPLY:h,TWITTER_RETWEET:i,TWITTER_TWEET:j,WEIBO_SHARE:k,QQWEIBO_SHARE:l,QZONE_SHARE:m,RENREN_SHARE:n,EMAIL_SHARE:o}},{"./network-actions/EMailShare":446,"./network-actions/FacebookShare":447,"./network-actions/PinterestShare":449,"./network-actions/QQWeiboShare":450,"./network-actions/QZoneShare":451,"./network-actions/RenrenShare":452,"./network-actions/TumblrShare":453,"./network-actions/TwitterFavorite":454,"./network-actions/TwitterReply":455,"./network-actions/TwitterRetweet":456,"./network-actions/TwitterTweet":457,"./network-actions/WeiboShare":458}],445:[function(a,b,c){"use strict";var d=a("./NetworkAction"),e=function(a){return a};b.exports=new d(e,{baseLinkPath:""})},{"./NetworkAction":448}],446:[function(a,b,c){"use strict";var d=a("./NetworkAction"),e=function(a){var b={url:a.url};return a.title&&(b.subject=a.title),a.description&&(b.body=a.description),b};b.exports=new d(e,{id:"email-share",baseLinkPath:"mailto:",preventDialog:!0})},{"./NetworkAction":448}],447:[function(a,b,c){"use strict";var d=a("./NetworkAction"),e=function(a){return{u:a.url}};b.exports=new d(e,{id:"facebook-share",baseLinkPath:"https://www.facebook.com/sharer/sharer.php",dialogDimensions:{width:555,height:368}})},{"./NetworkAction":448}],448:[function(a,b,c){"use strict";var d,e=a("qs"),f=a("ac-dom-events"),g=function(a,b){b=b||{},this.baseLinkPath=b.baseLinkPath,b.dialogDimensions&&(this.dialogDimensions=b.dialogDimensions),b.id&&(this.id=b.id),b.preventDialog&&(this.preventDialog=b.preventDialog),this.normalizeData=a};d=g.prototype,d.dataAttributeName="network-action",d.id="network-action",d.normalizeData=function(a){return a},d.dialogDimensions={width:500,height:500},d.generateLinkURL=function(a){var b=this.normalizeData(a),c=e.stringify(b),d=this.baseLinkPath;return c.length>0&&(d=d+"?"+c),d},d.generateLink=function(a,b){var c=this.generateLinkURL(a);return b=b||document.createElement("A"),b.setAttribute("href",c),b.setAttribute("target","_blank"),b.setAttribute("data-"+this.dataAttributeName,this.id),this.enhanceLinkEngagement(b,c),b},d.generateDialog=function(a){var b=this.generateLinkURL(a);this._triggerDialog(b)},d.enhanceLinkEngagement=function(a,b){b=b||a.getAttribute("href"),f.addEventListener(a,"click",this._onLinkEngaged.bind(this,b))},d.getDialogOptions=function(){var a,b="status=1",c={width:this.dialogDimensions.width,height:this.dialogDimensions.height};c.top=(window.screen.availHeight-c.height)/2,c.left=(window.screen.availWidth-c.width)/2;for(a in c)c.hasOwnProperty(a)&&(b+=", "+a+"="+c[a]);return b},d.getDialogDebugData=function(a){return{data:this.normalizeData(a),dialogUrl:this.generateLinkURL(a)}},d._triggerDialog=function(a){return this.preventDialog?void(window.location.href=a):void window.open(a,"_blank",this.getDialogOptions())},d._onLinkEngaged=function(a,b){f.preventDefault(b),this._triggerDialog(a)},b.exports=g},{"ac-dom-events":54,qs:686}],449:[function(a,b,c){"use strict";var d=a("./NetworkAction"),e=function(a){var b={url:a.url,description:a.description};return a.media&&(b.media=a.media),b};b.exports=new d(e,{id:"pinterest-share",baseLinkPath:"http://www.pinterest.com/pin/create/button",dialogDimensions:{width:750,height:450}})},{"./NetworkAction":448}],450:[function(a,b,c){"use strict";var d=a("./NetworkAction"),e=function(a){return{url:a.url,title:a.title,pic:a.media}};b.exports=new d(e,{id:"qq-weibo-share",baseLinkPath:"http://v.t.qq.com/share/share.php",dialogDimensions:{width:658,height:506}})},{"./NetworkAction":448}],451:[function(a,b,c){"use strict";var d=a("./NetworkAction"),e=function(a){return{url:a.url,title:a.title,pics:a.media,summary:a.description}};b.exports=new d(e,{id:"qzone-share",baseLinkPath:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",dialogDimensions:{width:620,height:645}})},{"./NetworkAction":448}],452:[function(a,b,c){"use strict";var d=a("./NetworkAction"),e=function(a){return{url:a.url,title:a.title}};b.exports=new d(e,{id:"renren-share",baseLinkPath:"http://www.connect.renren.com/share/sharer",dialogDimensions:{width:500,height:315}})},{"./NetworkAction":448}],453:[function(a,b,c){"use strict";var d=a("./NetworkAction"),e=function(a){var b={clickthru:a.url,caption:a.description};return a.media&&(b.source=a.media),b};b.exports=new d(e,{id:"tumblr-share",baseLinkPath:"http://www.tumblr.com/share/photo",dialogDimensions:{width:450,height:432}})},{"./NetworkAction":448}],454:[function(a,b,c){"use strict";var d=a("./NetworkAction"),e=function(a){var b={tweet_id:a.messageId};return b};b.exports=new d(e,{id:"twitter-favorite",baseLinkPath:"https://twitter.com/intent/favorite",dialogDimensions:{width:550,height:420}})},{"./NetworkAction":448}],455:[function(a,b,c){"use strict";var d=a("./NetworkAction"),e=function(a){var b={in_reply_to:a.messageId};return a.hashtags&&(b.hashtags=a.hashtags),b};b.exports=new d(e,{id:"twitter-reply",baseLinkPath:"https://twitter.com/intent/tweet",dialogDimensions:{width:550,height:420}})},{"./NetworkAction":448}],456:[function(a,b,c){"use strict";var d=a("./NetworkAction"),e=function(a){var b={tweet_id:a.messageId};return b};b.exports=new d(e,{id:"twitter-retweet",baseLinkPath:"https://twitter.com/intent/retweet",dialogDimensions:{width:550,height:420}})},{"./NetworkAction":448}],457:[function(a,b,c){"use strict";var d=a("./NetworkAction"),e=function(a){var b={url:a.url,text:a.description};return a.hashtags&&(b.hashtags=a.hashtags),b};b.exports=new d(e,{id:"twitter-tweet",baseLinkPath:"https://twitter.com/intent/tweet",dialogDimensions:{width:550,height:420}})},{"./NetworkAction":448}],458:[function(a,b,c){"use strict";var d=a("./NetworkAction"),e=function(a){return{url:a.url,title:a.title,pic:a.media}};b.exports=new d(e,{id:"weibo-share",baseLinkPath:"http://service.weibo.com/share/share.php",dialogDimensions:{width:650,height:426}})},{"./NetworkAction":448}],459:[function(a,b,c){b.exports=a(237)},{}],460:[function(a,b,c){"use strict";b.exports={isString:a("./ac-string/isString"),toCamelCase:a("./ac-string/toCamelCase"),queryStringToObject:a("./ac-string/queryStringToObject"),toQueryPair:a("./ac-string/toQueryPair"),queryParameters:a("./ac-string/queryParameters"),supplant:a("./ac-string/supplant")}},{"./ac-string/isString":461,"./ac-string/queryParameters":462,"./ac-string/queryStringToObject":463,"./ac-string/supplant":464,"./ac-string/toCamelCase":465,"./ac-string/toQueryPair":466}],461:[function(a,b,c){"use strict";b.exports=function(a){return"string"==typeof a}},{}],462:[function(a,b,c){"use strict";var d=a("./queryStringToObject");b.exports=function(){var a={},b=window.location.toString().split("?")[1];return"string"==typeof b&&(a=d(b)),a}},{"./queryStringToObject":463}],463:[function(a,b,c){"use strict";var d=a("qs");b.exports=function(a){if("string"!=typeof a)throw new TypeError("QueryStringToObject error: argument must be a string");return d.parse(a)}},{qs:459}],464:[function(a,b,c){"use strict";b.exports=function(a,b,c){return b?(c=c||/{([^{}]*)}/g,a.replace(c,function(a,c){var d=b[c];return"string"==typeof d||"number"==typeof d?d:a})):a}},{}],465:[function(a,b,c){"use strict";b.exports=function(a){if("string"!=typeof a)throw new TypeError("Argument must be of type String.");return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})}},{}],466:[function(a,b,c){"use strict";b.exports=function(a,b){if("string"!=typeof a||"string"!=typeof b)throw new TypeError("toQueryPair error: argument must be a string");return encodeURIComponent(a)+"="+encodeURIComponent(b)}},{}],467:[function(a,b,c){"use strict";var d=a("./ac-vatman/vat-client"),e=a("./ac-vatman/vat-resource"),f={createPlayer:a("./ac-vatman/factory/createPlayer"),vatClient:d,vatResource:e};b.exports=f},{"./ac-vatman/factory/createPlayer":468,"./ac-vatman/vat-client":473,"./ac-vatman/vat-resource":474}],468:[function(a,b,c){"use strict";function d(a,b){return b.type="quicktime",a.create(b)}function e(a,b){return a.create(b)}function f(){var a=this.getTextTracks(),b=a.models.length,c=this.getTextTracks().at(b-1),d=this.getEnabledTextTracks();d.forEach(function(a){c!==a&&a.disable()}),"disabled"===c.get("mode")&&c.hide()}function g(a,b){b=b||{};var c,g="video/quicktime",k="video/mp4",l="Firefox"===j.name,m="IE"===j.name;return h(g)||h(k)&&!m&&!l?c=e(a,b):i(g)&&(b.type="quicktime",c=d(a,b)),c&&c.on("addtrack",f,c),c}var h=(a("./../featureDetection/canPlayType"),a("./../featureDetection/canPlayTypeNatively")),i=a("./../featureDetection/canPlayTypeQuicktime"),j=a("ac-browser");b.exports=g},{"./../featureDetection/canPlayType":469,"./../featureDetection/canPlayTypeNatively":470,"./../featureDetection/canPlayTypeQuicktime":471,"ac-browser":17}],469:[function(a,b,c){"use strict";function d(a){var b=e(a);return b||(b=f(a)),b}var e=a("./canPlayTypeNatively"),f=a("./canPlayTypeQuicktime");b.exports=d},{"./canPlayTypeNatively":470,"./canPlayTypeQuicktime":471}],470:[function(a,b,c){"use strict";function d(){return document.createElement("video")}b.exports=function(a){var b="",c=d();return"function"==typeof c.canPlayType&&(b=c.canPlayType(a)),b}},{}],471:[function(a,b,c){"use strict";var d=a("./quicktime");b.exports=function(a){var b="";return"video/quicktime"===a&&void 0!==d.getPluginVersion()&&(b="maybe"),b}},{"./quicktime":472}],472:[function(a,b,c){"use strict";b.exports={getPlugins:function(){return navigator.plugins},getPluginVersion:function(){var a,b=/(\d+\.){2}(\d+){1}$/,c=this.getPlugins();if(c&&c[0])for(var d=0;d<c.length;d++){var e=/QuickTime/i.test(c[d].name)&&"undefined"==typeof a;e&&(c[d].version?a=c[d].version:b.test(c[d].name)&&(a=c[d].name.match(b),a=a[0]||void 0))}else{var f=["QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1"];f.forEach(function(b){var c,d;try{c=new ActiveXObject(b),d="object"==typeof c&&"undefined"!=typeof c.QuickTimeVersion&&"undefined"==typeof a,d&&(a=c.QuickTimeVersion)}catch(e){}})}return a}}},{}],473:[function(a,b,c){"use strict";var d=a("ac-ajax"),e=a("ac-string"),f=/(-[a-z]{2}-([a-z]{2}-){0,})[0-9]{8}_r[0-9].+\.mov$/,g=/_r[0-9].+\.mov$/,h="m",i="_{width}x{height}{suffix}."+h+"p4",j=[{width:416,height:234,type:"baseline-high",suffix:"h"},{width:416,height:234,type:"small",suffix:"h"},{width:416,height:234,type:"baseline-low",suffix:"l"},{width:416,height:234,type:"baseline-medium",suffix:"m"},{width:640,height:360,type:"medium",suffix:"h"},{width:848,height:480,type:"large",suffix:""}],k={create:function(){var a=function(){};return a.prototype=this,new a},getSource:function(a,b,c){var d=j;if(!a)throw"Must provide a vatRefMovie";if(!b)throw"Must provide a width";c&&(d=d.filter(function(a){return a.type===c}));var f=d.reduce(function(a,c){return Math.abs(c.width-b)<Math.abs(a.width-b)?c:a});return a.replace(g,e.supplant(i,f))},getConfigPath:function(a){return a.replace(f,"-current.json")},getConfig:function(a){return d.getJSON({url:this.getConfigPath(a)})},getVTTSource:function(a){return a.replace(g,"_cc.vtt")}};b.exports=k},{"ac-ajax":9,"ac-string":460}],474:[function(a,b,c){"use strict";var d=a("./vat-client"),e=a("ac-browser"),f="Chrome"===e.name,g={create:function(a){if(!a)throw"Must provide a vatRefMovie.";var b=function(){};b.prototype=this;var c=new b;return c.vatRefMovie=a,c},getSource:function(a,b){return d.getSource(this.vatRefMovie,a,b)},getConfig:function(){return d.getConfig(this.vatRefMovie)},getVTTSource:function(){return d.getVTTSource(this.vatRefMovie)},_handleCaptions:function(a){var b;this.getConfig().then(function(c){c.metadata.captions&&(f&&(b=this.getVTTSource()),b&&a.addTextTrackFromRemoteVTT({src:b,mode:"hidden"}))}.bind(this))},setPlayerSrc:function(a,b){var c=this.vatRefMovie;f&&(c=this.getSource(b)),a.setSrc(c),this._handleCaptions(a)}};b.exports=g},{"./vat-client":473,"ac-browser":17}],475:[function(a,b,c){"use strict";b.exports={localization:a("./ac-video-localization/localization")}},{"./ac-video-localization/localization":476}],476:[function(a,b,c){"use strict";var d=a("./translations"),e="/global/ac_media_player/scripts/ac_media_languages/",f=document.getElementsByTagName("html")[0],g=a("ac-mvc-model").Model,h={create:function(a){a=a||this.getLang();var b=this.getRequestPath(a);return this.sendRequest(b)},getRequestPath:function(a){return e+this.getTranslationFileName(a)},getLang:function(){var a,b=f.getAttribute("lang");if(b)switch(b.toLowerCase()){case"es-418":a="es-LA";break;case"pt":a="pt-BR";break;default:a=b}else a="en-us";return a},getTranslationFileName:function(a){var b=a.toLowerCase().split("-")[0],c=d[a]||!1;return c||(c=d[b]||d.en),c},sendRequest:function(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4===d.readyState)if(d.status>=200&&d.status<300)try{var a=JSON.parse(d.responseText);for(var e in a)a[e].replace(/<br\s{0,}\/>/g,"");b(new g(a))}catch(f){c(f)}else c(d)},d.open("GET",a),d.send()})}};b.exports=h},{"./translations":477,"ac-mvc-model":330}],477:[function(a,b,c){b.exports={"bg-BG":"bg-BG.json","cs-CZ":"cs-CZ.json","el-GR":"el-GR.json","de-AT":"de-AT.json","de-CH":"de-CH.json","de-DE":"de-DE.json","de-LI":"de-LI.json","da-DK":"da-DK.json",en:"en.json","en-US":"en-US.json","en-AP":"en-AP.json","en-CA":"en-CA.json","en-GB":"en-GB.json","en-HK":"en-HK.json","en-IE":"en-IE.json","en-IN":"en-IN.json","en-KR":"en-KR.json","en-AU":"en-AU.json","en-NZ":"en-NZ.json","en-SG":"en-SG.json","en-ZA":"en-ZA.json",es:"es.json","es-LA":"es-LA.json","es-MX":"es-MX.json","es-ES":"es-ES.json","et-EE":"et-EE.json","fi-FI":"fi-FI.json",fr:"fr.json","fr-BE":"fr-BE.json","fr-CA":"fr-CA.json","fr-CH":"fr-CH.json","fr-FR":"fr-FR.json","hr-HR":"hr-HR.json","hu-HU":"hu-HU.json","it-IT":"it-IT.json",ja:"ja.json","ja-JP":"ja-JP.json","ko-KR":"ko-KR.json","lt-LT":"lt-LT.json","lv-LV":"lv-LV.json","nl-BE":"nl-BE.json","nl-NL":"nl-NL.json","no-NO":"no-NO.json","pl-PL":"pl-PL.json",pt:"pt.json","pt-BR":"pt-BR.json","pt-PT":"pt-PT.json","ro-RO":"ro-RO.json","ru-RU":"ru-RU.json","sk-SK":"sk-SK.json","sv-SE":"sv-SE.json","tr-TR":"tr-TR.json",zh:"zh.json","zh-CN":"zh-CN.json","zh-HK":"zh-HK.json","zh-TW":"zh-TW.json"}},{}],478:[function(a,b,c){"use strict";var d=a("./view"),e=a("./model"),f=a("./elements/element"),g={create:function(a,b){a=a||{},b=b||{},a.elementClassPrefix=a.elementClassPrefix||"controls",b.elementClassPrefix=a.elementClassPrefix;var c=this.Model(b),d=this.View(Object.assign({},a,{model:c}));return d.initialize(),d},Model:e,View:d,element:f};b.exports=g},{"./elements/element":481,"./model":499,"./view":501}],479:[function(a,b,c){"use strict";var d=(a("ac-classlist"),a("./element")),e=d.newType({className:"thirty-seconds-back-button",events:[{type:"click",callback:"thirySecondsBack"}],thirySecondsBack:function(){var a=this.player.getCurrentTime(),b=a-30;this.player.setCurrentTime(0>b?0:b)}});b.exports=e},{"./element":481,"ac-classlist":21}],480:[function(a,b,c){"use strict";var d=a("./element"),e=d.newType({className:"elapsed-time",_initialize:function(){this.options.model.on("change:elapsedTime",this._setElapsedTime,this)},_setElapsedTime:function(a){this.el.innerHTML=a.value||a}});b.exports=e},{"./element":481}],481:[function(a,b,c){"use strict";var d={className:"",create:function(a,b){var c=Object.create(this);return c.el=a,c.options=b,c.player=b.player,c._initialize(),c},events:[],newType:function(a){var b=Object.assign({},this,a);return b},setElementAttributes:function(){this.elementAttributeString.forEach(function(a){var b;"string"==typeof a?(b=this._getLocalizationAttribute(a),this._setAttributeText(b)):this[a.condition]()&&(b=this._getLocalizationAttribute(a.string),this._setAttributeText(b))},this)},_getLocalizationAttribute:function(a){return this.options.model.get(a)},_initialize:function(){this.elementAttributeString=this.elementAttributeString||[],this.setElementAttributes()},_setAttributeText:function(a){["value","aria-label"].forEach(function(b){this.el.setAttribute(b,a)},this)}};b.exports=d},{}],482:[function(a,b,c){"use strict";var d=a("ac-classlist"),e=a("ac-fullscreen"),f=a("ac-feature"),g=a("./element"),h=!f.isDesktop(),i=g.newType({className:"full-screen-button",events:[{type:"click",callback:"_toggleFullscreen"}],_exitFullscreen:function(a){e.exitFullscreen(a)},_getFullScreenElement:function(){var a=!1;return this._isNotDesktop()&&(a=this.options.player.getMediaElement()),a||this.options.fullScreenElement||this.options.player.getMediaElement()},_isFullScreen:function(a){return this._supportsFullscreen(a)},_initialize:function(){this.isFullScreen=!1,this._supportsFullscreen(this._getFullScreenElement())&&(this._removeFullscreenUnsupportedClass(),this._listenForFullscreenChange())},_isNotDesktop:function(){return h},_listenForFullscreenChange:function(){e.on("enterfullscreen",this._onEnterFullScreen,this),e.on("exitfullscreen",this._onExitFullScreen,this)},_onEnterFullScreen:function(){this.isFullScreen=!0,d.add(this.el,"is-fullscreen")},_onExitFullScreen:function(){this.isFullScreen=!1,d.remove(this.el,"is-fullscreen")},_requestFullscreen:function(a){e.requestFullscreen(a)},_removeFullscreenUnsupportedClass:function(){d.remove(this.el,"fullscreen-unsupported")},_supportsFullscreen:function(a){return e.fullscreenEnabled(a)},_toggleFullscreen:function(){var a=this._getFullScreenElement();this.isFullScreen?this._exitFullscreen(a):this._requestFullscreen(a)}});b.exports=i},{"./element":481,"ac-classlist":21,"ac-feature":268,"ac-fullscreen":294}],483:[function(a,b,c){"use strict";var d=a("./element"),e=d.newType({className:"max-volume-button",events:[{type:"click",callback:"maxVolume"}],maxVolume:function(){this.options.player.setMuted(!1),this.options.player.setVolume(1)}});b.exports=e},{"./element":481}],484:[function(a,b,c){"use strict";var d=a("./element"),e=d.newType({className:"min-volume-button",events:[{type:"click",callback:"minVolume"}],minVolume:function(){this.options.player.setMuted(!1),this.options.player.setVolume(0)}});b.exports=e},{"./element":481}],485:[function(a,b,c){"use strict";var d=a("./element"),e=d.newType({className:"mute-volume-button",events:[{type:"click",callback:"mute"}],mute:function(){this.options.player.setMuted(!0)}});b.exports=e},{"./element":481}],486:[function(a,b,c){"use strict";var d=a("./element"),e=d.newType({className:"toggle-mute-volume-button",events:[{type:"click",callback:"toggleMutedVolume"}],toggleMutedVolume:function(){var a=this.options.player.getMuted()?!1:!0;this.options.player.setMuted(a)}});b.exports=e},{"./element":481}],487:[function(a,b,c){"use strict";var d=a("./element"),e=d.newType({className:"pause-button",events:[{type:"click",callback:"pause"}],pause:function(){this.options.player.pause()}});b.exports=e},{"./element":481}],488:[function(a,b,c){"use strict";var d=a("./element"),e=d.newType({className:"play-button",events:[{type:"click",callback:"play"}],play:function(){this.options.player.play()}});b.exports=e},{"./element":481}],489:[function(a,b,c){"use strict";var d=a("ac-classlist"),e=a("./element"),f=e.newType({className:"play-pause-button",events:[{type:"click",callback:"playPauseToggle"}],elementAttributeString:[{condition:"playerIsPlaying",string:"pause"},{condition:"playerIsPaused",string:"play"}],playerIsPlaying:function(){return!this.player.getPaused()},playerIsPaused:function(){return this.player.getPaused()},playPauseToggle:function(){this.player.getPaused()?this.player.play():this.player.pause()},_addEventListeners:function(){this.player.on("play pause",this._handleStateChange,this)},_handleStateChange:function(){this._toggleIsPlayingClass(),this.setElementAttributes()},_initialize:function(){e._initialize.call(this),this._addEventListeners(),this._handleStateChange()},_toggleIsPlayingClass:function(){var a=this.player.getPaused()?"remove":"add";d[a](this.el,"is-playing")}});b.exports=f},{"./element":481,"ac-classlist":21}],490:[function(a,b,c){"use strict";var d=a("./element"),e=(a("ac-classlist"),a("ac-dom-traversal")),f=(a("ac-dom-events"),a("ac-slider")),g=a("../mixins/get-model-attribute"),h=a("../mixins/cursor-pointer"),i=d.newType(Object.assign({className:"progress-indicator",_bindSetupElement:function(){return this._setupElement.bind(this)},_getCurrentTime:function(a){return a&&a.value?a.value:this.polyfilledEl.getValue()},_getSliderInstance:function(){return new f.Slider(this.el,{template:'<div class="ac-slider-runnable-track">\n	<div class="ac-slider-inner-track">\n		<div class="ac-slider-thumb">\n			<div class="ac-slider-thumb-background"></div>\n			<div class="ac-slider-scrubbed"></div>\n		</div>\n	</div>\n</div>\n<input class="ac-slider-input-type-range" type="range" value="0" step="1" min="0" max="1"  />',min:0,max:+this.options.model.get("duration"),step:isNaN(+this.el.getAttribute("step"))?this.el.getAttribute("step"):+this.el.getAttribute("step"),value:+this.el.getAttribute("value")})},_handleProgressIndicatorChange:function(a){this.options.model.set({timeupdate:this._getCurrentTime(a)})},_initialize:function(){d._initialize.call(this),this._setupElement=this._bindSetupElement(),this.getModelAttribute("duration").then(this._setupElement)},_onGrab:function(){this.options.model.set({ignoreTimeupdate:!0}),this.options.player.off("timeupdate",this._setIndicatorValue),this.polyfilledEl.on("change",this._setModelValue,this),this.forceCursorPointer()},_onRelease:function(){this._setPlayerValue(),this.options.model.set({ignoreTimeupdate:!1}),this.options.player.on("timeupdate",this._setIndicatorValue,this),this.polyfilledEl.off("change",this._setModelValue),this.disableForcedCursorPointer()},_onPlayerDurationChange:function(){isNaN(this.options.player.getDuration())||this.polyfilledEl.setMax(this.options.player.getDuration())},_polyfillRangeInput:function(){this.polyfilledEl=this._getSliderInstance(),this.thumbEl=e.querySelector(".ac-slider-thumb",this.el),this.scrubbedEl=e.querySelector(".ac-slider-scrubbed",this.el)},_setIndicatorValue:function(){var a=this.options.player.getCurrentTime();this.polyfilledEl.setValue(a)},_setPlayerValue:function(){var a=this.polyfilledEl.getValue();this.options.player.setCurrentTime(a)},_setModelValue:function(){var a=this.polyfilledEl.getValue();this.options.model.set({timeupdate:a})},_setupElement:function(a){this.el.setAttribute("max",a),this._polyfillRangeInput(),this.el.setAttribute("aria-valuemax",this.polyfilledEl.getMax()),this.polyfilledEl.on("change:model:max",function(){this.el.setAttribute("aria-valuemax",this.polyfilledEl.getMax())},this),this.polyfilledEl.on("change:model:value",function(){this.el.setAttribute("aria-valuenow",this.polyfilledEl.getValue())},this),this.el.setAttribute("aria-valuemin",this.polyfilledEl.getMin()),this.polyfilledEl.on("change:model:min",function(){this.el.setAttribute("aria-valuemin",this.polyfilledEl.getMin())},this),this.options.player.on("timeupdate",this._setIndicatorValue,this),this.polyfilledEl.on("grab",this._onGrab,this),this.polyfilledEl.on("release",this._onRelease,this),this.options.player.on("durationchange",this._onPlayerDurationChange,this)}},g,h));b.exports=i},{"../mixins/cursor-pointer":497,"../mixins/get-model-attribute":498,"./element":481,"ac-classlist":21,"ac-dom-events":54,"ac-dom-traversal":96,"ac-slider":437}],491:[function(a,b,c){"use strict";var d=a("./element"),e=a("../mixins/get-model-attribute"),f=d.newType(Object.assign({},{className:"remaining-time",_bindUpdateRemainingTimeIndicator:function(){return this._updateRemainingTimeIndicator.bind(this)},_initialize:function(){this._updateRemainingTimeIndicator=this._bindUpdateRemainingTimeIndicator(),this.options.model.on("change:remainingTime",this._updateRemainingTimeIndicator,this),this.getModelAttribute("remainingTime").then(this._updateRemainingTimeIndicator)},_updateRemainingTimeIndicator:function(a){this.el.innerHTML=a.value||a}},e));b.exports=f},{"../mixins/get-model-attribute":498,"./element":481}],492:[function(a,b,c){"use strict";var d=a("./text-tracks"),e=d.newType({className:"text-tracks-off-button",events:[{type:"click",callback:"textTracksOff"
}],elementAttributeString:["captionsturnedoff"]});b.exports=e},{"./text-tracks":495}],493:[function(a,b,c){"use strict";var d=a("./text-tracks"),e=d.newType({className:"text-tracks-on-button",events:[{type:"click",callback:"textTracksOn"}],elementAttributeString:["captionsturnedon"]});b.exports=e},{"./text-tracks":495}],494:[function(a,b,c){"use strict";var d=(a("ac-classlist"),a("./text-tracks")),e=d.newType({className:"text-tracks-toggle-button",events:[{type:"click",callback:"textTracksToggle"}],textTracksToggle:function(){var a=this._getTextTrackModeAndIndex(),b=a.get("mode");"showing"===b?this.textTracksOff():this.textTracksOn()},elementAttributeString:[{condition:"textTracksAreShowing",string:"captionsturnedoff"},{condition:"textTracksAreDisabled",string:"captionsturnedon"}],textTracksAreShowing:function(){return this.player.getVisibleTextTracks().models.length>0},textTracksAreDisabled:function(){return 0===this.player.getVisibleTextTracks().models.length},_addEventListeners:function(){d._addEventListeners.call(this),this.player.on("texttrackshow texttrackhide",this.setElementAttributes,this)}});b.exports=e},{"./text-tracks":495,"ac-classlist":21}],495:[function(a,b,c){"use strict";var d=a("ac-classlist"),e=a("./element"),f={visible:"text-tracks-visible",none:"no-text-tracks"},g=e.newType({onTextTracksVisible:function(){d.add(this.el,f.visible)},onTextTracksHidden:function(){d.remove(this.el,f.visible)},textTracksOn:function(){var a=this._getTextTrackModeAndIndex();a.show()},textTracksOff:function(){var a=this._getTextTrackModeAndIndex();a.hide()},_addEventListeners:function(){this._getTextTrackModeAndIndex();this.player.on("texttrackshow",this.onTextTracksVisible,this),this.player.on("texttrackhide",this.onTextTracksHidden,this),this.options.model.on("change:localization",this.setElementAttributes,this)},_addTextTrackClass:function(){var a=this.player.getEnabledTextTracks().models;a.length?(this._removeNoTextTracksClass(),this.player.getVisibleTextTracks().models.length?this.onTextTracksVisible():this.onTextTracksHidden()):this._addNoTextTracksClass()},_addNoTextTracksClass:function(){d.add(this.el,f.none)},_getTextTrackModeAndIndex:function(){var a=this.player.getVisibleTextTracks().at(0);return a||(a=this.player.getEnabledTextTracks().at(0)),a},_initialize:function(){e._initialize.call(this),this._addTextTrackClass(),this._addEventListeners()},_removeNoTextTracksClass:function(){d.remove(this.el,f.none)},_toggleTextTracksVisibleClass:function(a){var b=a?"onTextTracksHidden":"onTextTracksVisible";this[b]()},_toggleNoTextTracksClass:function(a){var b=a?"_removeNoTextTracksClass":"_addNoTextTracksClass";this[b]()}});b.exports=g},{"./element":481,"ac-classlist":21}],496:[function(a,b,c){"use strict";var d=a("./element"),e=a("ac-classlist"),f=(a("ac-dom-events"),a("ac-slider")),g=a("ac-dom-traversal"),h=a("../mixins/get-model-attribute"),i=a("../mixins/cursor-pointer"),j=d.newType(Object.assign({className:"volume-level-indicator",events:[{type:"change",callback:"handleVolumeIndicatorChange"}],handleVolumeIndicatorChange:function(a){this._unmute();var b=this._getVolume(a);this._setVolume(b)},ignoreVolumechange:function(a){this.options.model.set({ignoreVolumechange:!0}),this._stopListeningForVolumechange(),this.forceCursorPointer()},setVolumeOnMove:function(){this._setVolume(this._getVolume())},_bindResumeVolumechange:function(){return this._resumeVolumechange.bind(this)},_bindSetupElement:function(){return this._setupElement.bind(this)},_bindHandleVolumeIndicatorChange:function(){return this.handleVolumeIndicatorChange.bind(this)},_getVolume:function(a){return a&&a.value?a.value:this.polyfilledEl.getValue()},_getSliderInstance:function(){var a=this.options.player.getVolume();return this.options.player.getMuted()===!0&&(a=0),new f.Slider(this.el,{template:'<div class="ac-slider-runnable-track">\n	<div class="ac-slider-thumb">\n		<div class="ac-slider-thumb-background"></div>\n	</div>\n	<div class="ac-slider-inner-track">\n		<div class="ac-slider-scrubbed"></div>\n	</div>\n</div>\n<input class="ac-slider-input-type-range" type="range" value="0" step="1" min="0" max="1"  />',min:0,max:1,step:+this.el.getAttribute("step"),value:a})},_initialize:function(){d._initialize.call(this),this.handleVolumeIndicatorChange=this._bindHandleVolumeIndicatorChange(),this._resumeVolumechange=this._bindResumeVolumechange(),this._setupElement=this._bindSetupElement(),this.getModelAttribute("volume").then(this._setupElement)},_listenForVolumechange:function(a){this.options.model.on("change:volume",this._updateVolumeIndicator,this),this.polyfilledEl.off("release",this._resumeVolumechange),this.polyfilledEl.off("change",this.handleVolumeIndicatorChange),this.polyfilledEl.on("grab",this.ignoreVolumechange,this)},_polyfillRangeInput:function(){this.polyfilledEl=this._getSliderInstance(),this.scrubbed=g.querySelector(".ac-slider-scrubbed",this.el),this.thumb=g.querySelector(".ac-slider-thumb",this.el),this.polyfilledEl.on("change",function(){this.scrubbed.style.marginLeft=parseInt(this.thumb.style.left,10)+this.thumb.offsetWidth/2/this.el.offsetWidth*100+"%"},this),this.polyfilledEl.trigger("change",this.polyfilledEl.getValue())},_resumeVolumechange:function(a){this.options.model.set({ignoreVolumechange:!1}),this._listenForVolumechange(),this._setVolume(this._getVolume()),this.disableForcedCursorPointer()},_setVolume:function(a){this._unmute(),this.options.player.setVolume(a)},_setupElement:function(a){this.el.setAttribute("value",a),this._polyfillRangeInput(),this._listenForVolumechange()},_stopListeningForVolumechange:function(){this.options.model.off("change:volume",this._updateVolumeIndicator,this),this.polyfilledEl.on("release",this._resumeVolumechange,this),this.polyfilledEl.on("change",this.handleVolumeIndicatorChange,this),this.polyfilledEl.off("grab",this.ignoreVolumechange)},_toggleVolumeLevelIndicator:function(a){e.toggle(this.el,"is-visible")},_updateVolumeIndicator:function(a){var b=a&&null!==a.value?a.value:this.options.player.getVolume();this.polyfilledEl.setValue(b)},_unmute:function(){this.options.player.getMuted()&&this.options.player.setMuted(!1)}},h,i));b.exports=j},{"../mixins/cursor-pointer":497,"../mixins/get-model-attribute":498,"./element":481,"ac-classlist":21,"ac-dom-events":54,"ac-dom-traversal":96,"ac-slider":437}],497:[function(a,b,c){"use strict";var d=a("ac-classlist"),e=a("ac-dom-events"),f="cursor-pointer";b.exports={disableForcedCursorPointer:function(){d.remove(document.body,f),this.onSelectStartResumeDefault()},forceCursorPointer:function(){d.add(document.body,f),this.onSelectStartPreventDefault()},onSelectStartResumeDefault:function(){e.removeEventListener(document,"selectstart",this.preventDefault)},onSelectStartPreventDefault:function(){e.addEventListener(document,"selectstart",this.preventDefault)},preventDefault:function(a){e.preventDefault(a)}}},{"ac-classlist":21,"ac-dom-events":54}],498:[function(a,b,c){"use strict";b.exports={getModelAttribute:function(a){return new Promise(function(b,c){this.options.model.has(a)?b(this.options.model.get(a)):this.options.model.once("change:"+a,function(a){b(a.value)},this)}.bind(this))}}},{}],499:[function(a,b,c){"use strict";var d=a("ac-mvc-model").Model,e=a("ac-video-localization").localization,f=function(a){return this instanceof f?(d.apply(this,arguments),void this.initialize()):new f(a)};f.prototype=Object.create(d.prototype);var g=f.prototype;Object.assign(g,{defaultAttributes:{backthirtyseconds:"Back 30 Seconds",playpause:"Play/Pause",play:"Play",pause:"Pause",togglemutevolume:"Toggle Mute Volume",mutevolume:"Mute Volume",minvolume:"Min Volume",adjustvolume:"Adjust Volume",fastreverse:"Fast Reverse",fastforward:"Fast Forward",fullvolume:"Full Volume",fullscreen:"Full Screen",captionscontrol:"Closed Captions",captionsturnedon:"Closed Captions On",captionsturnedoff:"Closed Captions Off",subtitlescontrol:"Subtitles",subtitlesturnedon:"Subtitles On",subtitlesturnedoff:"Subtitles Off",sizescontrol:"Video Size",downloadcontrol:"Download Video",small:"Small",medium:"Medium",large:"Large",hd:"HD",ipod:"iPod/iPhone",mb:"MB",gb:"GB",tb:"TB",downloadquicktimetitle:"Get QuickTime.",downloadquicktimetext:"Download QuickTime to view this video. QuickTime is free for Mac + PC.",downloadquicktimebutton:"Download",downloadquicktimeurl:"http://www.apple.com/quicktime/download/",elapsed:"elapsed",remaining:"remaining"},getLocalizationPromise:function(){return e.create()},initialize:function(){this.localize=this._bindLocalize(),this.getLocalizationPromise().then(this.localize)},localize:function(a){this.set(a.attributes),this.trigger("change:localization")},_bindLocalize:function(){return this.localize.bind(this)}}),b.exports=f},{"ac-mvc-model":330,"ac-video-localization":475}],500:[function(a,b,c){"use strict";var d=a("ac-string"),e={addLeadingZero:function(a,b){if(b=b||2,10>a||b>2)for(a=String(a);a.length<b;)a="0"+a;return a},formatTime:function(a,b){if(isNaN(a))return"00:00";a=this.splitTime(Math.floor(a),function(a){return this.addLeadingZero(a,b)}.bind(this));var c="{PN}{minutes}:{seconds}",e=d.supplant(c,{PN:a.negativeModifier,minutes:a.minutes,seconds:a.seconds});return e},splitTime:function(a,b){b=b||function(a){return a};var c={negativeModifier:"",minutes:0,seconds:0};if(isNaN(a))return c;c.negativeModifier=0>a?"-":"",a=Math.abs(a),c.minutes=Math.floor(a/60),c.seconds=a%60;for(var d in c)"number"==typeof c[d]&&(c[d]=b(c[d]));return c}};b.exports=e},{"ac-string":460}],501:[function(a,b,c){"use strict";var d={"back-30-seconds-button":a("./elements/back-30-seconds-button.js"),"elapsed-time-indicator":a("./elements/elapsed-time-indicator.js"),element:a("./elements/element.js"),"full-screen-button":a("./elements/full-screen-button.js"),"max-volume-button":a("./elements/max-volume-button.js"),"min-volume-button":a("./elements/min-volume-button.js"),"mute-button":a("./elements/mute-button.js"),"mute-toggle-button":a("./elements/mute-toggle-button.js"),"pause-button":a("./elements/pause-button.js"),"play-button":a("./elements/play-button.js"),"play-pause-button":a("./elements/play-pause-button.js"),"progress-indicator":a("./elements/progress-indicator.js"),"remaining-time-indicator":a("./elements/remaining-time-indicator.js"),"text-tracks-off-button":a("./elements/text-tracks-off-button.js"),"text-tracks-on-button":a("./elements/text-tracks-on-button.js"),"text-tracks-toggle-button":a("./elements/text-tracks-toggle-button.js"),"text-tracks":a("./elements/text-tracks.js"),"volume-level-indicator":a("./elements/volume-level-indicator.js")},e=a("ac-dom-traversal"),f=a("ac-string"),g=a("ac-classlist"),h=a("ac-mvc-view").View,i=a("./time"),j=function(a){return this instanceof j?(h.apply(this,arguments),void(this.elements=[])):new j(a)};j.prototype=Object.create(h.prototype);var k=j.prototype;Object.assign(k,{className:"ac-video-controls",initialize:function(){this._addInactiveClasses(),this.options.player&&(this._onPlayerReady=this._bindOnPlayerReady(),this.playerIsReady(this.options.player).then(this._onPlayerReady)),this.options.model.once("change:localization",this.render,this),this.options.model.on("change:timeupdate",this._onModelTimeUpdate,this)},playerIsReady:function(a){var b=a.getReadyState(),c=a.getPreload();return new Promise(function(d,e){4===b?d():"metadata"===c?3===b?d():a.on("loadedmetadata",d):a.on("canplay",d)})},render:function(){this.el.innerHTML=this._getParsedTemplate(this.model.attributes),g.add(this.el,this.className),g.add(this.el,this._getSkin()),this._getSkin()===this._defaultSkin&&this.el.setAttribute("data-hires","false"),this._onRender().resolve()},_addInactiveClasses:function(){g.add(this.el,"inactive")},_bindSetupElements:function(){return this._setupElements.bind(this)},_bindOnPlayerReady:function(){return this._onPlayerReady.bind(this)},_currentTimeIsWholeNumber:function(a){return a=Math.floor(a),0===a?!0:a!==this._previousCurrentTime?(this._previousCurrentTime=a,!0):void 0},_defaultTemplate:'<div class="left row-1">\n	<input type="button" class="{elementClassPrefix}-min-volume-button {elementClassPrefix}-button" value="{minvolume}" aria-label="{minvolume}" role="button" tabindex="0">\n	<div class="{elementClassPrefix}-volume-level-indicator" max="1" step="0.09090909090909091"></div>\n	<input type="button" class="{elementClassPrefix}-max-volume-button {elementClassPrefix}-button" value="{fullvolume}" aria-label="{fullvolume}" role="button" tabindex="0">\n</div>\n\n<div class="center row-1">\n	<input type="button" class="{elementClassPrefix}-play-pause-button {elementClassPrefix}-button" value="{playpause}" aria-label="{playpause}" role="button" tabindex="0">\n</div>\n\n<div class="right row-1">\n	<input type="button" class="{elementClassPrefix}-text-tracks-toggle-button {elementClassPrefix}-button no-text-tracks" value="{textTrackscontrol}" aria-label="{textTrackscontrol}" role="button" tabindex="0">\n	<input type="button" class="{elementClassPrefix}-full-screen-button {elementClassPrefix}-button fullscreen-unsupported" value="{fullscreen}" aria-label="{fullscreen}" role="button" tabindex="0">\n</div>\n\n<div class="left row-2">\n	<div class="{elementClassPrefix}-elapsed-time-indicator">\n		<span class="label">{elapsed}</span>\n		<span class="{elementClassPrefix}-elapsed-time" aria-label="{elapsed}" tabindex="0" role="timer" aria-value="00:00">00:00</span>\n	</div>\n</div>\n\n<div class="center row-2">\n	<div class="{elementClassPrefix}-buffered-indicator"></div>\n	<div class="{elementClassPrefix}-progress-indicator" aria-label="progress-indicator" role="progressbar" precision="float" min="0" max="{max}" step="auto" value="0" tabindex="0" aria-valuemax="{max}" aria-valuemin="{min}" aria-valuenow="{value}"></div>\n</div>\n\n<div class="right row-2">\n	<div class="{elementClassPrefix}-remaining-time-indicator">\n	<span class="label">{remaining}</span>\n	<span class="{elementClassPrefix}-remaining-time" aria-label="{remaining}" tabindex="0" role="timer" aria-value="-00:00">-00:00</span>\n</div>\n</div>\n\n<div class="{elementClassPrefix}-inactive-container"></div>',_defaultSkin:"control-bar-skin-default",_getPromise:function(){var a,b,c;return c=new Promise(function(c,d){a=c,b=d}),c.resolve=a,c.reject=b,c},_getSkin:function(){return this.options.skin||this._defaultSkin},_getCurrentTime:function(a){return a&&a.value?a.value:this.options.player.getCurrentTime()},_getParsedTemplate:function(a){var b=this.options.template||this._defaultTemplate;return f.supplant(b,a)},_listenToModelVolumechange:function(){this.options.player.off("volumechange",this._onVolumeChange),this.options.model.on("change:volume",this._onVolumeChange,this)},_listenToPlayerForVolumechange:function(){this.options.player.on("volumechange",this._onVolumeChange,this),this.options.model.off("change:volume",this._onVolumeChange),this.options.player.setVolume(this.options.model.get("volume"))},_onRender:function(){return this._onRenderPromise||(this._onRenderPromise=this._getPromise()),this._onRenderPromise},_onModelTimeUpdate:function(a){this._currentTimeIsWholeNumber(a.value)&&this._setModelRemainingAndElapsedTime(a.value)},_onPlayerTimeUpdate:function(){if(!this.options.model.get("ignoreTimeupdate")){var a=this.options.player.getCurrentTime();this.options.model.set({timeupdate:a})}},_onPlayerReady:function(){this._setupElements=this._bindSetupElements(),this._onRender().then(this._setupElements),this.options.player.on("durationchange",this._onPlayerDurationChange,this),this._onVolumeChange(),this._onTimeupdate(),this._removeInactiveClasses(),this._onPlayerDurationChange(),this.options.player.on("timeupdate",this._onPlayerTimeUpdate,this),this._onVolumeChangeEvents()},_onVolumeChangeEvents:function(){this.options.model.on("change:ignoreVolumechange",this._onModelIgnoreVolumechange,this),this.options.player.on("volumechange loadedmetadata",this._onVolumeChange,this)},_onVolumeChange:function(a){a=a||{};var b=a.value||this.options.player.getVolume();this.options.model.set({volume:b})},_onTimeupdate:function(a){var b=this._getCurrentTime(a);this._currentTimeIsWholeNumber(b)&&this._setModelRemainingAndElapsedTime(b)},_onModelIgnoreVolumechange:function(a){a.value?this._listenToModelVolumechange():this._listenToPlayerForVolumechange()},_onPlayerDurationChange:function(){this.options.model.set({duration:this.options.player.getDuration()}),this._onTimeupdate()},_removeInactiveClasses:function(){g.remove(this.el,"inactive")},_setupElements:function(){var a;for(var b in d)try{if(b.match(/^element$|^time$|^text-tracks$/))continue;a=e.querySelector("."+this.options.elementClassPrefix+"-"+d[b].className,this.el),a&&(a=d[b].create(a,this.options),this.elements.push(a),a.events&&this._setupElementEvents(a))}catch(c){}},_setModelRemainingAndElapsedTime:function(a){var b=this.options.player.getDuration(),c=i.formatTime(a-Math.floor(b)),d=i.formatTime(a);this.options.model.set({remainingTime:c,elapsedTime:d})},_setupElementEvents:function(a){for(var b,c,d,e=0,f=a.events.length;f>e;e++)b=a.events[e],c=a[b.callback],d=b.delegate||"."+this.options.elementClassPrefix+"-"+a.className,this.on(b.type,d,c,a)}}),b.exports=j},{"./elements/back-30-seconds-button.js":479,"./elements/elapsed-time-indicator.js":480,"./elements/element.js":481,"./elements/full-screen-button.js":482,"./elements/max-volume-button.js":483,"./elements/min-volume-button.js":484,"./elements/mute-button.js":485,"./elements/mute-toggle-button.js":486,"./elements/pause-button.js":487,"./elements/play-button.js":488,"./elements/play-pause-button.js":489,"./elements/progress-indicator.js":490,"./elements/remaining-time-indicator.js":491,"./elements/text-tracks-off-button.js":492,"./elements/text-tracks-on-button.js":493,"./elements/text-tracks-toggle-button.js":494,"./elements/text-tracks.js":495,"./elements/volume-level-indicator.js":496,"./time":500,"ac-classlist":21,"ac-dom-traversal":96,"ac-mvc-view":355,"ac-string":460}],502:[function(a,b,c){"use strict";a("ac-polyfills/Array/prototype.slice"),a("ac-polyfills/Element/prototype.classList");var d=a("./className/add");b.exports=function(){var a,b=Array.prototype.slice.call(arguments),c=b.shift(b);if(c.classList&&c.classList.add)return void c.classList.add.apply(c.classList,b);for(a=0;a<b.length;a++)d(c,b[a])}},{"./className/add":503,"ac-polyfills/Array/prototype.slice":508,"ac-polyfills/Element/prototype.classList":509}],503:[function(a,b,c){"use strict";var d=a("./contains");b.exports=function(a,b){d(a,b)||(a.className+=" "+b)}},{"./contains":504}],504:[function(a,b,c){"use strict";var d=a("./getTokenRegExp");b.exports=function(a,b){return d(b).test(a.className)}},{"./getTokenRegExp":505}],505:[function(a,b,c){"use strict";b.exports=function(a){return new RegExp("(\\s|^)"+a+"(\\s|$)")}},{}],506:[function(a,b,c){"use strict";var d=a("./contains"),e=a("./getTokenRegExp");b.exports=function(a,b){d(a,b)&&(a.className=a.className.replace(e(b),"$1").trim())}},{"./contains":504,"./getTokenRegExp":505}],507:[function(a,b,c){"use strict";a("ac-polyfills/Element/prototype.classList");var d=a("./className/contains");b.exports=function(a,b){return a.classList&&a.classList.contains?a.classList.contains(b):d(a,b)}},{"./className/contains":504,"ac-polyfills/Element/prototype.classList":509}],508:[function(a,b,c){!function(){"use strict";var a=Array.prototype.slice;try{a.call(document.documentElement)}catch(b){Array.prototype.slice=function(b,c){if(c="undefined"!=typeof c?c:this.length,"[object Array]"===Object.prototype.toString.call(this))return a.call(this,b,c);var d,e,f=[],g=this.length,h=b||0;h=h>=0?h:g+h;var i=c?c:g;if(0>c&&(i=g+c),e=i-h,e>0)if(f=new Array(e),this.charAt)for(d=0;e>d;d++)f[d]=this.charAt(h+d);else for(d=0;e>d;d++)f[d]=this[h+d];return f}}}()},{}],509:[function(a,b,c){/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/
"document"in self&&("classList"in document.createElement("_")?!function(){"use strict";var a=document.createElement("_");if(a.classList.add("c1","c2"),!a.classList.contains("c2")){var b=function(a){var b=DOMTokenList.prototype[a];DOMTokenList.prototype[a]=function(a){var c,d=arguments.length;for(c=0;d>c;c++)a=arguments[c],b.call(this,a)}};b("add"),b("remove")}if(a.classList.toggle("c3",!1),a.classList.contains("c3")){var c=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)==!b?b:c.call(this,a)}}a=null}():!function(a){"use strict";if("Element"in a){var b="classList",c="prototype",d=a.Element[c],e=Object,f=String[c].trim||function(){return this.replace(/^\s+|\s+$/g,"")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(""===b)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return g.call(a,b)},j=function(a){for(var b=f.call(a.getAttribute("class")||""),c=b?b.split(/\s+/):[],d=0,e=c.length;e>d;d++)this.push(c[d]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+="",-1!==i(this,a)},k.add=function(){var a,b=arguments,c=0,d=b.length,e=!1;do a=b[c]+"",-1===i(this,a)&&(this.push(a),e=!0);while(++c<d);e&&this._updateClassName()},k.remove=function(){var a,b,c=arguments,d=0,e=c.length,f=!1;do for(a=c[d]+"",b=i(this,a);-1!==b;)this.splice(b,1),f=!0,b=i(this,a);while(++d<e);f&&this._updateClassName()},k.toggle=function(a,b){a+="";var c=this.contains(a),d=c?b!==!0&&"remove":b!==!1&&"add";return d&&this[d](a),b===!0||b===!1?b:!c},k.toString=function(){return this.join(" ")},e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(n){-2146823252===n.number&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l)}}(self))},{}],510:[function(a,b,c){"use strict";a("ac-polyfills/Array/prototype.slice"),a("ac-polyfills/Element/prototype.classList");var d=a("./className/remove");b.exports=function(){var a,b=Array.prototype.slice.call(arguments),c=b.shift(b);if(c.classList&&c.classList.remove)return void c.classList.remove.apply(c.classList,b);for(a=0;a<b.length;a++)d(c,b[a])}},{"./className/remove":506,"ac-polyfills/Array/prototype.slice":508,"ac-polyfills/Element/prototype.classList":509}],511:[function(a,b,c){!function(a,d){"object"==typeof c&&c?b.exports=d:"function"==typeof define&&define.amd?define(d):a.Deferred=d}(this,function(){"use strict";var a,b,c,d,e,f,g,h,i={};a={0:"pending",1:"resolved",2:"rejected"},b=function(a,b){var c,d,e,f,g;if(0!==this._status)return console&&console.warn,!1;for(this.data=b,d=this.pending,e=d.length,c=0;e>c;c++)f=d[c],f[a]&&(g=f[a](b)),"object"==typeof g&&g.hasOwnProperty("then")&&g.hasOwnProperty("status")?g.then(function(a){f.deferred.resolve(a)},function(a){f.deferred.reject(a)},function(a){f.deferred.progress(a)}):f.deferred[a](g||void 0);return"progress"!==a&&(d=[]),!0},f=function(a,b){this.then=a,this.status=b},g=f.prototype,h=function(a){return a},g.success=function(a,b){return this.then(a.bind(b),h,h)},g.fail=function(a,b){return this.then(h,a.bind(b),h)},g.progress=function(a,b){return this.then(h,h,a.bind(b))},d=function(a){return"function"!=typeof a?function(){}:a},c=function(a,b,c){this.resolve=d(a),this.reject=d(b),this.progress=d(c),this.deferred=new e},e=function(){this.pending=[],this._status=0,this._promise=new f(this.then.bind(this),this.status.bind(this))},e.prototype={status:function(){return a[this._status]},promise:function(){return this._promise},progress:function(a){return b.call(this,"progress",a),this._promise},resolve:function(a){return b.call(this,"resolve",a),0===this._status&&(this._status=1),this._promise},reject:function(a){return b.call(this,"reject",a),0===this._status&&(this._status=2),this._promise},then:function(a,b,d){var e,f;return f=new c(a,b,d),0===this._status?this.pending.push(f):1===this._status&&"function"==typeof a?(e=a(this.data),"object"==typeof e&&e.hasOwnProperty("then")&&e.hasOwnProperty("status")?e.then(function(a){f.deferred.resolve(a)},function(a){f.deferred.reject(a)},function(a){f.deferred.progress(a)}):f.deferred.resolve(e)):2===this._status&&"function"==typeof b&&(e=b(this.data),f.deferred.reject(e)),f.deferred.promise()}};var j=function(){var a,b,c,d,f;return a=[].slice.call(arguments),b=new e,c=0,d=function(d){c--;var e=a.indexOf(this);a[e]=d,0===c&&b.resolve(a)},f=function(a){b.reject(a)},a.forEach(function(a){a.then&&c++}),a.forEach(function(a){a.then&&a.then(d.bind(a),f)}),b.promise()};return e.when=j,i.Deferred=e,i}())},{}],512:[function(a,b,c){"use strict";function d(){}d.prototype={resolve:function(){return this._defer.resolve.apply(this._defer,Array.prototype.slice.call(arguments)),this.promise()},reject:function(){return this._defer.reject.apply(this._defer,Array.prototype.slice.call(arguments)),this.promise()},progress:function(){return this._defer.progress.apply(this._defer,Array.prototype.slice.call(arguments)),this.promise()},then:function(){return this._defer.then.apply(this._defer,Array.prototype.slice.call(arguments)),this.promise()},promise:function(){return this._defer.promise.apply(this._defer,Array.prototype.slice.call(arguments))}},b.exports=d},{}],513:[function(a,b,c){"use strict";function d(){this._defer=new f}var e=new(a("./ac-deferred/Deferred")),f=a("smartsign-deferred").Deferred;d.prototype=e,b.exports.join=function(){return f.when.apply(null,[].slice.call(arguments))},b.exports.all=function(a){return f.when.apply(null,a)},b.exports.Deferred=d},{"./ac-deferred/Deferred":512,"smartsign-deferred":511}],514:[function(a,b,c){b.exports=a(51)},{"./ac-prefixer/Prefixer":515}],515:[function(a,b,c){b.exports=a(52)},{"./Prefixer/camelCasedEvents":516}],516:[function(a,b,c){b.exports=a(53)},{}],517:[function(a,b,c){b.exports=a(54)},{"./ac-dom-events/addEventListener":518,"./ac-dom-events/dispatchEvent":519,"./ac-dom-events/preventDefault":520,"./ac-dom-events/removeEventListener":521,"./ac-dom-events/stop":522,"./ac-dom-events/stopPropagation":523,"./ac-dom-events/target":524}],518:[function(a,b,c){b.exports=a(55)},{"ac-prefixer":514}],519:[function(a,b,c){b.exports=a(56)},{}],520:[function(a,b,c){b.exports=a(57)},{}],521:[function(a,b,c){b.exports=a(58)},{"ac-prefixer":514}],522:[function(a,b,c){b.exports=a(59)},{"./preventDefault":520,"./stopPropagation":523}],523:[function(a,b,c){b.exports=a(60)},{}],524:[function(a,b,c){b.exports=a(61)},{}],525:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{"./ac-dom-emitter/DOMEmitter":526}],526:[function(a,b,c){"use strict";function d(a){null!==a&&(this.el=a,this._bindings={},this._delegateFuncs={},this._eventEmitter=new f)}var e,f=a("ac-event-emitter").EventEmitter,g=a("./DOMEmitterEvent"),h=a("ac-dom-events"),i=a("ac-dom-traversal"),j="dom-emitter";e=d.prototype,e.on=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._on),this},e.once=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._once),this},e.off=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._off),this},e.has=function(a,b,c,d){var e,f;if("string"==typeof b?(e=b,f=c):(f=b,d=c),e){var g=this._getDelegateFuncBindingIdx(a,e,f,d,!0);return g>-1?!0:!1}return this._eventEmitter&&this._eventEmitter.has.apply(this._eventEmitter,arguments)?!0:!1},e.trigger=function(a,b,c,d){a=this._parseEventNames(a),a=this._cleanStringData(a);var e,f,g,h=a.length;for("string"==typeof b?(e=this._cleanStringData(b),f=c):(f=b,d=c),g=0;h>g;g++)this._triggerDOMEvents(a[g],f,e);return this},e.emitterTrigger=function(a,b,c){a=this._parseEventNames(a),a=this._cleanStringData(a),b=new g(b,this);var d,e=a.length;for(d=0;e>d;d++)this._eventEmitter.trigger(a[d],b,c);return this},e.propagateTo=function(a,b){return this._eventEmitter.propagateTo(a,b),this},e.stopPropagatingTo=function(a){return this._eventEmitter.stopPropagatingTo(a),this},e.stopImmediatePropagation=function(){return this._eventEmitter.stopImmediatePropagation(),this},e.destroy=function(){this._triggerInternalEvent("willdestroy"),this.off(),this.el=this._eventEmitter=this._bindings=this._delegateFuncs=null},e._parseEventNames=function(a){return a?a.split(" "):[a]},e._onListenerEvent=function(a,b){this.emitterTrigger(a,b,!1)},e._setListener=function(a){this._bindings[a]=this._onListenerEvent.bind(this,a),h.addEventListener(this.el,a,this._bindings[a])},e._removeListener=function(a){h.removeEventListener(this.el,a,this._bindings[a]),this._bindings[a]=null},e._triggerInternalEvent=function(a,b){this.emitterTrigger(j+":"+a,b)},e._normalizeArgumentsAndCall=function(a,b){var c={};if(0===a.length)return void b.call(this,c);if("string"==typeof a[0]||null===a[0])return a=this._cleanStringData(a),c.events=a[0],"string"==typeof a[1]?(c.delegateQuery=a[1],c.callback=a[2],c.context=a[3]):(c.callback=a[1],c.context=a[2]),void b.call(this,c);var d,e,f=":",g=a[0];for(d in g)g.hasOwnProperty(d)&&(c={},e=this._cleanStringData(d.split(f)),c.events=e[0],c.delegateQuery=e[1],c.callback=g[d],c.context=a[1],b.call(this,c))},e._registerDelegateFunc=function(a,b,c,d,e){var f=this._delegateFunc.bind(this,a,b,c,e);return this._delegateFuncs[b]=this._delegateFuncs[b]||{},this._delegateFuncs[b][a]=this._delegateFuncs[b][a]||[],this._delegateFuncs[b][a].push({func:d,context:e,delegateFunc:f}),f},e._cleanStringData=function(a){var b=!1;"string"==typeof a&&(a=[a],b=!0);var c,d,e,f=[],g=a.length;for(c=0;g>c;c++){if(d=a[c],"string"==typeof d){if(""===d||" "===d)continue;for(e=d.length;" "===d[0];)d=d.slice(1,e),e--;for(;" "===d[e-1];)d=d.slice(0,e-1),e--}f.push(d)}return b?f[0]:f},e._unregisterDelegateFunc=function(a,b,c,d){if(this._delegateFuncs[b]&&this._delegateFuncs[b][a]){var e,f=this._getDelegateFuncBindingIdx(a,b,c,d);return f>-1&&(e=this._delegateFuncs[b][a][f].delegateFunc,this._delegateFuncs[b][a].splice(f,1),0===this._delegateFuncs[b][a].length&&(this._delegateFuncs[b][a]=null)),e}},e._unregisterDelegateFuncs=function(a,b){if(this._delegateFuncs[b]&&(null===a||this._delegateFuncs[b][a]))if(null!==a)this._unbindDelegateFunc(a,b);else{var c;for(c in this._delegateFuncs[b])this._delegateFuncs[b].hasOwnProperty(c)&&this._unbindDelegateFunc(c,b)}},e._unbindDelegateFunc=function(a,b){for(var c,d,e=0;this._delegateFuncs[b][a]&&this._delegateFuncs[b][a][e];)c=this._delegateFuncs[b][a][e],d=this._delegateFuncs[b][a][e].length,this._off({events:a,delegateQuery:b,callback:c.func,context:c.context}),this._delegateFuncs[b][a]&&d===this._delegateFuncs[b][a].length&&e++;c=d=null},e._unregisterDelegateFuncsByEvent=function(a){var b;for(b in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(b)&&this._unregisterDelegateFuncs(a,b)},e._delegateFunc=function(a,b,c,d,e){if(this._targetHasDelegateAncestor(e.target,b)){var f=Array.prototype.slice.call(arguments,0),g=f.slice(4,f.length);d=d||window,"object"==typeof e.detail&&(g[0]=e.detail),c.apply(d,g)}},e._targetHasDelegateAncestor=function(a,b){for(var c=a;c&&c!==this.el&&c!==document.documentElement;){if(i.matchesSelector(c,b))return!0;c=c.parentNode}return!1},e._on=function(a){var b=a.events,c=a.callback,d=a.delegateQuery,e=a.context,f=a.unboundCallback||c;b=this._parseEventNames(b),b.forEach(function(a,b,c,d,e){this.has(e)||this._setListener(e),"string"==typeof d&&(a=this._registerDelegateFunc(e,d,a,b,c)),this._triggerInternalEvent("willon",{evt:e,callback:a,context:c,delegateQuery:d}),this._eventEmitter.on(e,a,c),this._triggerInternalEvent("didon",{evt:e,callback:a,context:c,delegateQuery:d})}.bind(this,c,f,e,d)),b=c=f=d=e=null},e._off=function(a){var b=a.events,c=a.callback,d=a.delegateQuery,e=a.context,f=a.unboundCallback||c;if("undefined"!=typeof b)b=this._parseEventNames(b),b.forEach(function(a,b,c,d,e){return"string"!=typeof d||"function"!=typeof b||(a=this._unregisterDelegateFunc(e,d,b,c))?"string"==typeof d&&"undefined"==typeof a?void this._unregisterDelegateFuncs(e,d):void(("string"!=typeof e||"undefined"!=typeof a||(this._unregisterDelegateFuncsByEvent(e),"string"!=typeof d))&&(this._triggerInternalEvent("willoff",{evt:e,callback:a,context:c,delegateQuery:d}),this._eventEmitter.off(e,a,c),this._triggerInternalEvent("didoff",{evt:e,callback:a,context:c,delegateQuery:d}),this.has(e)||this._removeListener(e))):void 0}.bind(this,c,f,e,d)),b=c=f=d=e=null;else{this._eventEmitter.off();var g;for(g in this._bindings)this._bindings.hasOwnProperty(g)&&this._removeListener(g);for(g in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(g)&&(this._delegateFuncs[g]=null)}},e._once=function(a){var b=a.events,c=a.callback,d=a.delegateQuery,e=a.context;b=this._parseEventNames(b),b.forEach(function(a,b,c,d){return"string"==typeof c?this._handleDelegateOnce(d,a,b,c):(this.has(d)||this._setListener(d),this._triggerInternalEvent("willonce",{evt:d,callback:a,context:b,delegateQuery:c}),this._eventEmitter.once.call(this,d,a,b),void this._triggerInternalEvent("didonce",{evt:d,callback:a,context:b,delegateQuery:c}))}.bind(this,c,e,d)),b=c=d=e=null},e._handleDelegateOnce=function(a,b,c,d){return this._triggerInternalEvent("willonce",{evt:a,callback:b,context:c,delegateQuery:d}),this._on({events:a,context:c,delegateQuery:d,callback:this._getDelegateOnceCallback.bind(this,a,b,c,d),unboundCallback:b}),this._triggerInternalEvent("didonce",{evt:a,callback:b,context:c,delegateQuery:d}),this},e._getDelegateOnceCallback=function(a,b,c,d){var e=Array.prototype.slice.call(arguments,0),f=e.slice(4,e.length);b.apply(c,f),this._off({events:a,delegateQuery:d,callback:b,context:c})},e._getDelegateFuncBindingIdx=function(a,b,c,d,e){var f=-1;if(this._delegateFuncs[b]&&this._delegateFuncs[b][a]){var g,h,i=this._delegateFuncs[b][a].length;for(g=0;i>g;g++)if(h=this._delegateFuncs[b][a][g],e&&"undefined"==typeof c&&(c=h.func),h.func===c&&h.context===d){f=g;break}}return f},e._triggerDOMEvents=function(a,b,c){var d=[this.el];c&&(d=i.querySelectorAll(c,this.el));var e,f=d.length;for(e=0;f>e;e++)h.dispatchEvent(d[e],a,{bubbles:!0,cancelable:!0,detail:b})},b.exports=d},{"./DOMEmitterEvent":527,"ac-dom-events":517,"ac-dom-traversal":535,"ac-event-emitter":263}],527:[function(a,b,c){"use strict";var d,e=a("ac-dom-events"),f=function(a,b){this._domEmitter=b,this._originalTarget=e.target(a),this.originalEvent=a||{},this.target=this._originalTarget||this._domEmitter.el,this.currentTarget=this._domEmitter.el,this.timeStamp=this.originalEvent.timeStamp||Date.now(),this._isDOMEvent(this.originalEvent)?"object"==typeof this.originalEvent.detail&&(this.data=this.originalEvent.detail):a&&(this.data=this.originalEvent,this.originalEvent={})};d=f.prototype,d.preventDefault=function(){e.preventDefault(this.originalEvent)},d.stopPropagation=function(){e.stopPropagation(this.originalEvent)},d.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this._domEmitter.stopImmediatePropagation()},d._isDOMEvent=function(a){return this._originalTarget||"undefined"!==document.createEvent&&"undefined"!=typeof CustomEvent&&a instanceof CustomEvent?!0:!1},b.exports=f},{"ac-dom-events":517}],528:[function(a,b,c){b.exports=a(287)},{"./shared/getEventType":533,"./utils/addEventListener":534}],529:[function(a,b,c){b.exports=a(212)},{"./shared/camelCasedEventTypes":530,"./shared/prefixHelper":531,"./utils/eventTypeAvailable":532}],530:[function(a,b,c){b.exports=a(215)},{}],531:[function(a,b,c){b.exports=a(89)},{}],532:[function(a,b,c){b.exports=a(220)},{}],533:[function(a,b,c){b.exports=a(292)},{"ac-prefixer/getEventType":529}],534:[function(a,b,c){b.exports=a(293)},{}],535:[function(a,b,c){b.exports=a(29)},{"./ac-dom-traversal/ancestor":536,"./ac-dom-traversal/ancestors":537,"./ac-dom-traversal/children":538,"./ac-dom-traversal/filterBySelector":539,"./ac-dom-traversal/firstChild":540,"./ac-dom-traversal/lastChild":543,"./ac-dom-traversal/matchesSelector":544,"./ac-dom-traversal/nextSibling":545,"./ac-dom-traversal/nextSiblings":546,"./ac-dom-traversal/previousSibling":547,"./ac-dom-traversal/previousSiblings":548,"./ac-dom-traversal/querySelector":549,"./ac-dom-traversal/querySelectorAll":550,"./ac-dom-traversal/shims/ie":551,"./ac-dom-traversal/siblings":552}],536:[function(a,b,c){b.exports=a(30)},{"./helpers/validate":542,"./matchesSelector":544,"ac-dom-nodes":62}],537:[function(a,b,c){b.exports=a(31)},{"./helpers/validate":542,"./matchesSelector":544,"ac-dom-nodes":62}],538:[function(a,b,c){b.exports=a(32)},{"./filterBySelector":539,"./helpers/validate":542,"ac-dom-nodes":62}],539:[function(a,b,c){b.exports=a(33)},{"./helpers/validate":542,"./matchesSelector":544}],540:[function(a,b,c){b.exports=a(34)},{"./children":538,"./helpers/validate":542}],541:[function(a,b,c){b.exports=a(35)},{}],542:[function(a,b,c){b.exports=a(36)},{"ac-dom-nodes":62}],543:[function(a,b,c){b.exports=a(37)},{"./children":538,"./helpers/validate":542}],544:[function(a,b,c){b.exports=a(38)},{"./helpers/nativeMatches":541,"./helpers/validate":542,"ac-dom-nodes":62}],545:[function(a,b,c){b.exports=a(39)},{"./helpers/validate":542,"./matchesSelector":544,"ac-dom-nodes":62}],546:[function(a,b,c){b.exports=a(40)},{"./helpers/validate":542,"./matchesSelector":544,"ac-dom-nodes":62}],547:[function(a,b,c){b.exports=a(41)},{"./helpers/validate":542,"./matchesSelector":544,"ac-dom-nodes":62}],548:[function(a,b,c){b.exports=a(42)},{"./helpers/validate":542,"./matchesSelector":544,"ac-dom-nodes":62}],549:[function(a,b,c){b.exports=a(43)},{"./helpers/validate":542}],550:[function(a,b,c){b.exports=a(44)},{"./helpers/validate":542}],551:[function(a,b,c){b.exports=a(45)},{"../helpers/nativeMatches":541,"../helpers/validate":542,"../vendor/sizzle/sizzle":553,"ac-dom-nodes":62}],552:[function(a,b,c){b.exports=a(46)},{"./children":538,"./helpers/validate":542}],553:[function(a,b,c){b.exports=a(47)},{}],554:[function(a,b,c){"use strict";var d={cssPropertyAvailable:a("./ac-feature/cssPropertyAvailable"),localStorageAvailable:a("./ac-feature/localStorageAvailable")},e=Object.prototype.hasOwnProperty;d.threeDTransformsAvailable=function(){if("undefined"!=typeof this._threeDTransformsAvailable)return this._threeDTransformsAvailable;var a,b;try{return this._threeDTransformsAvailable=!1,e.call(window,"styleMedia")?this._threeDTransformsAvailable=window.styleMedia.matchMedium("(-webkit-transform-3d)"):e.call(window,"media")&&(this._threeDTransformsAvailable=window.media.matchMedium("(-webkit-transform-3d)")),this._threeDTransformsAvailable||((b=document.getElementById("supportsThreeDStyle"))||(b=document.createElement("style"),b.id="supportsThreeDStyle",b.textContent="@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-ms-transform-3d),(-webkit-transform-3d) { #supportsThreeD { height:3px } }",document.querySelector("head").appendChild(b)),(a=document.querySelector("#supportsThreeD"))||(a=document.createElement("div"),a.id="supportsThreeD",document.body.appendChild(a)),this._threeDTransformsAvailable=3===a.offsetHeight||void 0!==b.style.MozTransform||void 0!==b.style.WebkitTransform),this._threeDTransformsAvailable}catch(c){return!1}},d.canvasAvailable=function(){if("undefined"!=typeof this._canvasAvailable)return this._canvasAvailable;var a=document.createElement("canvas");return this._canvasAvailable=!("function"!=typeof a.getContext||!a.getContext("2d")),this._canvasAvailable},d.sessionStorageAvailable=function(){if("undefined"!=typeof this._sessionStorageAvailable)return this._sessionStorageAvailable;try{"undefined"!=typeof window.sessionStorage&&"function"==typeof window.sessionStorage.setItem?(window.sessionStorage.setItem("ac_browser_detect","test"),this._sessionStorageAvailable=!0,window.sessionStorage.removeItem("ac_browser_detect","test")):this._sessionStorageAvailable=!1}catch(a){this._sessionStorageAvailable=!1}return this._sessionStorageAvailable},d.cookiesAvailable=function(){return"undefined"!=typeof this._cookiesAvailable?this._cookiesAvailable:(this._cookiesAvailable=e.call(document,"cookie")&&navigator.cookieEnabled?!0:!1,this._cookiesAvailable)},d.__normalizedScreenWidth=function(){return"undefined"==typeof window.orientation?window.screen.width:window.screen.width<window.screen.height?window.screen.width:window.screen.height},d.touchAvailable=function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)},d.isDesktop=function(){return this.touchAvailable()||window.orientation?!1:!0},d.isHandheld=function(){return!this.isDesktop()&&!this.isTablet()},d.isTablet=function(){return!this.isDesktop()&&this.__normalizedScreenWidth()>480},d.isRetina=function(){var a,b=["min-device-pixel-ratio:1.5","-webkit-min-device-pixel-ratio:1.5","min-resolution:1.5dppx","min-resolution:144dpi","min--moz-device-pixel-ratio:1.5"];if(void 0!==window.devicePixelRatio){if(window.devicePixelRatio>=1.5)return!0}else for(a=0;a<b.length;a+=1)if(window.matchMedia("("+b[a]+")").matches===!0)return!0;return!1},d.svgAvailable=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},b.exports=d},{"./ac-feature/cssPropertyAvailable":555,"./ac-feature/localStorageAvailable":556}],555:[function(a,b,c){"use strict";var d=null,e=null,f=null,g=null;b.exports=function(a){switch(null===d&&(d=document.createElement("browserdetect").style),null===e&&(e=["-webkit-","-moz-","-o-","-ms-","-khtml-",""]),null===f&&(f=["Webkit","Moz","O","ms","Khtml",""]),null===g&&(g={}),a=a.replace(/([A-Z]+)([A-Z][a-z])/g,"$1\\-$2").replace(/([a-z\d])([A-Z])/g,"$1\\-$2").replace(/^(\-*webkit|\-*moz|\-*o|\-*ms|\-*khtml)\-/,"").toLowerCase()){case"gradient":if(void 0!==g.gradient)return g.gradient;a="background-image:";var b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return d.cssText=(a+e.join(b+a)+e.join(c+a)).slice(0,-a.length),g.gradient=-1!==d.backgroundImage.indexOf("gradient"),g.gradient;case"inset-box-shadow":if(void 0!==g["inset-box-shadow"])return g["inset-box-shadow"];a="box-shadow:";var h="#fff 0 1px 1px inset;";return d.cssText=e.join(a+h),g["inset-box-shadow"]=-1!==d.cssText.indexOf("inset"),g["inset-box-shadow"];default:var i,j,k,l=a.split("-"),m=l.length;if(l.length>0)for(a=l[0],j=1;m>j;j+=1)a+=l[j].substr(0,1).toUpperCase()+l[j].substr(1);if(i=a.substr(0,1).toUpperCase()+a.substr(1),void 0!==g[a])return g[a];for(k=f.length-1;k>=0;k-=1)if(void 0!==d[f[k]+a]||void 0!==d[f[k]+i])return g[a]=!0,!0;return!1}}},{}],556:[function(a,b,c){"use strict";var d=null;b.exports=function(){return null===d&&(d=!(!window.localStorage||null===window.localStorage.non_existent)),d}},{}],557:[function(a,b,c){b.exports=a(165)},{"./ac-shared-instance/SharedInstance":558}],558:[function(a,b,c){b.exports=a(166)},{}],559:[function(a,b,c){b.exports=a(316)},{"./ac-mvc-cid/CID":560}],560:[function(a,b,c){b.exports=a(317)},{"ac-shared-instance":557}],561:[function(a,b,c){arguments[4][318][0].apply(c,arguments)},{"./ac-mvc-collection/Collection":562}],562:[function(a,b,c){"use strict";function d(a,b,c,d){"undefined"==typeof a[b]&&(a[b]=function(a,b){return function(){var c=g.toArray(arguments),d=b.concat(c);return a.apply(this,d)}}(c,d))}function e(a){i.call(this),this.options=f.defaults(this.defaultOptions,a||{}),this.models=[],this.cid=h.getNewCID(),this.options.ModelType&&(this.ModelType=this.options.ModelType),this.ModelType&&(this._modelsObject={}),this.on(l.add,this._addToModelsObject,this),this.on(l.remove,this._removeFromModelsObject,this),this.options.models&&this.add(this.options.models)}var f=a("ac-object"),g=a("ac-array"),h=a("ac-mvc-cid").CID,i=a("ac-event-emitter").EventEmitter,j=["every","filter","forEach","map","reduce","reduceRight","some","slice","sort","reverse","indexOf","lastIndexOf"],k=["intersection","union","unique","without"],l={add:"add",remove:"remove",set:"set",reset:"reset",empty:"empty",destroy:"destroy"},m=e.prototype=f.create(i.prototype);m.defaultOptions={},m.count=function(){return this.models?this.models.length:null},m.add=function(a,b){return b=b||{},"undefined"==typeof a&&(a=[]),a=this._returnAsArray(a),a=this._createModels(a),0===this.models.length?this.models=a:this.models=this.models.concat(a),this._trigger(l.add,{models:a},b),this},m.remove=function(a,b){if(b=b||{},!a)return[];a=this._returnAsArray(a);var c,d,e=[],f=a.length;for(c=0;f>c;c++)d=this.indexOf(a[c]),d>-1&&(e.push(a[c]),this.spliceWithOptions([d,1],{silent:!0}));return e.length>0&&this._trigger(l.remove,{models:e},b),e},m.reset=function(a,b){return b=b||{},this.empty(b),this.add(a,b),this._trigger(l.reset,{models:this.models},b),this},m.empty=function(a){a=a||{};var b=this.slice(0);return this.models=[],this._modelsObject&&(this._modelsObject={}),b.length>0&&(this._trigger(l.remove,{models:b},a),this._trigger(l.empty,{models:b},a)),b},m.destroy=function(a){a=a||{};var b=this.empty(a);this._trigger(l.destroy,{models:b},a),this.off();var c;for(c in this)this.hasOwnProperty(c)&&(this[c]=null)},m.get=function(a){var b=this._getModelByID(a);if(b)return b;var c,d=this.models.length;for(c=0;d>c;c++)if("undefined"!=typeof this.models[c].id&&this.models[c].id===a||"undefined"!=typeof this.models[c].cid&&this.models[c].cid===a){b=this.models[c];break}return b},m.set=function(a,b){b=b||{},"undefined"==typeof a&&(a=[]),a=this._returnAsArray(a);var c,d,e="id",f=a.length,g=[],h=[],i={};for(this.ModelType&&this.ModelType.prototype.idAttribute&&(e=this.ModelType.prototype.idAttribute),b.matchParameter&&(e=b.matchParameter),c=0;f>c;c++)d=null,"object"==typeof a[c]&&(d=this.get(a[c][e])),d?(this.ModelType?(d.set(a[c]),i[d.cid]=!0):d=a[c],h.push(d)):(this.ModelType&&(a[c]=this._createModel(a[c])),(this.ModelType||-1===this.indexOf(a[c]))&&g.push(a[c]),h.push(a[c]));var j,k,m,n=h.length,o=[];for(f=this.models.length,c=0;f>c;c++){if(m=this.models[c],this.ModelType)k=!0,i[m.cid]&&(k=!1);else for(k=!0,j=0;n>j;j++)if(m===h[j]){k=!1;break}k&&o.push(m)}return this.models=h,g.length>0&&this._trigger(l.add,{models:g},b),o.length>0&&this._trigger(l.remove,{models:o},b),this._trigger(l.set,{models:h},b),o},m.at=function(a){return this.models?this.models[a]:void 0},m.find=function(a,b){if("object"!=typeof a)return[];b=b||{};var c,d,e=[],f=!1,g=0,h=null,i=0,j=this.models.length,k=j;for(b.reverse&&(i=j-1,k=-1,f=!0),b.limit&&(h=b.limit),d=i;(f?d>k:k>d)&&(c=this.models[d],!(this._modelMatchesProperties(c,a)&&(f?e.unshift(c):e.push(c),g++,h&&g>=h)));f?d--:d++);return e},m.push=function(){return this.pushWithOptions(g.toArray(arguments))},m.pop=function(){return this.popWithOptions(g.toArray(arguments))},m.shift=function(){return this.shiftWithOptions(g.toArray(arguments))},m.unshift=function(){return this.unshiftWithOptions(g.toArray(arguments))},m.splice=function(){return this.spliceWithOptions(g.toArray(arguments))},m.pushWithOptions=function(a,b){b=b||{};var c=this._createModels(a),d=Array.prototype.push.apply(this.models,c);return c.length>0&&this._trigger(l.add,{models:c},b),d},m.popWithOptions=function(a,b){b=b||{};var c=Array.prototype.pop.call(this.models);return c&&this._trigger(l.remove,{models:[c]},b),c},m.shiftWithOptions=function(a,b){b=b||{};var c=Array.prototype.shift.call(this.models);return c&&this._trigger(l.remove,{models:[c]},b),c},m.unshiftWithOptions=function(a,b){b=b||{};var c=this._createModels(a),d=Array.prototype.unshift.apply(this.models,c);return c.length>0&&this._trigger(l.add,{models:c},b),d},m.spliceWithOptions=function(a,b){b=b||{};var c,d,e,f=[a[0],a[1]];return a.length>2&&(c=a.slice(2,a.length),d=this._createModels(c),f=f.concat(d)),e=Array.prototype.splice.apply(this.models,f),e.length>0&&this._trigger(l.remove,{models:e},b),d&&this._trigger(l.add,{models:d},b),e},m._trigger=function(a,b,c){c=c||{},c.silent||this.trigger(a,b)},m._getModelByID=function(a){return this.ModelType&&this._modelsObject&&this._modelsObject[a]?this._modelsObject[a]:null},m._createModel=function(a){return a instanceof this.ModelType||a instanceof e?a:new this.ModelType(a)},m._createModels=function(a){if(!this.ModelType)return Array.prototype.slice.call(a,0);var b,c,d=[],e=a.length;for(c=0;e>c;c++)b=a[c],b instanceof this.ModelType||(b=this._createModel(b)),d.push(b);return d},m._modelMatchesProperties=function(a,b){var c;for(c in b)if(b.hasOwnProperty(c)&&this._getPropFromModel(a,c)!==b[c])return!1;return!0},m._getPropFromModel=function(a,b){return this.ModelType?a.get(b):a[b]},m._addToModelsObject=function(a){this._modelsObject&&a.models||(this._modelsObject={}),a.models.forEach(function(a){this._modelsObject[a.id]=a,this._modelsObject[a.cid]=a},this)},m._removeFromModelsObject=function(a){this._modelsObject&&a.models||(this._modelsObject={}),a.models.forEach(function(a){this._modelsObject[a.id]=null,this._modelsObject[a.cid]=null},this)},m._returnAsArray=function(a){return Array.isArray(a)||(a=[a]),a},m._acArrayProxy=function(a){var b=g.toArray(arguments);return b[0]=this.models,g[a].apply(g,b)},m._arrayPrototypeProxy=function(a){var b=g.toArray(arguments);return b.shift(),Array.prototype[a].apply(this.models,b)},j.forEach(function(a){"function"==typeof Array.prototype[a]&&d(this,a,this._arrayPrototypeProxy,[a])},m),k.forEach(function(a){"function"==typeof g[a]&&d(this,a,this._acArrayProxy,[a])},m),b.exports=e},{"ac-array":10,"ac-event-emitter":263,"ac-mvc-cid":559,"ac-object":358}],563:[function(a,b,c){"use strict";b.exports={path:a("./ac-path/path")}},{"./ac-path/path":564}],564:[function(a,b,c){"use strict";function d(a){return d.parse(a)}d.basename=function(a,b){d._assertStr(a);var c,e=a.match(/[^/]*$/)[0];return b&&(c=e.match(new RegExp("(.*)"+b+"$")),c&&(e=c[1])),e},d.dirname=function(a){d._assertStr(a);var b=a.match(/^(.*)\b\/|.*/);return b[1]||a},d.extname=function(a){d._assertStr(a);var b=a.match(/\.[^.]*$/);return b?b[0]:""},d.filename=function(a){return d._assertStr(a),d.basename(a,d.extname(a))},d.format=function(a,b){d._assertObj(a);var c=a.dirname?a.dirname+"/":"";return a.basename?c+=a.basename:a.filename&&(c+=a.filename,a.extname&&(c+=a.extname)),b&&("string"==typeof b?c+="?"+b:Object.prototype.toString.call(b)===Object.prototype.toString.call([])&&(c+="?"+b.join("&"))),c},d.isAbsolute=function(a){return d._assertStr(a),!!a.match(/(^http(s?))/)},d.isRootRelative=function(a){return d._assertStr(a),!!a.match(/^\/(?!\/)/)},d.parse=function(a){return d._assertStr(a),{dirname:d.dirname(a),basename:d.basename(a),filename:d.filename(a),extname:d.extname(a)}},d._assertStr=function(a){d._assertType(a,"string")},d._assertObj=function(a){d._assertType(a,"object")},d._assertType=function(a,b){var c=typeof a;if("undefined"===c||c!==b)throw new TypeError("path param must be of type "+b)},b.exports=d},{}],565:[function(a,b,c){"use strict";b.exports={cname:a("./ac-cname/cname")}},{"./ac-cname/cname":566}],566:[function(a,b,c){"use strict";function d(a){return d.addPrefix(a)}var e=a("ac-path").path;d._prefix=function(){var a="/global/elements/blank.gif";return a.replace(/global\/.*/,"")}(),d.addPrefix=function(a){return e.isAbsolute(a)?a:(d._assertRootRelative(a),a=d._prefix+a.replace(/^\//,""),a=a.replace(/(^.+)(\/105\/)/,"$1/"))},d.formatUrl=function(a,b,c,f){var g=e.format({dirname:a,filename:b,extname:c},f);if(e.isAbsolute(g))return g;d._assertRootRelative(a);var h=d.addPrefix(g);return h},d._assertRootRelative=function(a){if(!e.isRootRelative(a))throw new URIError("Only root-relative paths are currently supported")},b.exports=d},{"ac-path":563}],567:[function(a,b,c){b.exports=a(194)},{"./helpers/globals":575,"ac-function/once":584}],568:[function(a,b,c){b.exports=a(195)},{"./touchAvailable":599,"ac-browser":17,"ac-function/once":584
}],569:[function(a,b,c){b.exports=a(196)},{"./helpers/globals":575,"ac-function/once":584}],570:[function(a,b,c){b.exports=a(197)},{"ac-function/once":584,"ac-prefixer/getStyleValue":587}],571:[function(a,b,c){b.exports=a(198)},{"ac-function/memoize":583,"ac-prefixer/getStyleProperty":586,"ac-prefixer/getStyleValue":587}],572:[function(a,b,c){b.exports=a(199)},{"ac-function/once":584,"ac-prefixer/getStyleValue":587}],573:[function(a,b,c){b.exports=a(200)},{"./helpers/globals":575,"ac-function/memoize":583}],574:[function(a,b,c){b.exports=a(201)},{"ac-function/memoize":583,"ac-prefixer/getEventType":585}],575:[function(a,b,c){b.exports=a(202)},{}],576:[function(a,b,c){b.exports=a(203)},{"./canvasAvailable":567,"./continuousScrollEventsAvailable":568,"./cookiesAvailable":569,"./cssLinearGradientAvailable":570,"./cssPropertyAvailable":571,"./cssViewportUnitsAvailable":572,"./elementAttributeAvailable":573,"./eventTypeAvailable":574,"./isDesktop":577,"./isHandheld":578,"./isRetina":579,"./isTablet":580,"./localStorageAvailable":581,"./mediaElementsAvailable":582,"./sessionStorageAvailable":596,"./svgAvailable":597,"./threeDTransformsAvailable":598,"./touchAvailable":599,"./webGLAvailable":600}],577:[function(a,b,c){b.exports=a(204)},{"./helpers/globals":575,"./touchAvailable":599,"ac-function/once":584}],578:[function(a,b,c){b.exports=a(205)},{"./isDesktop":577,"./isTablet":580,"ac-function/once":584}],579:[function(a,b,c){b.exports=a(206)},{"./helpers/globals":575}],580:[function(a,b,c){b.exports=a(207)},{"./helpers/globals":575,"./isDesktop":577,"ac-function/once":584}],581:[function(a,b,c){b.exports=a(208)},{"./helpers/globals":575,"ac-function/once":584}],582:[function(a,b,c){b.exports=a(209)},{"./helpers/globals":575,"ac-function/once":584}],583:[function(a,b,c){b.exports=a(210)},{}],584:[function(a,b,c){b.exports=a(211)},{}],585:[function(a,b,c){b.exports=a(212)},{"./shared/camelCasedEventTypes":588,"./shared/prefixHelper":590,"./utils/eventTypeAvailable":593}],586:[function(a,b,c){b.exports=a(86)},{"./shared/getStyleTestElement":589,"./shared/prefixHelper":590,"./shared/stylePropertyCache":591,"./utils/toCSS":594,"./utils/toDOM":595}],587:[function(a,b,c){b.exports=a(87)},{"./getStyleProperty":586,"./shared/prefixHelper":590,"./shared/stylePropertyCache":591,"./shared/styleValueAvailable":592}],588:[function(a,b,c){b.exports=a(215)},{}],589:[function(a,b,c){b.exports=a(88)},{}],590:[function(a,b,c){b.exports=a(89)},{}],591:[function(a,b,c){b.exports=a(90)},{}],592:[function(a,b,c){b.exports=a(91)},{"./getStyleTestElement":589,"./stylePropertyCache":591}],593:[function(a,b,c){b.exports=a(220)},{}],594:[function(a,b,c){b.exports=a(93)},{}],595:[function(a,b,c){b.exports=a(94)},{}],596:[function(a,b,c){b.exports=a(223)},{"./helpers/globals":575,"ac-function/once":584}],597:[function(a,b,c){b.exports=a(224)},{"./helpers/globals":575,"ac-function/once":584}],598:[function(a,b,c){b.exports=a(225)},{"ac-function/once":584,"ac-prefixer/getStyleValue":587}],599:[function(a,b,c){b.exports=a(226)},{"./helpers/globals":575,"ac-function/once":584}],600:[function(a,b,c){b.exports=a(227)},{"./helpers/globals":575,"ac-function/once":584}],601:[function(a,b,c){b.exports=a(228)},{"./extend":604}],602:[function(a,b,c){b.exports=a(229)},{}],603:[function(a,b,c){b.exports=a(230)},{"./extend":604}],604:[function(a,b,c){b.exports=a(231)},{}],605:[function(a,b,c){b.exports=a(232)},{}],606:[function(a,b,c){b.exports=a(233)},{"./clone":601,"./create":602,"./defaults":603,"./extend":604,"./getPrototypeOf":605,"./isDate":607,"./isEmpty":608,"./isRegExp":609,"./toQueryParameters":611}],607:[function(a,b,c){b.exports=a(234)},{}],608:[function(a,b,c){b.exports=a(235)},{}],609:[function(a,b,c){b.exports=a(236)},{}],610:[function(a,b,c){b.exports=a(237)},{}],611:[function(a,b,c){b.exports=a(238)},{qs:610}],612:[function(a,b,c){"use strict";var d=a("./ac-video-posterframe/factory");b.exports={create:d.create,AttributePoster:a("./ac-video-posterframe/PosterAttribute"),ImageTagPoster:a("./ac-video-posterframe/PosterImageTag"),defaultPosterPath:a("./ac-video-posterframe/defaultPosterPath")}},{"./ac-video-posterframe/PosterAttribute":613,"./ac-video-posterframe/PosterImageTag":614,"./ac-video-posterframe/defaultPosterPath":615,"./ac-video-posterframe/factory":616}],613:[function(a,b,c){"use strict";function d(){e.apply(this,arguments)}var e=a("ac-mvc-view").View,f=a("ac-object"),g=d.prototype=f.create(e.prototype);g._renderPoster=function(){this.model.hasPoster()?this.el.setAttribute("poster",this.model.getPoster()):this.el.removeAttribute("poster")},g.render=function(){this._renderPoster(),this.model.on("posterchange",this._renderPoster,this)},b.exports=d},{"ac-mvc-view":355,"ac-object":606}],614:[function(a,b,c){"use strict";function d(){e.apply(this,arguments),this._img=null}var e=a("ac-mvc-view").View,f=a("ac-object"),g="ac-video-poster-hide",h=d.prototype=f.create(e.prototype);h.tagName="div",h.className=["ac-video-poster"],h._renderSrc=function(){this.model.hasPoster()?(this._img||(this._img=document.createElement("img"),this.el.appendChild(this._img)),this._img.setAttribute("src",this.model.getPoster())):this._img&&this._img.parentNode===this.el&&(this.el.removeChild(this._img),this._img=null)},h._hide=function(){this.addClassName(g)},h._show=function(){this.removeClassName(g)},h._onPlay=function(){var a=this.model.getCurrentTime();0===a&&(this._show(),this.model.once("timeupdate",this._hide,this))},h._onReadyStateChange=function(a){0===a.readyState&&this._show()},h.render=function(){this._renderSrc(),this.model.on("readystatechange",this._onReadyStateChange,this),this.model.on("posterchange",this._renderSrc,this),this.model.on("play",this._onPlay,this),this.model.on("ended",this._show,this)},b.exports=d},{"ac-mvc-view":355,"ac-object":606}],615:[function(a,b,c){"use strict";var d=a("ac-cname").cname;b.exports=function(){return d.formatUrl("/ac/ac-video-posterframe/1.0/images","poster848x480",".jpg")}},{"ac-cname":565}],616:[function(a,b,c){"use strict";function d(){return g.isHandheld()}var e=a("./PosterAttribute"),f=a("./PosterImageTag"),g=a("ac-feature");b.exports={create:function(a){var b=null;return b=d()?new e({model:a,element:a.getMediaElement()}):new f({model:a})}}},{"./PosterAttribute":613,"./PosterImageTag":614,"ac-feature":576}],617:[function(a,b,c){var d=a("./ac-video/player/Player");d.create=a("./ac-video/player/factory/create"),d.createFromElement=a("./ac-video/player/factory/createFromElement"),d.createFromAnchorTag=a("./ac-video/player/factory/createFromAnchorTag");var e=a("./ac-video/models/Video");e.createFromVideoTag=a("./ac-video/models/video/factory/createFromVideoTag");a("ac-video-controls");b.exports={Player:d,Video:e}},{"./ac-video/models/Video":638,"./ac-video/models/video/factory/createFromVideoTag":640,"./ac-video/player/Player":641,"./ac-video/player/factory/create":642,"./ac-video/player/factory/createFromAnchorTag":643,"./ac-video/player/factory/createFromElement":644,"ac-video-controls":478}],618:[function(a,b,c){function d(a){this.el=a}var e=d.prototype;e.setEl=function(a){this.el=a},e.play=function(){this.el.play()},e.pause=function(){this.el.pause()},e.setCurrentTime=function(a){this.el.currentTime=a},e.getCurrentTime=function(){return this.el.currentTime},e.setPreload=function(a){this.el.preload=a},e.getWidth=function(){return this.el.videoWidth},e.getHeight=function(){return this.el.videoHeight},e.setControls=function(a){this.el.controls=a},e.setSrc=function(a){this.el.src=a},e.getSrc=function(){return this.el.src},e.getControls=function(){return this.el.controls},e.setMuted=function(a){this.el.muted=a},e.setVolume=function(a){this.el.volume=a},e.getVolume=function(){return this.el.volume},e.getDuration=function(){return this.el.duration},e.setPlaybackRate=function(a){this.el.playbackRate=a},e.getPlaybackRate=function(){return this.el.playbackRate},e.getDefaultPlaybackRate=function(){return this.el.defaultPlaybackRate},e.setLoop=function(a){this.el.loop=a},e.getLoop=function(){return this.el.loop},e.getCurrentSrc=function(){return this.el.currentSrc},e.getPlayed=function(){return this.el.played},e.addTextTrack=function(a,b,c){return this.el.addTextTrack(a,b,c)},e.getTextTracks=function(){var a=this.el.textTracks||[];return Array.prototype.map.call(a,function(a,b){return a.index=b,a})},e.getBuffered=function(){return this.el.buffered},b.exports=d},{}],619:[function(a,b,c){"use strict";function d(a){this.el=a,this._boundChangeSrc=this._changeSrc.bind(this),this._incomingSrc}var e=(a("ac-object"),d.prototype);e.setEl=function(a){this.el=a},e.play=function(){this.el.Play()},e.pause=function(){this.el.Stop()},e.setCurrentTime=function(a){this.el.SetTime(a*this.el.GetTimeScale())},e.setPreload=function(a){},e.getCurrentTime=function(){var a=0;if(this._incomingSrc)return a;try{a=this.el.GetTime()/this.el.GetTimeScale()}catch(b){}return a},e.getWidth=function(){var a=void 0;try{var b=this.el.GetRectangle(),c=this.el.GetMatrix(),a=+b.split(",")[2],d=parseFloat(c.split(",")[0]);a=Math.round(a/d)}catch(e){}return a},e.getHeight=function(){var a=void 0;try{var b=this.el.GetRectangle(),c=this.el.GetMatrix(),a=+b.split(",")[3],d=parseFloat(c.split(",")[3]);a=Math.round(a/d)}catch(e){}return a},e.setMuted=function(a){this.el.SetMute(a)},e.setVolume=function(a){this.el.SetVolume(256*a)},e.getVolume=function(){return this.el.GetVolume()/256},e.getDuration=function(){var a=NaN;if(this._incomingSrc)return NaN;try{a=this.el.GetDuration()/this.el.GetTimeScale()}catch(b){}return a},e.setLoop=function(a){this.el.SetIsLooping(a)},e.getLoop=function(){return this.el.GetIsLooping()},e.setPlaybackRate=function(a){this.el.SetRate(a)},e.getPlaybackRate=function(){var a=1;try{a=this.el.GetRate()}catch(b){}return a},e._changeSrc=function(){try{this.el.SetResetPropertiesOnReload(!1),this.el.SetURL(this._incomingSrc)}catch(a){}this._incomingSrc=null},e.setSrc=function(a){this._incomingSrc=a,window.requestAnimationFrame(this._boundChangeSrc)},e.getSrc=function(){return this.el.GetURL()},e.getCurrentSrc=function(){return this.el.GetURL()},e.getDefaultPlaybackRate=function(){return 1},e.getPlayed=function(){},e.getBuffered=function(){return[[0,this.element.GetMaxTimeLoaded()/this.element.GetTimeScale()]]},e.showTextTrack=function(a){this.el.SetTrackEnabled(a,!0)},e.hideTextTrack=function(a){this.el.SetTrackEnabled(a,!1)},e.setControls=function(a){this.el.SetControllerVisible(a)},e.getControls=function(){return this.el.GetControllerVisible()},e.getTextTracks=function(){for(var a=[],b=this.el.GetTrackCount(),c=1;b>=c;c++){var d=this.el.GetTrackType(c);("Subtitle"===d||"Closed Caption"===d)&&a.push({kind:d,label:this.el.GetTrackName(c),mode:this.el.GetTrackEnabled(c)?"showing":"hidden",index:c})}return a},b.exports=d},{"ac-object":358}],620:[function(a,b,c){"use strict";var d=a("./HTML5VideoAPI"),e=a("./QuickTimeAPI"),f={create:function(a,b){return"video"===b?new d(a):new e(a)}};b.exports=f},{"./HTML5VideoAPI":618,"./QuickTimeAPI":619}],621:[function(a,b,c){var d=a("ac-mvc-collection").Collection,e=a("./../models/MediaSource"),f=a("ac-object"),g=function(){d.apply(this,arguments)},h=g.prototype=f.create(d.prototype);h.ModelType=e,b.exports=g},{"./../models/MediaSource":636,"ac-mvc-collection":561,"ac-object":358}],622:[function(a,b,c){var d=a("ac-mvc-collection").Collection,e=a("./../models/TextTrackModel"),f=a("ac-object"),g=function(){d.apply(this,arguments)},h=g.prototype=f.create(d.prototype);h.ModelType=e,h.createTextTrackFromNativeTrack=function(a){var b=new e(a);return b.setNativeTextTrack(a),this.add(b),b},h.count=function(){return this.models.length},h.findTextTrackModelFromNativeTrack=function(a){var b=this.filter(function(b){return b.getNativeTextTrack()===a?b:!1})[0];return b||null},h.getEnabledTextTracks=function(){var a=this.filter(function(a){return"disabled"!==a.get("mode")?a:!1});return new g({models:a})},h._findTextTrack=function(a){var b;return b=this.indexOf(a)>-1?a:"number"==typeof a?this.at(a):"string"==typeof a?this.get(a):this.find(a,{limit:1})[0]},h.getVisibleTextTracks=function(){var a=this.find({mode:"showing"});return new g({models:a})},h.findTextTrack=function(a){return this._findTextTrack(a)},b.exports=g},{"./../models/TextTrackModel":637,"ac-mvc-collection":561,"ac-object":358}],623:[function(a,b,c){"use strict";function d(){this._boundEventListeners=[],this._collection=[]}var e=d.prototype;e.add=function(a){a=Array.prototype.slice.call(arguments,0);var b,c,d=a.length;for(c=0;d>c;c++)this._collection.indexOf(a[c])<0&&(b=a[c],this._setup(b),this._collection.push(b))},e.remove=function(a){a=Array.prototype.slice.call(arguments,0);var b,c,d=a.length;for(b=0;d>b;b++)c=this._collection.indexOf(a[b]),c>-1&&(this._teardown(a[b]),this._collection.splice(c,1))},e._setup=function(a){var b=this._pauseOtherVideos.bind(this,a),c=this.remove.bind(this,a),d={video:a,eventListeners:{playListener:b,destroyListener:c}};this._boundEventListeners.push(d),a.on("play",b),a.on("acv-destroy",c)},e._teardown=function(a){var b=this._boundEventListeners.filter(function(b){return b.video===a},this);if(b.length){b=b.pop(),a.off("play",b.eventListeners.playListener),a.off("acv-destroy",b.eventListeners.destroyListener);var c=this._boundEventListeners.indexOf(b);this._boundEventListeners.splice(c,1)}},e._getOtherVideos=function(a){return this._collection.filter(function(b){return b!==a},this)},e._pauseOtherVideos=function(a){var b=this._getOtherVideos(a);b.forEach(function(a){a.pause()})},b.exports=new d},{}],624:[function(a,b,c){function d(){return/^(iOS|Android)$/.test(h.os)}function e(){this._possibleTemplateKeys=["autoplay","buffered","endframe","controls","height","loop","muted","poster","preload","suffix","width","controlbar","controlbarwidth","controlbarskinning","disablecaptionscontrol"],this._defaultTemplateValues={autoplay:!1,muted:!1,loop:!1,controls:!1,preload:"metadata",controlbarwidth:"450",controlbarskinning:"ac-video-controlbar",disablecaptionscontrol:!1}}var f=a("ac-object"),g=a("ac-dom-traversal"),h=a("ac-browser"),i=a("ac-deferred").Deferred,j="v",k=function(a,b){var c=a.getAttribute(b);return null===c?!1:""===c?!1:!0},l=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}(),m=e.prototype;m.getSource=function(a){var b=/[^/]*.[^\.]*$/,c=null,d={};if(k(a,"data-src"))c=a.getAttribute("data-src");else if(k(a,"href"))c=a.getAttribute("href");else if(k(a,"src"))c=a.getAttribute("src");else{var e=g.querySelector("source",a);e&&k(e,"src")&&(c=e.getAttribute("src"))}return c&&(d.defaultSource=c,d.videoSource=c.match(b)[0],d.directory=c.replace(d.videoSource,""),d.videoFileName=d.videoSource.split(".")[0]),d},m.getConfig=function(a,b,c){var d=new i,e={},f=this.getSource(a);return this.isAppleMobileDevice="iOS"===h.os,e=this._getValues(a,c),this._videoRecommendation=b,e.videoTemplate=b.videoTemplate,d.resolve(),d.promise().then(function(){return e.usesFullScreen=e.usesFullScreen&&"elementVideo"===e.videoTemplate,e.source=f.defaultSource,e})},m._buildFileSuffix=function(a){var b="";if(a.suffix)b="_"+a.suffix;else if(a.height&&a.width){var c=a.height.replace("px","").replace("em","").replace("rem",""),d=a.width.replace("px","").replace("em","").replace("rem","");b="_"+d+"x"+c}return b},m._getRecommendedCaptionsPaths=function(a,b){var c=[];return c.push(a+b+"-captions."+j+"tt"),c},m._generateRecommendedVideoPaths=function(a,b){var c=this._buildFileSuffix(b),d=[];return this._videoRecommendation.supportedProfiles.forEach(function(b){b.sizeRelevant&&(a+=c),d.push(a+"."+b.fileExtension)}),d},m._getValues=function(a,b){var c="ac-video-"+l(),e=this._defaultTemplateValues;return f.extend(e,this._getMarkupValues(a)),b&&f.extend(e,b),d()&&(e["native"]=!0,e.controls="true"),e.targetId=a.id,e.domId=c,e.eventId=c+"-quicktime-event",e.wrapperId=c+"-wrapper",e},m._getMarkupValues=function(a){var b={};return this._possibleTemplateKeys.forEach(function(c){k(a,c)?b[c]=a.getAttribute(c):k(a,"data-acv-"+c)&&(b[c]=a.getAttribute("data-acv-"+c)),("autoplay"===c||"controls"===c||"muted"===c||"loop"===c)&&b[c]&&b[c].length>0&&(b[c]=!0),"string"==typeof b[c]&&/^(true|false)$/.test(b[c])&&(b[c]="true"===b[c]?!0:!1)}),b},m.addPossibleTemplateKeys=function(a){a.forEach(function(a){this._possibleTemplateKeys.indexOf(a)||this._possibleTemplateKeys.push(a)},this)},b.exports=e},{"ac-browser":17,"ac-deferred":513,"ac-dom-traversal":535,"ac-object":358}],625:[function(a,b,c){"use strict";b.exports={LOADEDMETADATA:1,LOADEDDATA:2,CANPLAY:3,CANPLAYTHROUGH:4}},{}],626:[function(a,b,c){"use strict";function d(){e.apply(this,arguments),this.view=this.options.view||new f({element:this.mediaElement.el}),this._textTrackRenderViews=[],this._addViewEvents()}var e=a("./TextTracksController"),f=a("./../../views/textTracks/TextTracksCollectionView"),g=a("./../../views/textTracks/TextTrackRender"),h=a("./../../models/TextTrackModel"),i=a("ac-object"),j=d.prototype=i.create(e.prototype);j._holdingTextTrackModels={},j._addViewEvents=function(){this.view.on("addtrack",this._respondToAddTrackEvent,this),this.view.on("change",this._respondToChangeTrackEvent,this),this.view.on("removetrack",this._respondToRemoveTrackEvent,this)},j._respondToAddTrackEvent=function(a){var b,c=this.mediaElement.el.textTracks,d=[],e=a.data.track,f=this.model.findTextTrackModelFromNativeTrack(e);if(!f&&e&&e.id&&this._holdingTextTrackModels[e.id]){f=this._holdingTextTrackModels[e.id],f.setNativeTextTrack(e),this.model.add(f),this._holdingTextTrackModels[e.id]=void 0;var g=this._createTextTrackRenderView(e,f);g.renderMode()}if(null===f?this._createTextTrackFromNativeTrack(e):f.set({mode:e.mode}),f&&f.on("change:mode",function(){"webkitClosedCaptionsVisible"in this.mediaElement.el&&"showing"===f.get("mode")&&(this.mediaElement.el.webkitClosedCaptionsVisible=!0)},this),c){for(var h=0;h<c.length;h+=1)b=this.model.findTextTrackModelFromNativeTrack(c[h]),b.set({mode:c[h].mode}),d.push(b);this.model.reset(d)}this.trigger("addtrack",a)},j._createTextTrackRenderView=function(a,b){var c=(this.mediaElement.el,new g({element:a,model:b}));return b.on("change:mode",this._onTextTrackModeChange,this),c.render(),c},j._createTextTrackFromNativeTrack=function(a){var b=this.model.createTextTrackFromNativeTrack(a);return this._createTextTrackRenderView(a,b),b},j._onTextTrackModeChange=function(a){"showing"===a.value?this.trigger("texttrackshow"):this.trigger("texttrackhide")},j._respondToChangeTrackEvent=function(a){this.trigger("changetrack",a)},j._respondToRemoveTrackEvent=function(a){this.trigger("removetrack",a)},j.addTextTrackFromRemoteVTT=function(a){var b=new h(a);this._holdingTextTrackModels[b.cid]=b,this.view.addTextTrackTag(b)},j.addTextTrack=function(a,b,c){var d=this.mediaElement.addTextTrack(a,b,c);return this._createTextTrackFromNativeTrack(d)},j.populateTextTracks=function(){var a=this.mediaElement.getTextTracks();a&&a.forEach(function(a){null===this.model.findTextTrackModelFromNativeTrack(a)&&this._createTextTrackFromNativeTrack(a)},this)},b.exports=d},{"./../../models/TextTrackModel":637,"./../../views/textTracks/TextTrackRender":655,"./../../views/textTracks/TextTracksCollectionView":657,"./TextTracksController":628,"ac-object":358}],627:[function(a,b,c){"use strict";function d(a,b){e.apply(this,arguments)}var e=(a("ac-event-emitter").EventEmitter,a("./TextTracksController")),f=a("./../../views/textTracks/QuickTimeTextTrackDisplay"),g=a("ac-object"),h=d.prototype=g.create(e.prototype);h._createTextTrackFromNativeTrack=function(a){var b=this.model.createTextTrackFromNativeTrack(a),c=new f({element:this.mediaElement,model:b,index:a.index});b.on("change:mode",this._onTrackModeChange,this),c.render(),this.trigger("addtrack")},h._onTrackModeChange=function(a){this.trigger("changetrack"),"showing"===a.value?this.trigger("texttrackshow"):this.trigger("texttrackhide")},h.populateTextTracks=function(){var a=this.mediaElement.getTextTracks();a&&a.forEach(function(a){null===this.model.findTextTrackModelFromNativeTrack(a)&&this._createTextTrackFromNativeTrack(a)},this)},b.exports=d},{"./../../views/textTracks/QuickTimeTextTrackDisplay":654,"./TextTracksController":628,"ac-event-emitter":263,"ac-object":358}],628:[function(a,b,c){"use strict";function d(a,b){this.options=b||{},this.mediaElement=a,this.model=this.options.model||new f}var e=a("ac-event-emitter").EventEmitter,f=a("./../../collection/TextTrackCollection"),g=a("ac-object"),h=d.prototype=g.create(e.prototype);h.addTextTrackFromRemoteVTT=function(a){},h.addTextTrack=function(){},h.removeTextTrack=function(){},h.getEnabledTextTracks=function(){return this.model.getEnabledTextTracks.apply(this.model,arguments)},h.getTextTracks=function(){return this.model},h.getTextTracksCount=function(){return this.model.count()},h.getVisibleTextTracks=function(){return this.model.getVisibleTextTracks()},h.findTextTrack=function(a){return this.model.findTextTrack(a)},h.addTextTrack=function(a,b,c){this.mediaElement.addTextTrack(a,b,c)},h.populateTextTracks=function(){},b.exports=d},{"./../../collection/TextTrackCollection":622,"ac-event-emitter":263,"ac-object":358}],629:[function(a,b,c){"use strict";function d(){e.apply(this,arguments)}var e=a("./TextTracksController"),f=a("./../../models/TextTrackModel"),g=a("./../../views/textTracks/WebkitClosedCaptionsView"),h=a("ac-object"),i=a("ac-browser"),j=d.prototype=h.create(e.prototype);j._onTextTrackModeChange=function(a){"showing"===a.value?this.trigger("texttrackshow"):this.trigger("texttrackhide")},j.populateTextTracks=function(){var a,b=this.mediaElement.el,c=b.webkitHasClosedCaptions;c===!0&&(this.view||(this.view=new g({element:b})),a=new f({mode:"hidden"}),this.view.setModel(a),a.on("change:mode",this._onTextTrackModeChange,this),this.model.reset([a]),this.trigger("addtrack",{textTrack:a}),"Safari Mobile"===i.name&&i.version<7?a.once("change:mode",this.view.render,this.view):this.view.render())},b.exports=d},{"./../../models/TextTrackModel":637,"./../../views/textTracks/WebkitClosedCaptionsView":658,"./TextTracksController":628,"ac-browser":17,"ac-object":358}],630:[function(a,b,c){"use strict";function d(a){this.options=a||{},this.player=this.options.player,this.player.setControls(!0)}d.prototype;d.create=function(a){return new d(a)},b.exports=d},{}],631:[function(a,b,c){"use strict";function d(a,b){this.playableObject=a,this.options=b||{},this.model=this._getOrCreateVideo(),this.view=this._getOrCreateView(),this.textTracks=this._getOrCreateTextTracksController(),this._sourceReadyBinding=!1,f.call(this),this._bindTextTrackEvents(),this._bindModelEvents(),this._checkToRenderView()}var e=a("./../models/Video"),f=a("ac-event-emitter").EventEmitter,g=(a("ac-mvc-view").View,a("./../views/mediaView/MediaView")),h=a("ac-object"),i=a("./../controller/textTracks/NativeTextTracksController"),j=a("ac-fullscreen"),k=a("ac-feature"),l=a("./../const/readyState"),m=d.prototype=h.create(f.prototype);m._bindTextTrackEvents=function(){this.textTracks.on("addtrack",this._onAddTrack,this),this.textTracks.on("change",this._onTrackChange,this),this.textTracks.on("removetrack",this._onRemoveTrack,this),this.textTracks.on("texttrackshow",this._onTextTrackShow,this),this.textTracks.on("texttrackhide",this._onTextTrackHide,this)},m._onTextTrackHide=function(){this.trigger("texttrackhide")},m._onTextTrackShow=function(){this.trigger("texttrackshow")},m._onAddTrack=function(){this.trigger("addtrack")},m._onTrackChange=function(){this.trigger("change")},m._onRemoveTrack=function(){this.trigger("removetrack")},m._onAddTrack=function(){this.trigger("addtrack")},m._checkToRenderView=function(){this.model.getCurrentSrc()?this._onSourceReady():this._sourceReadyBinding||(this.model.once("change:currentSrc",this._onSourceReady,this),this._sourceReadyBinding=!0)},m._onSourceReady=function(){"none"!==this.model.getPreload()&&(this.view.render(),this.playableObject.setEl(this.view.getMediaElement()),this._bindViewEvents()),this._sourceReadyBinding=!1},m._getOrCreateView=function(){var a=this.options.view;return a||(a=new g({model:this.model})),a.on("mediaelementchange",this._onMediaElementChange,this),a},m._onMediaElementChange=function(){this.playableObject.setEl(this.view.getMediaElement())},m._getOrCreateTextTracksController=function(){var a=this.options.textTracks;return void 0===a&&(a=new i(this.playableObject)),a},m._getOrCreateVideo=function(){var a=this.options.model;return void 0===a?a=new e:a instanceof e||(a=new e(a)),a},m._bindModelEvents=function(){this.model.on("change:muted",this._onMutedChange,this),this.model.on("change:seeking",this._onModelSeekingChange,this),this.model.on("change:paused",this._onPausedChange,this),this.model.on("change:playbackRate",this._onPlaybackRateChange,this),this.model.on("change:duration",this._onDurationChange,this),this.model.on("change:volume",this._onVolumeChange,this),this.model.on("change:readyState",this._onReadyStateChange,this),this.model.on("change:poster",this._onPosterChange,this)},m._bindViewEvents=function(){this.view.on("play",this._respondToPlay,this),this.view.on("pause",this._respondToPause,this),this.view.on("timeupdate",this._respondToTimeUpdate,this),this.view.on("ended",this._respondToEnded,this),this.view.on("ratechange",this._respondToRateChange,this),this.view.on("durationchange",this._respondToDurationChange,this),this.view.on("loadedmetadata",this._respondToLoadedMetaData,this),this.view.on("loadeddata",this._respondToLoadedData,this),this.view.on("canplay",this._respondToCanPlay,this),this.view.on("canplaythrough",this._respondToCanPlayThrough,this)},m._populateTextTracks=function(){this.textTracks.populateTextTracks()},m._respondToLoadedMetaData=function(){this._populateTextTracks(),this._setReadyState(1)},m._onPosterChange=function(){this.trigger("posterchange")},m._respondToLoadedData=function(){this._setReadyState(2)},m._respondToCanPlay=function(){this._setReadyState(3)},m._respondToCanPlayThrough=function(){this._setReadyState(4)},m._respondToDurationChange=function(){this.model.set({duration:this.playableObject.getDuration()})},m._respondToRateChange=function(){this.playableObject.getPlaybackRate&&this.model.set({playbackRate:this.playableObject.getPlaybackRate()})},m._respondToEnded=function(){this.model.set({ended:!0}),this.trigger("ended")},m._respondToPlay=function(){var a=this.getMediaElement();if(j.fullscreenElement()!==a&&"ios"===j.getMode()&&k.isHandheld())try{j.requestFullscreen(this.getMediaElement())}catch(b){}this.model.set({paused:!1,ended:!1})},m._respondToPause=function(){this.model.set({paused:!0})},m._triggerTimeUpdate=function(){this.trigger("timeupdate",{currentTime:this.getCurrentTime()})},m._respondToTimeUpdate=function(){this.model.getCurrentTime()!==this.playableObject.getCurrentTime()&&(this.model.setCurrentTime(this.playableObject.getCurrentTime()),this._triggerTimeUpdate()),this.model.getSeeking()===!0&&this.model.set({seeking:!1})},m._onReadyStateChange=function(a){a.value===l.LOADEDMETADATA?this.trigger("loadedmetadata"):a.value===l.LOADEDDATA?this.trigger("loadeddata"):a.value===l.CANPLAY?this.trigger("canplay"):a.value===l.CANPLAYTHROUGH&&this.trigger("canplaythrough"),this.trigger("readystatechange",{readyState:a.value})},m._setReadyState=function(a){this.model.set({readyState:a})},m._onMutedChange=function(){this.trigger("volumechange"),this.model.getMuted()===!1&&this._setElementVolume(this.model.getVolume())},m._onVolumeChange=function(){this.trigger("volumechange")},m._onDurationChange=function(a){isNaN(a.previous)&&isNaN(a.value)||this.trigger("durationchange")},m._onPlaybackRateChange=function(){this.trigger("ratechange")},m._onPausedChange=function(a){a.value===!0?this.trigger("pause"):this.trigger("play")},m._onModelSeekingChange=function(a){a.value===!0?this.trigger("seeking"):this.trigger("seeked")},m.findTextTrack=function(a){return this.textTracks.findTextTrack(a)},m.getTextTracks=function(){return this.textTracks.getTextTracks()},m.getTextTracksCount=function(){return this.textTracks.getTextTracksCount()},m.addTextTrackFromRemoteVTT=function(){this.textTracks.addTextTrackFromRemoteVTT.apply(this.textTracks,arguments)},m.addTextTrack=function(a,b,c){return this.textTracks.addTextTrack(a,b,c)},m.getEnabledTextTracks=function(){return this.textTracks.getEnabledTextTracks.apply(this.textTracks,arguments)},m.getVisibleTextTracks=function(){return this.textTracks.getVisibleTextTracks()},m.play=function(){this.getPaused()!==!1&&this.playableObject.play()},m.pause=function(){this.getPaused()!==!0&&this.playableObject.pause()},m.getVideo=function(){return this.model},m.getPaused=function(){return this.model.getPaused()},m.setMuted=function(a){this.model.setMuted(a),this.playableObject.setMuted(a)},m.getMuted=function(){return this.model.getMuted()},m.getEnded=function(){return this.model.getEnded()},m._setElementVolume=function(a){this.playableObject.setVolume(a)},m.setVolume=function(a){this.model.setVolume(a,{silent:!0}),this.getMuted()===!1&&this._setElementVolume(a)},m.getVolume=function(){return this.model.getVolume()},m.setCurrentTime=function(a){var b=this.getCurrentTime();this.model.set({seeking:!0}),this.playableObject.setCurrentTime(a),b===a&&this.model.set({seeking:!1})},m.getWidth=function(){return this.playableObject.getWidth()},m.getHeight=function(){return this.playableObject.getHeight()},m.getCurrentTime=function(){return this.model.getCurrentTime()},m.setPlaybackRate=function(a){var b=this.model.getPlaybackRate();b!==a&&this.playableObject.setPlaybackRate(a)},m.getPlaybackRate=function(){return this.model.getPlaybackRate()},m.getDuration=function(){return this.model.getDuration()},m.setAutoplay=function(a){this.playableObject.SetAutoPlay(a)},m.getAutoplay=function(){return this.playableObject.GetAutoPlay()},m.getCaptionsTracks=function(){return this.playableObject.getCaptionsTracks()},m.setLoop=function(a){this.model.setLoop(a),this.playableObject.setLoop(a)},m.getLoop=function(){return this.model.getLoop()},m.getError=function(){},m.getVideoWidth=function(){},m.getVideoHeight=function(){},m.getPoster=function(){return this.model.getPoster()},m.setPoster=function(a){this.model.setPoster(a)},m.hasPoster=function(){return!!this.model.getPoster()},m._resetModelPlaybackAttributes=function(){this.model.set({duration:this.playableObject.getDuration(),currentTime:this.playableObject.getCurrentTime(),playbackRate:this.playableObject.getPlaybackRate(),readyState:0,paused:!0,ended:!1,seeking:!1}),this._triggerTimeUpdate()},m.setSrc=function(a){var b=this.model.findSources(a)[0],c=this.model.getCurrentSrc();return c&&(c=c.get("src")),void 0===b&&(b=this.model.addSource(a)),c!==b.get("src")&&(this.model.setCurrentSrc(b),this.playableObject.setSrc(b.get("src")),this._resetModelPlaybackAttributes()),b},m.getPreload=function(){return this.model.getPreload()},m.setPreload=function(a){this.model.setPreload(a),this.playableObject.setPreload(a),this._checkToRenderView()},m.getCurrentSrc=function(){return this.model.getCurrentSrc()},m.getSources=function(){return this.model.getSources()},m.getNetworkState=function(){return this.model.get("networkState")},m.getReadyState=function(){return this.model.get("readyState")},m.getControls=function(){return this.model.get("controls")},m.setControls=function(a){this.model.set({controls:a}),this.playableObject.setControls(a)},m.getDefaultPlaybackRate=function(){return this.model.getDefaultPlaybackRate()},m.getSeekable=function(){return this.getBuffered()},m.getDefaultMuted=function(){return this.model.get("defaultMuted")},m.getSeeking=function(){return this.model.get("seeking")},m.getPlayed=function(){return this.playableObject.getPlayed()},m.getBuffered=function(){return this.playableObject.getBuffered()},m.getMediaElement=function(){return this.view.getMediaElement()},m.appendTo=function(){return this.view.appendTo.apply(this.view,arguments)},m.getViewElement=function(){return this.view.el;
},b.exports=d},{"./../const/readyState":625,"./../controller/textTracks/NativeTextTracksController":626,"./../models/Video":638,"./../views/mediaView/MediaView":648,"ac-event-emitter":263,"ac-feature":554,"ac-fullscreen":294,"ac-mvc-view":355,"ac-object":358}],632:[function(a,b,c){function d(a,b){b=b||{};var c,d=b.type||e.get();return c="quicktime"===d?f(a,b):g(a,b)}var e=a("./../../recommendation/vat"),f=a("./createQuickTime"),g=a("./createHTML5Video");b.exports=d},{"./../../recommendation/vat":645,"./createHTML5Video":634,"./createQuickTime":635}],633:[function(a,b,c){function d(a,b){b=b||{},b.element=a;var c,d=b.type=g.get(),h=f(a,b),i=h.getSources(),j=i.find({src:a.currentSrc})[0];return"quicktime"===d&&(j=i.find({type:"video/quicktime"})[0],j||1!==i.models.length||(j=i.at(0))),j&&h.setSrc(j),c=e(h,b),c.getViewElement()!==a&&a.parentNode.replaceChild(c.getViewElement(),a),c}var e=a("./create"),f=a("./../../models/video/factory/createFromVideoTag"),g=a("./../../recommendation/vat");b.exports=d},{"./../../models/video/factory/createFromVideoTag":640,"./../../recommendation/vat":645,"./create":632}],634:[function(a,b,c){var d=a("./../../views/mediaView/HTML5Video"),e=a("./../MediaController"),f=a("./../../adapter/element-adapter"),g=a("./../../controller/textTracks/NativeTextTracksController"),h=a("./../../controller/textTracks/WebkitClosedCaptions"),i=a("./../../models/Video"),j=function(a,b){b=b||{},a instanceof i||(a=new i(a));var c,j=b.view||new d({model:a,element:b.element,template:"elementVideo"}),k=j.getMediaElement(),l=f.create(k,"video");c=!("textTracks"in k)&&"webkitClosedCaptionsVisible"in k?new h(l):new g(l),b.textTracks&&b.textTracks.forEach(function(a){var b=a;"string"==typeof a&&(b={src:a}),c.addTextTrackFromRemoteVTT(b)});var m=new e(l,{model:a,view:j,textTracks:c});return m};b.exports=j},{"./../../adapter/element-adapter":620,"./../../controller/textTracks/NativeTextTracksController":626,"./../../controller/textTracks/WebkitClosedCaptions":629,"./../../models/Video":638,"./../../views/mediaView/HTML5Video":647,"./../MediaController":631}],635:[function(a,b,c){var d=a("./../../views/mediaView/QuickTime"),e=a("./../../adapter/element-adapter"),f=a("./../MediaController"),g=a("./../../controller/textTracks/QuickTimeTextTrackController"),h=a("./../../models/Video"),i=function(a,b){var c,i,j,k,l;return b=b||{},a instanceof h||(a=new h(a)),k=new d({model:a}),j=k.getMediaElement(),c=e.create(j,"quicktime"),l=new g(c),i=new f(c,{model:a,view:k,textTracks:l})};b.exports=i},{"./../../adapter/element-adapter":620,"./../../controller/textTracks/QuickTimeTextTrackController":627,"./../../models/Video":638,"./../../views/mediaView/QuickTime":649,"./../MediaController":631}],636:[function(a,b,c){function d(){e.apply(this,arguments)}var e=a("ac-mvc-model").Model,f=a("ac-object"),g=d.prototype=f.create(e.prototype);g.defaultAttributes={},g.getFullyQualifiedURL=function(){var a,b=this.get("src"),c=window.location.origin||window.location.protocol+"//"+window.location.hostname;return/http(s)?/.test(b)?b:"//"===b.slice(0,2)?window.location.protocol+b:"/"!==b[0]?(a=window.location.pathname,a=a.substring(0,a.lastIndexOf("/")+1),c+a+b):c+b},b.exports=d},{"ac-mvc-model":330,"ac-object":358}],637:[function(a,b,c){function d(a){e.apply(this,arguments)}var e=a("ac-mvc-model").Model,f=a("ac-object"),g=d.prototype=f.create(e.prototype);g.defaultAttributes={mode:"disabled"},g.setNativeTextTrack=function(a){this._nativeTextTrack=a},g.getNativeTextTrack=function(){return this._nativeTextTrack},g.getCues=function(){return this._nativeTextTrack.cues},g.removeCue=function(a){this._nativeTextTrack.removeCue(a)},g.addCue=function(a,b,c){var d=new VTTCue(a,b,c);this.addVTTCue(d)},g.addVTTCue=function(a){this._nativeTextTrack.addCue(a)},g.show=function(){this.set({mode:"showing"})},g.hide=function(){this.set({mode:"hidden"})},g.disable=function(){this.set({mode:"disabled"})},b.exports=d},{"ac-mvc-model":330,"ac-object":358}],638:[function(a,b,c){"use strict";function d(){e.apply(this,arguments),this._sources=new g,this.has("src")&&this._addInitSources()}var e=a("ac-mvc-model").Model,f=a("ac-object"),g=a("./../collection/MediaSourceCollection"),h=(a("./../collection/TextTrackCollection"),a("./MediaSource")),i=a("ac-video-posterframe"),j=i.defaultPosterPath(),k=d.prototype=f.create(e.prototype);k.defaultAttributes={duration:"NaN",readyState:0,currentTime:0,paused:!0,playbackRate:1,ended:!1,seeking:!1,controls:!1,muted:!1,volume:1,looping:!1,poster:j,defaultPlaybackRate:1,defaultMuted:!1,currentSrc:null,preload:"auto"},k._addInitSources=function(){var a=this.get("src");Array.isArray(a)||(a=[a]),a.forEach(this.addSource,this)},k.findSourcesByFullyQualifiedURL=function(a){return this._sources.filter(function(b){return b.getFullyQualifiedURL()===a})},k.getPoster=function(){return this.get("poster")},k.setAutoplay=function(a){this.set({autoplay:a})},k.setPoster=function(a){this.set({poster:a})},k.setPreload=function(a){this.set({preload:a})},k.addSource=function(a){var b=this.createSource(a);return this._sources.add(b),this.trigger("source:add",{source:b}),1===this._sources.models.length&&this.setCurrentSrc(b),b},k._coerceMediaSourceData=function(a){return"string"==typeof a?{src:a}:a},k.createSource=function(a){return a instanceof h?a:new h(this._coerceMediaSourceData(a))},k.findSources=function(a,b){return"string"==typeof a&&(a={src:a}),this._sources.find(a,b)},k.getSources=function(){return this._sources},k.getAutoplay=function(){return this.get("autoplay")},k.setCurrentTime=function(a){this.set({currentTime:a})},k.getPreload=function(){return this.get("preload")},k.setSrc=function(a){this.set({currentSrc:a.cid})},k.setCurrentSrc=function(a){this.set({currentSrc:a.cid})},k.getCurrentSrc=function(){return this._sources.get(this.get("currentSrc"))},k.setReadyState=function(a){this.set({readyState:a})},k.getDefaultMuted=function(){return this.get("defaultMuted")},k.getDefaultPlaybackRate=function(){return this.get("defaultPlaybackRate")},k.setLoop=function(a){this.set({loop:a})},k.getLoop=function(){return this.get("loop")},k.getSeeking=function(){return this.get("seeking")},k.getReadyState=function(){return this.get("readyState")},k.getDuration=function(){return this.get("duration")},k.getCurrentTime=function(){return this.get("currentTime")},k.setVolume=function(a){this.set({volume:a})},k.getVolume=function(){return this.get("volume")},k.getPaused=function(){return this.get("paused")},k.getPlaybackRate=function(){return this.get("playbackRate")},k.setEnded=function(a){this.set({ended:a})},k.getEnded=function(){return this.get("ended")},k.getMuted=function(){return this.get("muted")},k.setPlaybackRate=function(a){this.set({playbackRate:a})},k.setMuted=function(a,b){this.set({muted:a},b)},b.exports=d},{"./../collection/MediaSourceCollection":621,"./../collection/TextTrackCollection":622,"./MediaSource":636,"ac-mvc-model":330,"ac-object":358,"ac-video-posterframe":612}],639:[function(a,b,c){function d(a){var b=a.getAttribute("src"),c={src:b};return a.getAttribute("type")&&(c.type=a.getAttribute("type")),new e(c)}var e=a("./../../MediaSource");b.exports=d},{"./../../MediaSource":636}],640:[function(a,b,c){function d(a,b){b.getAttribute("preload")&&(a.preload=b.getAttribute("preload"))}function e(a,b){var c;a.src=[],b.getAttribute("src")&&a.src.push(i(b)),c=g.querySelectorAll("source",b),c.length&&(c=c.map(function(a){return i(a)}),a.src=a.src.concat(c))}var f=a("./../../Video"),g=a("ac-dom-traversal"),h=a("ac-object"),i=a("./../../mediaSource/factory/createFromSourceTag");b.exports=function(a,b){b=b||{};var c,g,i={paused:a.paused,currentTime:a.currentTime,duration:a.duration,muted:a.muted,volume:a.volume,playbackRate:a.playbackRate,ended:a.ended,readyState:a.readyState,seeking:a.seeking,poster:a.poster,defaultPlaybackRate:a.defaultPlaybackRate,defaultMuted:a.defaultMuted,currentSrc:a.currentSrc,autoplay:a.autoplay};return d(i,a),e(i,a),i=h.extend(i,b),c=new f(i),a.currentSrc&&(g=c.findSourcesByFullyQualifiedURL(a.currentSrc),g&&g[0]&&c.setCurrentSrc(g[0])),c}},{"./../../Video":638,"./../../mediaSource/factory/createFromSourceTag":639,"ac-dom-traversal":535,"ac-object":358}],641:[function(a,b,c){"use strict";function d(){e.apply(this,arguments),this.options.mediaController&&this.setMediaController(this.options.mediaController),this.poster=null,this._initPoster(),this._initControls(),this._listenForFullscreenEvents(),j.isDesktop()&&this._appendBlockade()}var e=a("ac-mvc-view").View,f=a("ac-video-controls"),g=a("./../controls/Native"),h=a("ac-object"),i=a("ac-fullscreen"),j=a("ac-feature"),k=a("./../const/readyState"),l=a("ac-video-posterframe"),m=a("ac-dom-events/addEventListener"),n=a("ac-classlist/add"),o=a("ac-classlist/remove"),p=a("ac-classlist/contains"),q="user-hover";d.LOADEDMETADATA=k.LOADEDMETADATA,d.LOADEDDATA=k.LOADEDDATA,d.CANPLAY=k.CANPLAY,d.CANPLAYTHROUGH=k.CANPLAYTHROUGH;var r=d.prototype=h.create(e.prototype);r.defaultOptions={controlsTimeoutDuration:5e3},r.className="ac-video-player",r._appendBlockade=function(){var a=new e({className:"ac-video-blockade"});a.appendTo(this.el),this._blockade=a},r._onEnterFullscreen=function(a){a.target===this.getFullscreenTargetElement()&&this.trigger("enterfullscreen",a)},r._onExitFullscreen=function(a){a.target===this.getFullscreenTargetElement()&&this.trigger("exitfullscreen",a)},r._listenForFullscreenEvents=function(){i.on("enterfullscreen",this._onEnterFullscreen,this),i.on("exitfullscreen",this._onExitFullscreen,this)},r._unbindFullscreenEvents=function(){i.off("enterfullscreen",this._onEnterFullscreen,this),i.off("exitfullscreen",this._onExitFullscreen,this)},r.destroy=function(){e.prototype.destroy.call(this),this._unbindFullscreenEvents()},r._initPoster=function(){var a=null;this.mediaController.hasPoster()&&null===this.poster&&(a=l.create(this.mediaController),a.render(),a.el.parentNode!==this.el&&a.appendTo(this.el),this.poster=a)},r._destroyPoster=function(){this.poster&&this.poster.el.parentNode===this.el&&this.el.removeChild(this.poster.el),this.poster=null},r.getFullscreenTargetElement=function(){return"ios"===i.getMode()?this.getMediaElement():this.el},r.toggleFullscreen=function(){this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()},r.isFullscreen=function(){return i.fullscreenElement()===this.getFullscreenTargetElement()},r.requestFullscreen=function(){var a=this.getFullscreenTargetElement();i.fullscreenEnabled(a)&&i.requestFullscreen(a)},r.exitFullscreen=function(){i.exitFullscreen(this.getFullscreenTargetElement())},r._instantiateDefaultCustomUIControls=function(){var a=this._instantiateControls(f);a.el.parentNode!==this.el&&"function"==typeof a.appendTo&&a.appendTo(this.el);var b,c={},d=function(a){(void 0===a.pageX||c.x!==a.pageX||c.y!==a.pageY)&&(p(this.el,q)||n(this.el,q),window.clearTimeout(b),b=window.setTimeout(function(){o(this.el,q)}.bind(this),this.options.controlsTimeoutDuration),c={x:a.pageX,y:a.pageY})}.bind(this);m(this.el,"mouseenter",d),m(this.el,"mousemove",d);var e=function(){window.clearTimeout(b),o(this.el,q),c={}};return"onmouseleave"in this.el?m(this.el,"mouseleave",e.bind(this)):m(this.el,"mouseout",function(b){a.el.contains(b.target)||b.target===a.el||e.call(this)}.bind(this),!0),a},r._instantiateControls=function(a){return"function"!=typeof a.create?a:a.create({player:this.mediaController,fullScreenElement:this.getFullscreenTargetElement()})},r._instantiateNonHandheldControls=function(){var a,b=this.options.controls;return a=b===!1||null===b?null:void 0!==b?this._instantiateControls(b):j.isDesktop()?this._instantiateDefaultCustomUIControls():this._instantiateControls(g)},r._instantiateHandheldControls=function(){return this._instantiateControls(g)},r._initControls=function(){var a;a=j.isHandheld()?this._instantiateHandheldControls():this._instantiateNonHandheldControls(),this.controls=a},r.setMediaController=function(a){this.mediaController&&this.mediaController.stopPropagatingTo(this),this.mediaController=a,this.mediaController.propagateTo(this._eventEmitter)},r.getVideo=function(){return this.mediaController.getVideo()},r.play=function(){return this.mediaController.play()},r.pause=function(){return this.mediaController.pause()},r.getPaused=function(){return this.mediaController.getPaused()},r.setMuted=function(a){return this.mediaController.setMuted(a)},r.getMuted=function(){return this.mediaController.getMuted()},r.getEnded=function(){return this.mediaController.getEnded()},r.setVolume=function(a){return this.mediaController.setVolume(a)},r.getVolume=function(){return this.mediaController.getVolume()},r.setCurrentTime=function(a){return this.mediaController.setCurrentTime(a)},r.getCurrentTime=function(){return this.mediaController.getCurrentTime()},r.getPreload=function(){return this.mediaController.getPreload()},r.setPreload=function(a){return this.mediaController.setPreload(a)},r.setPlaybackRate=function(a){return this.mediaController.setPlaybackRate(a)},r.getPlaybackRate=function(){return this.mediaController.getPlaybackRate()},r.getDuration=function(){return this.mediaController.getDuration()},r.setLoop=function(a){return this.mediaController.setLoop(a)},r.getLoop=function(){return this.mediaController.getLoop()},r.getError=function(){return this.mediaController.getError()},r.getPoster=function(){return this.mediaController.getPoster()},r.getMediaWidth=function(){return this.mediaController.getWidth()},r.getMediaHeight=function(){return this.mediaController.getHeight()},r.setPoster=function(){this.mediaController.setPoster.apply(this.mediaController,arguments),this.mediaController.hasPoster()?this._initPoster():this._destroyPoster()},r.setSrc=function(){return this.mediaController.setSrc.apply(this.mediaController,arguments)},r.getCurrentSrc=function(){return this.mediaController.getCurrentSrc()},r.getSources=function(){return this.mediaController.getSources()},r.getNetworkState=function(){return this.mediaController.getNetworkState()},r.getReadyState=function(){return this.mediaController.getReadyState()},r.getDefaultPlaybackRate=function(){return this.mediaController.getDefaultPlaybackRate()},r.getSeekable=function(){return this.mediaController.getSeekable()},r.getDefaultMuted=function(){return this.mediaController.getDefaultMuted()},r.getSeeking=function(){return this.mediaController.getSeeking()},r.getStartDate=function(){return this.mediaController.getStartDate()},r.getPlayed=function(){return this.mediaController.getPlayed()},r.getBuffered=function(){return this.mediaController.getBuffered()},r.getTextTracks=function(){return this.mediaController.getTextTracks()},r.getTextTracksCount=function(){return this.mediaController.getTextTracksCount()},r.addTextTrackFromRemoteVTT=function(){return this.mediaController.addTextTrackFromRemoteVTT.apply(this.mediaController,arguments)},r.addTextTrack=function(){return this.mediaController.addTextTrack.apply(this.mediaController,arguments)},r.getEnabledTextTracks=function(){return this.mediaController.getEnabledTextTracks.apply(this.mediaController,arguments)},r.getVisibleTextTracks=function(){return this.mediaController.getVisibleTextTracks.apply(this.mediaController,arguments)},r.getMediaElement=function(){return this.mediaController.getMediaElement()},b.exports=d},{"./../const/readyState":625,"./../controls/Native":630,"ac-classlist/add":502,"ac-classlist/contains":507,"ac-classlist/remove":510,"ac-dom-events/addEventListener":528,"ac-feature":554,"ac-fullscreen":294,"ac-mvc-view":355,"ac-object":358,"ac-video-controls":478,"ac-video-posterframe":612}],642:[function(a,b,c){var d=a("./../Player"),e=a("./../../mediaController/factory/create"),f=a("ac-dom-nodes"),g=a("./../../collection/playerCollection");b.exports=function(a,b){b=b||{};var c;return b.mediaController||(b.mediaController=e(a,b)),c=new d(b),b.mediaController.getViewElement().parentNode!==c.el&&f.insertFirstChild(b.mediaController.getViewElement(),c.el),b.preventCollection||g.add(c),c}},{"./../../collection/playerCollection":623,"./../../mediaController/factory/create":632,"./../Player":641,"ac-dom-nodes":62}],643:[function(a,b,c){var d=a("./../../config/VideoConfig"),e=a("./../../models/Video"),f=a("./create"),g=function(a){var b,c,g=new d;g.getConfig(a,{},{}).then(function(d){d.id=a.id,b=d,c=d.source});var h=new e({src:c});return f(h)};b.exports=g},{"./../../config/VideoConfig":624,"./../../models/Video":638,"./create":642}],644:[function(a,b,c){function d(a){var b=g.querySelectorAll("source",a),c=0;for(c;c<b.length;c+=1)b[c].parentNode.removeChild(b[c])}var e=a("./create"),f=a("./../../mediaController/factory/createFromVideoTag"),g=a("ac-dom-traversal"),h=function(a,b){b=b||{};var c=g.querySelector("video",a);return null===c&&(c=document.createElement("video"),a.appendChild(c)),"undefined"!=typeof b.src&&null!==b.src&&d(c),b.mediaController=f(c,b),b.element=a,e(null,b)};b.exports=h},{"./../../mediaController/factory/createFromVideoTag":633,"./create":642,"ac-dom-traversal":535}],645:[function(a,b,c){"use strict";var d=a("ac-browser");b.exports={get:function(){var a="html5";return"Firefox"===d.name?a="quicktime":"IE"===d.name&&(a="quicktime"),a}}},{"ac-browser":17}],646:[function(a,b,c){function d(){e.apply(this,arguments)}var e=a("ac-mvc-view").View,f=d.prototype=new e;f.tagName="source",f.render=function(){this.el.setAttribute("src",this.model.get("src")),this.model.has("type")&&this.el.setAttribute("type",this.model.get("type"))},b.exports=d},{"ac-mvc-view":355}],647:[function(a,b,c){function d(){e.apply(this,arguments)}var e=a("./MediaView"),f=a("./../MediaSourceTag"),g=a("ac-object"),h=a("ac-dom-traversal"),i=d.prototype=g.create(e.prototype);i.tagName="video",i._renderBooleanAttribute=function(a,b){var c=this.getMediaElement();b===!0?c.setAttribute(a,""):c.removeAttribute(a)},i._findExistingSourceOrTrackElement=function(a){var b,c;return a.has("src")&&(c='[src="'+a.get("src")+'"]',b=h.querySelector(c,this.el)),b},i._appendSource=function(a){var b=this.getMediaElement(),c=this._findExistingSourceOrTrackElement(a),d=new f({model:a,element:c});d.render(),c||d.appendTo(b)},i._onSourceAdd=function(a){this._appendSource(a.source)},i._renderPreload=function(){var a=this.getMediaElement();a.setAttribute("preload",this.model.getPreload())},i._renderAutoplay=function(){this._renderBooleanAttribute("autoplay",this.model.getAutoplay())},i._renderMuted=function(){this._renderBooleanAttribute("muted",this.model.getMuted())},i._renderAirplay=function(){this._renderBooleanAttribute("x-webkit-airplay",!0)},i._renderCrossOrigin=function(){var a=this.getMediaElement();this.model.has("crossorigin")&&a.setAttribute("crossorigin",this.model.get("crossorigin"))},i._renderCurrentSrc=function(){var a=this.model.getCurrentSrc();a&&this.el.setAttribute("src",a.get("src"))},i._renderLoop=function(){var a=this.model.getLoop();this._renderBooleanAttribute("loop",a)},i._respondToAddTrackEvent=function(a){this.emitterTrigger("addtrack",a.data)},i.getSourceAttribute=function(){return this.getMediaElement().getAttribute("src")},i.render=function(){var a=this.getMediaElement();this.model.on("source:add",this._onSourceAdd,this),this.model.on("change:autoplay",this._renderAutoplay,this),this.model.on("change:muted",this._renderMuted,this),this.model.on("change:preload",this._renderPreload,this),this.model.on("change:currentSrc",this._renderCurrentSrc,this),this.model.on("change:crossorigin",this._renderCrossOrigin,this),this.model.getSources().forEach(this._appendSource,this),this._renderAutoplay(),this._renderPreload(),this._renderMuted(),this._renderAirplay(),this._renderCrossOrigin(),this._renderCurrentSrc(),this._renderLoop(),this.model.id&&a.setAttribute("id",this.model.id)},b.exports=d},{"./../MediaSourceTag":646,"./MediaView":648,"ac-dom-traversal":535,"ac-object":358}],648:[function(a,b,c){"use strict";function d(){this._mediaElement=null,g.apply(this,arguments)}var e=a("ac-dom-traversal"),f=a("ac-browser"),g=a("ac-mvc-view").View,h=a("ac-object"),i=d.prototype=h.create(g.prototype);i.className="ac-video-media-controller",i._findMediaElementByTagName=function(a){return this.getTagName()===a?this.el:e.querySelector(a,this.el)},i.renderTextTrack=function(){},i._findMediaElement=function(){return this._findMediaElementByTagName("video")?this._findMediaElementByTagName("video"):"IE"!==f.name?this._findMediaElementByTagName("embed"):this._findMediaElementByTagName("object")},i.getMediaElement=function(){return this._findMediaElement()},b.exports=d},{"ac-browser":17,"ac-dom-traversal":535,"ac-mvc-view":355,"ac-object":358}],649:[function(a,b,c){"use strict";function d(){e.apply(this,arguments),this._hasRendered=!1,this.model.on("change:currentSrc",this._renderString,this)}var e=a("./MediaView"),f=a("./eventAdapters/QuickTime"),g=a("./eventAdapters/quicktimeEventsElement"),h=a("ac-object"),i=a("ac-browser"),j="windows"===i.os.toLowerCase(),k=a("ac-dom-traversal"),l=d.prototype=h.create(e.prototype);l._renderID=function(){this._objectStr+=' id="quicktime-movie-'+Date.now()+'"'},l._renderClsidAttr=function(){this._objectStr+=' classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B"'},l._renderCodebaseAttr=function(){this._objectStr+=' codebase="http://www.apple.com/qtactivex/qtplugin.cab#version=7,2,1,0"'},l._renderWModeAttr=function(){this._renderParamAttr("wmode","transparent"),this._renderEmbedAttr("wmode","transparent")},l._renderPostDomEventsAttr=function(){this._objectStr+=' postdomevents="true"'},l._renderBehaviorAttr=function(){var a=g.getID();a&&this._objectStyles.push("behavior:url('#"+a+"')")},l._renderAutoplay=function(){var a=this.model.getAutoplay()===!0?"True":"False";this._renderAttr("autoplay",a)},l._renderVolume=function(){var a=this.model.getMuted(),b=256*this.model.getVolume();a&&(b=0),this._renderAttr("volume",b)},l._renderLoop=function(){var a=this.model.getLoop()===!0?"True":"False";this._renderAttr("loop",a)},l._renderAttr=function(a,b){this._renderParamAttr(a,b),this._renderEmbedAttr(a,b)},l._closeOpeningObjectTag=function(){this._objectStr+=">"},l._renderParamAttr=function(a,b){this._objectStr+='<param name="'+a+'" value="'+b+'" />'},l._renderEmbedAttr=function(a,b){this._embedStr+=" "+a+'="'+b+'"'},l._closeEmbedTag=function(){this._embedStr+=" />"},l._closeObjectTag=function(){this._objectStr+="</object>"},l._renderSrc=function(){var a=this.model.getCurrentSrc();a&&this._renderAttr("src",a.get("src"))},l._renderStyleAttr=function(){this._objectStr+=' style="'+this._objectStyles.join(";")+';"',this._embedStr+=' style="'+this._embedStyles.join(";")+';"'},l.getSourceAttribute=function(){return this.getMediaElement().getAttribute("src")},l._renderOffscreen=function(){var a=window.screen.width+10,b=window.screen.height+10,c=Math.max(a,b),d="width:"+c+"px",e="height:"+c+"px",f="position:fixed",g="left:"+a+"px";this._embedStyles.push(d),this._embedStyles.push(e),this._embedStyles.push(f),this._embedStyles.push(g),this._objectStyles.push(d),this._objectStyles.push(e),this._objectStyles.push(f),this._objectStyles.push(g),this._renderStyleAttr()},l._doneRenderOffscreen=function(){var a=k.querySelector("embed",this.el),b=k.querySelector("object",this.el),c=b.style.cssText.toLowerCase().match(/behavior\((.)+\)/);c?b.setAttribute("style",c):b.removeAttribute("style"),a&&a.removeAttribute("style")},l._renderString=function(){var a="ie"===i.name.toLowerCase()&&i.version<9;this._objectStr="<object",this._embedStr="<embed",this._objectStyles=[],this._embedStyles=[],this._renderClsidAttr(),this._renderCodebaseAttr(),this._renderID(),this._renderPostDomEventsAttr(),this._renderBehaviorAttr(),j&&(a?this._renderStyleAttr():this._renderOffscreen()),this._closeOpeningObjectTag(),this._renderWModeAttr(),this._renderAutoplay(),this._renderSrc(),this._renderVolume(),this._renderLoop(),this._renderAttr("enablejavascript","true"),this._renderAttr("postdomevents","true"),this._renderAttr("scale","tofit"),this._renderAttr("controller","false"),this._renderEmbedAttr("pluginspage","www.apple.com/quicktime/download"),this._renderParamAttr("kioskmode","true"),this._renderParamAttr("pluginspace","http://www.apple.com/qtactivex/qtplugin.cab"),this._closeEmbedTag(),this._objectStr+=this._embedStr,this._closeObjectTag(),this.el.innerHTML=this._objectStr,this._quickTimeEvents=new f(this.getMediaElement(),this),this.emitterTrigger("mediaelementchange",{}),j&&!a&&window.requestAnimationFrame(function(){this._doneRenderOffscreen()}.bind(this))},l.render=function(){this._hasRendered!==!0&&(this._hasRendered=!0,this._renderString())},b.exports=d},{"./MediaView":648,"./eventAdapters/QuickTime":650,"./eventAdapters/quicktimeEventsElement":653,"ac-browser":17,"ac-dom-traversal":535,"ac-object":358}],650:[function(a,b,c){"use strict";function d(a,b){e.call(this,a),this._isObjectTag()===!1?this._aliasEvents():(this._plugin=new g(a),this._plugin.once("ready",function(){this._plugin=void 0,this._aliasEvents()},this),this._plugin.poll()),this._propagationTarget=b}var e=a("ac-dom-emitter").DOMEmitter,f=a("./QuickTimeTimeUpdate"),g=a("./QuickTimePluginReady"),h=a("ac-object"),i=d.prototype=h.create(e.prototype);i._bubble=function(a){this._propagationTarget.emitterTrigger(a,{target:this.el})},i._onTimeupdateObserverTimeUpdate=function(){this._bubble("timeupdate")},i._onQTPlay=function(){this._timeupdateObserver.listenForTimeUpdate(),this._bubble("play")},i._onQTPause=function(){this._timeupdateObserver.stopListenForTimeUpdate(),this._bubble("pause")},i._onQTEnded=function(){this._timeupdateObserver.stopListenForTimeUpdate(),this._bubble("ended")},i._onQTBegin=function(){this._bubble("loadstart")},i._onQTVolumeChange=function(){this._bubble("volumechange")},i._onQTProgressChange=function(){this._bubble("progress")},i._onQTError=function(){this._bubble("error")},i._onQTStalled=function(){this._bubble("stalled")},i._onQTCanPlay=function(){this._bubble("canplay")},i._onQTCanPlayThrough=function(){this._bubble("canplaythrough")},i._onQTDurationChange=function(){this._bubble("durationchange")},i._onQTLoadedMetaData=function(){this._bubble("loadedmetadata")},i._onQTloadedFirstFrame=function(){this._bubble("loadeddata")},i._onQTWaiting=function(){this._bubble("waiting")},i._onQTTimeChanged=function(){this._bubbleTimeUpdate()},i._bubbleTimeUpdate=function(){this._bubble("timeupdate")},i._isObjectTag=function(){return"object"===this.el.tagName.toLowerCase()},i._getEventName=function(a){return this._isObjectTag()?"on"+a:a},i._bindEvents=function(a,b,c){var d=this._getEventName(a);"function"==typeof this.el.attachEvent?this.el.attachEvent(d,function(a){b.call(c,a)}):this.on(a,b,c)},i._aliasEvents=function(){this._bindEvents("qt_play",this._onQTPlay,this),this._bindEvents("qt_pause",this._onQTPause,this),this._bindEvents("qt_begin",this._onQTBegin,this),this._bindEvents("qt_volumechange",this._onQTVolumeChange,this),this._bindEvents("qt_progress",this._onQTProgressChange,this),this._bindEvents("qt_error",this._onQTError,this),this._bindEvents("qt_stalled",this._onQTStalled,this),this._bindEvents("qt_canplay",this._onQTCanPlay,this),this._bindEvents("qt_canplaythrough",this._onQTCanPlayThrough,this),this._bindEvents("qt_durationchange",this._onQTDurationChange,this),this._bindEvents("qt_ended",this._onQTEnded,this),this._bindEvents("qt_loadedmetadata",this._onQTLoadedMetaData,this),this._bindEvents("qt_loadedfirstframe",this._onQTloadedFirstFrame,this),this._bindEvents("qt_waiting",this._onQTWaiting,this),this._bindEvents("qt_timechanged",this._onQTTimeChanged,this),this._timeupdateObserver=new f(this.el),this._timeupdateObserver.on("timeupdate",this._onTimeupdateObserverTimeUpdate,this)},b.exports=d},{"./QuickTimePluginReady":651,"./QuickTimeTimeUpdate":652,"ac-dom-emitter":525,"ac-object":358}],651:[function(a,b,c){"use strict";function d(a){e.call(this),this._movie=a,this._pollInterval=5,this._boundPoll=this.poll.bind(this)}var e=a("ac-event-emitter").EventEmitter,f=a("ac-object"),g=d.prototype=f.create(e.prototype);g._resetMovieUrl=function(){var a,b=this._movie;b.SetResetPropertiesOnReload(!1),a=b.GetURL(),b.autoplay=!0,a+=-1!==a.indexOf("?")?"&rnd="+Math.random():"?rnd="+Math.random(),b.SetURL(a)},g.getPluginStatus=function(){var a="";try{a=this._movie.GetPluginStatus()}catch(b){}return a},g.isAPIAvailable=function(){var a;try{this._movie.GetVolume(),a=!0}catch(b){a=!1}return a},g.isReady=function(){return/(Complete)/i.test(this.getPluginStatus())},g._triggerReady=function(){this.trigger("ready")},g.poll=function(){this.isReady()?(this._resetMovieUrl(),this._triggerReady()):setTimeout(this._boundPoll,this._pollInterval)},b.exports=d},{"ac-event-emitter":263,"ac-object":358}],652:[function(a,b,c){"use strict";function d(a){this.mediaElement=a,this._isListeningForTimeUpdate=!1,this._boundTick=null,this._lastTimeCheck=0,this._timeout=null}var e=a("ac-event-emitter").EventEmitter,f=a("ac-object"),g=300,h=d.prototype=f.create(e.prototype);h.listenForTimeUpdate=function(){this._isListeningForTimeUpdate=!0,this._boundTick=this._tick.bind(this),window.setTimeout(this._boundTick,g)},h.stopListenForTimeUpdate=function(){window.clearTimeout(this._timeout),this._isListeningForTimeUpdate=!1,this._boundTick=null,this._timeout=null},h.getCurrentTime=function(){return this.mediaElement.GetTime()/this.mediaElement.GetTimeScale()},h._tick=function(){var a=this.getCurrentTime();a!==this._lastTimeCheck&&this.trigger("timeupdate"),this._lastTimeCheck=a,this._isListeningForTimeUpdate&&this._boundTick&&(this._timeout=window.setTimeout(this._boundTick,g))},b.exports=d},{"ac-event-emitter":263,"ac-object":358}],653:[function(a,b,c){"use strict";var d=a("ac-browser"),e=function(a,b){"IE"===a&&(this.id="quicktime-events-element-"+Date.now(),this.el=document.createElement("object"),this._setAttributes({id:this.getID(),wmode:"transparent",classid:"clsid:CB927D12-4FF7-4a9e-A169-56E4B8A75598",codebase:"http://www.apple.com/qtactivex/qtplugin.cab#version=7,2,1,0"}),this.appendToBody())},f=e.prototype;f.appendToBody=function(){document.write(this.el.outerHTML)},f.getID=function(){return this.id},f._setAttributes=function(a){for(var b in a)this.el.setAttribute(b,a[b])};var g=new e(d.name,d.version);b.exports=g,b.exports.C=e},{"ac-browser":17}],654:[function(a,b,c){"use strict";function d(){e.apply(this,arguments)}var e=a("ac-mvc-view").View,f=a("ac-object"),g=d.prototype=f.create(e.prototype);g._onModeChange=function(a){this._renderMode()},g._renderMode=function(){var a=this.model.get("mode");"showing"===a?this.el.showTextTrack(this.options.index):"hidden"===a&&this.el.hideTextTrack(this.options.index)},g.render=function(){this._renderMode(),this.model.on("change:mode",this._onModeChange,this)},b.exports=d},{"ac-mvc-view":355,"ac-object":358}],655:[function(a,b,c){"use strict";function d(){e.apply(this,arguments)}var e=a("ac-mvc-view").View,f=a("ac-object"),g=d.prototype=f.create(e.prototype);g._onModeChange=function(a){this.renderMode()},g.renderMode=function(){var a=this.model.get("mode");this.el.mode=a},g.render=function(){this.model.on("change:mode",this._onModeChange,this)},b.exports=d},{"ac-mvc-view":355,"ac-object":358}],656:[function(a,b,c){function d(){e.apply(this,arguments)}var e=a("ac-mvc-view").View,f=a("ac-object"),g=d.prototype=f.create(e.prototype);g.tagName="track",g.render=function(){["src","type","label","kind","srclang"].forEach(function(a){this.model.has(a)&&this.el.setAttribute(a,this.model.get(a))},this),this.el.setAttribute("id",this.model.cid)},b.exports=d},{"ac-mvc-view":355,"ac-object":358}],657:[function(a,b,c){function d(){e.apply(this,arguments),this._textTracks=this.el.textTracks,this._textTracks&&(this._boundRespondToAddTrackEvent=this._respondToAddTrackEvent.bind(this),this._boundRespondToChangeEvent=this._respondToChangeEvent.bind(this),this._boundRespondToRemoveTrackEvent=this._respondToRemoveTrackEvent.bind(this),this._textTracks.addEventListener("addtrack",this._boundRespondToAddTrackEvent),this._textTracks.addEventListener("change",this._boundRespondToChangeEvent),
this._textTracks.addEventListener("removetrack",this._boundRespondToRemoveTrackEvent))}var e=a("ac-mvc-view").View,f=a("./TextTrackTag"),g=a("ac-object"),h=d.prototype=g.create(e.prototype);h._unbindTextTrackEvents=function(){this._boundRespondToAddTrackEvent=null,this._boundRespondToChangeEvent=null,this._boundRespondToRemoveTrackEvent=null,this._textTracks.removeEventListener("addtrack",this._boundRespondToAddTrackEvent),this._textTracks.removeEventListener("change",this._boundRespondToChangeEvent),this._textTracks.removeEventListener("removetrack",this._boundRespondToRemoveTrackEvent)},h._respondToAddTrackEvent=function(a){this.emitterTrigger("addtrack",{track:a.track})},h._respondToChangeEvent=function(a){this.emitterTrigger("change",a)},h._respondToRemoveTrackEvent=function(a){this.emitterTrigger("removetrack",{track:a.track})},h._createTextTrackTag=function(a){var b=new f({model:a});b.render(),b.appendTo(this.el)},h.addTextTrackTag=function(a){this._createTextTrackTag(a)},b.exports=d},{"./TextTrackTag":656,"ac-mvc-view":355,"ac-object":358}],658:[function(a,b,c){"use strict";function d(){e.apply(this,arguments)}var e=a("ac-mvc-view").View,f=a("ac-object"),g=d.prototype=f.create(e.prototype);g._onModeChange=function(a){this._renderMode()},g._renderMode=function(){var a=this.model.get("mode");"showing"===a?this.el.webkitClosedCaptionsVisible=!0:this.el.webkitClosedCaptionsVisible=!1},g.setModel=function(a){this.model&&this.model.off("change:mode",this._onModeChange,this),this.model=a,this.listen()},g.listen=function(){this.model.on("change:mode",this._onModeChange,this)},g.render=function(){this._renderMode(),this.listen()},b.exports=d},{"ac-mvc-view":355,"ac-object":358}],659:[function(a,b,c){"use strict";b.exports=a("ac-video-player")},{"ac-video-player":617}],660:[function(a,b,c){"use strict";b.exports={BreakpointsDelegate:a("./ac-breakpoints-delegate/BreakpointsDelegate")}},{"./ac-breakpoints-delegate/BreakpointsDelegate":661}],661:[function(a,b,c){"use strict";function d(a){this._customEvent=new h(k,this._onBreakpointListenerAdded.bind(this),this._onBreakpointListenerRemoved.bind(this)),this.setBreakpoints(m)}var e=a("ac-shared-instance").SharedInstance,f=a("ac-object"),g=a("ac-window-delegate").WindowDelegate,h=a("ac-window-delegate").WindowDelegateCustomEvent,i=(a("ac-event-emitter").EventEmitter,"ac-breakpoints-delegate:BreakpointsDelegate"),j="2.0.0-2",k="breakpoint",l="resize orientationchange",m={large:{"min-width":1069,"max-width":1441,content:980,oldie:!0},xlarge:{"min-width":1442,content:980},medium:{"min-width":736,"max-width":1068,content:692},small:{"min-width":320,"max-width":735,content:288,"max-device-width":768}},n={minWidth:"min-width",maxWidth:"max-width",maxDeviceWidth:"max-device-width",content:"content",oldIE:"oldie"},o=d.prototype;o.initialize=function(){this._breakpoint=null,this._lastBreakpoint=null,this._handleOldIE(),this._handleDevices(),this._breakpointOrder=this._setBreakpointOrder(),this._isOldIE||this._handleResize()},o.getCustomEvent=function(){return this._customEvent},o.getBreakpoint=function(){return this._customEvent.active||this._handleResize(),this._breakpoint},o.setBreakpoints=function(a){this.breakpoints=f.clone(a),this.initialize()},o._handleResize=function(){var a,b,c,d,e=g.clientWidth(),f=this._breakpointOrder.length;for(b=0;f>b&&(c=this._breakpointOrder[b],d=this.breakpoints[c],!(d._breakPosition>e));b++);return b>0&&(b-=1),a=this.breakpoints[this._breakpointOrder[b]],this._breakpoint?void(a.name!==this._breakpoint.name&&(this._lastBreakpoint=this._breakpoint,this._breakpoint=a,g.trigger(k,{incoming:this._breakpoint,outgoing:this._lastBreakpoint}))):void(this._breakpoint=a)},o._setBreakpointOrder=function(){var a,b=0,c=[],d=[],e=n.minWidth;for(a in this.breakpoints)this.breakpoints.hasOwnProperty(a)&&(this.breakpoints[a].name=a,c.push(this.breakpoints[a][e]));return c.sort(function(a,b){return a-b}),c.forEach(function(a){var b;for(b in this.breakpoints)this.breakpoints.hasOwnProperty(b)&&this.breakpoints[b][e]===a&&d.push(b)},this),d.forEach(function(a,c){this.breakpoints[a]._breakPosition=b,d[c+1]&&(b=this.breakpoints[d[c+1]][e])},this),d},o._handleOldIE=function(){var a=document.documentElement,b=n.oldIE;if(!(a.className.indexOf("no-"+b)>-1||-1===a.className.indexOf(b))){this._isOldIE=!0,this._replaceBreakpoints(function(a){return a[b]===!0});var c;for(c in this.breakpoints)if(this.breakpoints.hasOwnProperty(c))return void(this._breakpoint=this.breakpoints[c])}},o._handleDevices=function(){var a=n.maxDeviceWidth;this._replaceBreakpoints(function(b){return"number"!=typeof b[a]?!0:window.screen&&window.screen.width<=b[a]?!0:!1})},o._replaceBreakpoints=function(a){var b,c,d={};for(b in this.breakpoints)this.breakpoints.hasOwnProperty(b)&&(c=this.breakpoints[b],a(c)&&(d[b]=f.clone(this.breakpoints[b])));this.breakpoints=d},o._onBreakpointListenerAdded=function(){g.on(l,this._handleResize,this)},o._onBreakpointListenerRemoved=function(){g.off(l,this._handleResize,this)},b.exports=e.share(i,j,d)},{"ac-event-emitter":263,"ac-object":358,"ac-shared-instance":662,"ac-window-delegate":664}],662:[function(a,b,c){b.exports=a(165)},{"./ac-shared-instance/SharedInstance":663}],663:[function(a,b,c){b.exports=a(166)},{}],664:[function(a,b,c){arguments[4][167][0].apply(c,arguments)},{"./ac-window-delegate/WindowDelegate":667,"./ac-window-delegate/WindowDelegateCustomEvent":668,"./ac-window-delegate/WindowDelegateOptimizer":669}],665:[function(a,b,c){b.exports=a(168)},{"ac-event-emitter":263}],666:[function(a,b,c){b.exports=a(169)},{"ac-event-emitter":263}],667:[function(a,b,c){"use strict";function d(){this._emitter=new g(window),this._controllers={optimizer:new h(k),customEvent:new i};var a;for(a in j)j.hasOwnProperty(a)&&(this[a]=this._getProperty.bind(this,a),j[a]=j[a].bind(this));this._bindEvents()}var e,f=a("ac-shared-instance").SharedInstance,g=a("ac-dom-emitter").DOMEmitter,h=a("./OptimizerController"),i=a("./CustomEventController"),j=a("./queries/queries"),k=a("./optimizers/optimizers"),l="ac-window-delegate:WindowDelegate",m="3.0.0-4";e=d.prototype,e.on=function(a,b,c){var d=this._seperateCustomEvents(a);return this._optimizeEvents(d.standardEvents),this._customEventOn(d.customEvents,b,c),this._emitterOn.apply(this,arguments),this},e.once=function(a,b,c){var d=this._seperateCustomEvents(a);return this._optimizeEvents(d.standardEvents),this._customEventOnce(d.customEvents,b,c),this._emitterOnce.apply(this,arguments),this},e.off=function(a,b,c){var d=this._seperateCustomEvents(a),e=!1;if(a||(e=!0),this._customEventOff(d.customEvents,b,c,e),this._emitterOff.apply(this,arguments),e)try{var f;for(f in this._controllers.optimizer._events)this._controllers.optimizer._events.hasOwnProperty(f)&&this._shouldDeoptimizeEvent(f,!0)&&this._deoptimizeEvent(f);this._bindEvents()}catch(g){}return this},e.has=function(a,b,c){return this._emitter.has.apply(this._emitter,arguments)},e.trigger=function(){return this._emitter.trigger.apply(this._emitter,arguments),this},e.emitterTrigger=function(){return this._emitter.emitterTrigger.apply(this._emitter,arguments),this},e.propagateTo=function(){return this._emitter.propagateTo.apply(this._emitter,arguments),this},e.stopPropagatingTo=function(){return this._emitter.stopPropagatingTo.apply(this._emitter,arguments),this},e.addOptimizer=function(a){return this._controllers.optimizer.add(a),this},e.addCustomEvent=function(a){return this._controllers.customEvent.add(a),this},e._emitterOn=function(){this._emitter.on.apply(this._emitter,arguments)},e._emitterOnce=function(){this._emitter.once.apply(this._emitter,arguments)},e._emitterOff=function(){this._emitter.off.apply(this._emitter,arguments)},e._onEventUnbound=function(a){var b=a.data.evt;this._shouldDeoptimizeEvent(b)&&this._deoptimizeEvent(b)},e._customEventOn=function(a,b,c){0!==a.length&&this._controllers.customEvent.on(a.join(" "),b,c)},e._customEventOnce=function(a,b,c){0!==a.length&&this._controllers.customEvent.once(a.join(" "),b,c)},e._customEventOff=function(a,b,c,d){return d||0!==a.length?d&&0===a.length?void this._controllers.customEvent.off():void this._controllers.customEvent.off(a.join(" "),b,c):void 0},e._getProperty=function(a,b){var c=null;return b||(c=this._getOptimizedValue(a)),null===c&&(c=j[a].call(this,b)),c},e._optimizeEvents=function(a){var b,c,d=a.length;for(c=0;d>c;c++)b=a[c],this._shouldOptimizeEvent(b)&&this._optimizeEvent(b)},e._shouldOptimizeEvent=function(a){return this._controllers.optimizer.canOptimizeEvent(a)&&!this._controllers.optimizer.isOptimizingEvent(a)?!0:!1},e._shouldDeoptimizeEvent=function(a,b){return this._controllers.optimizer.isOptimizingEvent(a)&&(b||this._emitter._eventEmitter._events[a].length<=1)?!0:!1},e._optimizeEvent=function(a){var b=this._controllers.optimizer.getOptimizerByEvent(a);b.activate(),this._emitterOn(a,b.callback,b)},e._deoptimizeEvent=function(a){var b=this._controllers.optimizer.getOptimizerByEvent(a);b.deactivate(),this._emitterOff(a,b.callback,b)},e._getOptimizedValue=function(a){return this._controllers.optimizer.get(a)},e._seperateCustomEvents=function(a){var b={customEvents:[],standardEvents:[]};if("string"==typeof a){var c,d,e=a.split(" "),f=e.length;for(d=0;f>d;d++)c=e[d],this._controllers.customEvent.canHandleCustomEvent(c)?b.customEvents.push(c):b.standardEvents.push(c)}return b},e._bindEvents=function(){this._emitter.on("dom-emitter:didoff",this._onEventUnbound,this)},b.exports=f.share(l,m,d)},{"./CustomEventController":665,"./OptimizerController":666,"./optimizers/optimizers":672,"./queries/queries":681,"ac-dom-emitter":48,"ac-shared-instance":662}],668:[function(a,b,c){b.exports=a(171)},{"ac-event-emitter":263}],669:[function(a,b,c){b.exports=a(172)},{"ac-event-emitter":263}],670:[function(a,b,c){b.exports=a(173)},{"../../WindowDelegateOptimizer":669,"../../queries/queries":681}],671:[function(a,b,c){b.exports=a(174)},{"../../WindowDelegateOptimizer":669,"../../queries/queries":681}],672:[function(a,b,c){b.exports=a(175)},{"./events/resize":670,"./events/scroll":671}],673:[function(a,b,c){b.exports=a(176)},{}],674:[function(a,b,c){b.exports=a(177)},{}],675:[function(a,b,c){b.exports=a(178)},{}],676:[function(a,b,c){b.exports=a(179)},{}],677:[function(a,b,c){b.exports=a(180)},{}],678:[function(a,b,c){b.exports=a(181)},{}],679:[function(a,b,c){b.exports=a(182)},{}],680:[function(a,b,c){b.exports=a(183)},{}],681:[function(a,b,c){b.exports=a(184)},{"./methods/clientHeight":673,"./methods/clientWidth":674,"./methods/innerHeight":675,"./methods/innerWidth":676,"./methods/maxScrollX":677,"./methods/maxScrollY":678,"./methods/scrollX":679,"./methods/scrollY":680}],682:[function(a,b,c){"use strict";b.exports={Viewport:a("./ac-viewport/Viewport")}},{"./ac-viewport/Viewport":683}],683:[function(a,b,c){"use strict";function d(a){var b,c=g;for(b in c)c.hasOwnProperty(b)?this[b]=c[b]:e[b]=c[b];this.addCustomEvent(h.getCustomEvent())}var e,f=a("ac-shared-instance").SharedInstance,g=a("ac-window-delegate").WindowDelegate,h=a("ac-breakpoints-delegate").BreakpointsDelegate,i="ac-viewport:Viewport",j="3.0.0-1";e=d.prototype,e.getBreakpoint=function(){return h.getBreakpoint()},e.setBreakpoints=function(a){return h.setBreakpoints(a)},b.exports=f.share(i,j,d)},{"ac-breakpoints-delegate":660,"ac-shared-instance":662,"ac-window-delegate":664}],"dustjs-helpers":[function(a,b,c){b.exports=a("l4G/EW")},{}],"l4G/EW":[function(require,module,exports){/*! dustjs-helpers - v1.3.0
* https://github.com/linkedin/dustjs-helpers
* Copyright (c) 2014 Aleksander Williams; Released under the MIT License */
!function(dust){function isSelect(a){var b=a.current();return"object"==typeof b&&b.isSelect===!0}function jsonFilter(a,b){return"function"==typeof b?b.toString().replace(/(^\s+|\s+$)/gm,"").replace(/\n/gm,"").replace(/,\s*/gm,", ").replace(/\)\{/gm,") {"):b}function filter(a,b,c,d,e){d=d||{};var f,g,h=c.block,i=d.filterOpType||"";if("undefined"!=typeof d.key)f=dust.helpers.tap(d.key,a,b);else{if(!isSelect(b))return _log("No key specified for filter in:"+i+" helper "),a;f=b.current().selectKey,b.current().isResolved&&(e=function(){return!1})}return g=dust.helpers.tap(d.value,a,b),e(coerce(g,d.type,b),coerce(f,d.type,b))?(isSelect(b)&&(b.current().isResolved=!0),h?a.render(h,b):(_log("No key specified for filter in:"+i+" helper "),a)):c["else"]?a.render(c["else"],b):a}function coerce(a,b,c){if(a)switch(b||typeof a){case"number":return+a;case"string":return String(a);case"boolean":return a="false"===a?!1:a,Boolean(a);case"date":return new Date(a);case"context":return c.get(a)}return a}var _log=dust.log?function(a){dust.log(a,"INFO")}:function(){},helpers={tap:function(a,b,c){if("function"!=typeof a)return a;var d,e="";return d=b.tap(function(a){return e+=a,""}).render(a,c),b.untap(),d.constructor!==b.constructor?d:""===e?!1:e},sep:function(a,b,c){var d=c.block;return b.stack.index===b.stack.of-1?a:d?c.block(a,b):a},idx:function(a,b,c){var d=c.block;return d?c.block(a,b.push(b.stack.index)):a},contextDump:function(a,b,c,d){var e,f=d||{},g=f.to||"output",h=f.key||"current";return g=dust.helpers.tap(g,a,b),h=dust.helpers.tap(h,a,b),e="full"===h?JSON.stringify(b.stack,jsonFilter,2):JSON.stringify(b.stack.head,jsonFilter,2),"console"===g?(_log(e),a):a.write(e)},"if":function(chunk,context,bodies,params){var body=bodies.block,skip=bodies["else"];if(params&&params.cond){var cond=params.cond;if(cond=dust.helpers.tap(cond,chunk,context),eval(cond))return body?chunk.render(bodies.block,context):(_log("Missing body block in the if helper!"),chunk);if(skip)return chunk.render(bodies["else"],context)}else _log("No condition given in the if helper!");return chunk},math:function(a,b,c,d){if(d&&"undefined"!=typeof d.key&&d.method){var e=d.key,f=d.method,g=d.operand,h=d.round,i=null;switch(e=dust.helpers.tap(e,a,b),g=dust.helpers.tap(g,a,b),f){case"mod":(0===g||g===-0)&&_log("operand for divide operation is 0/-0: expect Nan!"),i=parseFloat(e)%parseFloat(g);break;case"add":i=parseFloat(e)+parseFloat(g);break;case"subtract":i=parseFloat(e)-parseFloat(g);break;case"multiply":i=parseFloat(e)*parseFloat(g);break;case"divide":(0===g||g===-0)&&_log("operand for divide operation is 0/-0: expect Nan/Infinity!"),i=parseFloat(e)/parseFloat(g);break;case"ceil":i=Math.ceil(parseFloat(e));break;case"floor":i=Math.floor(parseFloat(e));break;case"round":i=Math.round(parseFloat(e));break;case"abs":i=Math.abs(parseFloat(e));break;default:_log("method passed is not supported")}return null!==i?(h&&(i=Math.round(i)),c&&c.block?a.render(c.block,b.push({isSelect:!0,isResolved:!1,selectKey:i})):a.write(i)):a}return _log("Key is a required parameter for math helper along with method/operand!"),a},select:function(a,b,c,d){var e=c.block;if(d&&"undefined"!=typeof d.key){var f=dust.helpers.tap(d.key,a,b);return e?a.render(c.block,b.push({isSelect:!0,isResolved:!1,selectKey:f})):(_log("Missing body block in the select helper "),a)}return _log("No key given in the select helper!"),a},eq:function(a,b,c,d){return d&&(d.filterOpType="eq"),filter(a,b,c,d,function(a,b){return b===a})},ne:function(a,b,c,d){return d?(d.filterOpType="ne",filter(a,b,c,d,function(a,b){return b!==a})):a},lt:function(a,b,c,d){return d?(d.filterOpType="lt",filter(a,b,c,d,function(a,b){return a>b})):void 0},lte:function(a,b,c,d){return d?(d.filterOpType="lte",filter(a,b,c,d,function(a,b){return a>=b})):a},gt:function(a,b,c,d){return d?(d.filterOpType="gt",filter(a,b,c,d,function(a,b){return b>a})):a},gte:function(a,b,c,d){return d?(d.filterOpType="gte",filter(a,b,c,d,function(a,b){return b>=a})):a},"default":function(a,b,c,d){return d&&(d.filterOpType="default"),filter(a,b,c,d,function(a,b){return!0})},size:function(a,b,c,d){var e,f,g,h=0;if(d=d||{},e=d.key,e&&e!==!0)if(dust.isArray(e))h=e.length;else if(!isNaN(parseFloat(e))&&isFinite(e))h=e;else if("object"==typeof e){f=0;for(g in e)Object.hasOwnProperty.call(e,g)&&f++;h=f}else h=(e+"").length;else h=0;return a.write(h)}};for(var key in helpers)dust.helpers[key]=helpers[key];"undefined"!=typeof exports&&(module.exports=dust)}("undefined"!=typeof exports?require("dustjs-linkedin"):dust)},{"dustjs-linkedin":"hKo7Mr"}],686:[function(a,b,c){b.exports=a("./lib/")},{"./lib/":687}],687:[function(a,b,c){var d=a("./stringify"),e=a("./parse");b.exports={stringify:d,parse:e}},{"./parse":688,"./stringify":689}],688:[function(a,b,c){var d=a("./utils"),e={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3};e.parseValues=function(a,b){for(var c={},e=a.split(b.delimiter,b.parameterLimit===1/0?void 0:b.parameterLimit),f=0,g=e.length;g>f;++f){var h=e[f],i=-1===h.indexOf("]=")?h.indexOf("="):h.indexOf("]=")+1;if(-1===i)c[d.decode(h)]="";else{var j=d.decode(h.slice(0,i)),k=d.decode(h.slice(i+1));c.hasOwnProperty(j)?c[j]=[].concat(c[j]).concat(k):c[j]=k}}return c},e.parseObject=function(a,b,c){if(!a.length)return b;var d=a.shift(),f={};if("[]"===d)f=[],f=f.concat(e.parseObject(a,b,c));else{var g="["===d[0]&&"]"===d[d.length-1]?d.slice(1,d.length-1):d,h=parseInt(g,10),i=""+h;!isNaN(h)&&d!==g&&i===g&&h>=0&&h<=c.arrayLimit?(f=[],f[h]=e.parseObject(a,b,c)):f[g]=e.parseObject(a,b,c)}return f},e.parseKeys=function(a,b,c){if(a){var d=/^([^\[\]]*)/,f=/(\[[^\[\]]*\])/g,g=d.exec(a);if(!Object.prototype.hasOwnProperty(g[1])){var h=[];g[1]&&h.push(g[1]);for(var i=0;null!==(g=f.exec(a))&&i<c.depth;)++i,Object.prototype.hasOwnProperty(g[1].replace(/\[|\]/g,""))||h.push(g[1]);return g&&h.push("["+a.slice(g.index)+"]"),e.parseObject(h,b,c)}}},b.exports=function(a,b){if(""===a||null===a||"undefined"==typeof a)return{};b=b||{},b.delimiter="string"==typeof b.delimiter||d.isRegExp(b.delimiter)?b.delimiter:e.delimiter,b.depth="number"==typeof b.depth?b.depth:e.depth,b.arrayLimit="number"==typeof b.arrayLimit?b.arrayLimit:e.arrayLimit,b.parameterLimit="number"==typeof b.parameterLimit?b.parameterLimit:e.parameterLimit;for(var c="string"==typeof a?e.parseValues(a,b):a,f={},g=Object.keys(c),h=0,i=g.length;i>h;++h){var j=g[h],k=e.parseKeys(j,c[j],b);f=d.merge(f,k)}return d.compact(f)}},{"./utils":690}],689:[function(a,b,c){var d=a("./utils"),e={delimiter:"&",indices:!0};e.stringify=function(a,b,c){if(d.isBuffer(a)?a=a.toString():a instanceof Date?a=a.toISOString():null===a&&(a=""),"string"==typeof a||"number"==typeof a||"boolean"==typeof a)return[encodeURIComponent(b)+"="+encodeURIComponent(a)];var f=[];if("undefined"==typeof a)return f;for(var g=Object.keys(a),h=0,i=g.length;i>h;++h){var j=g[h];f=!c.indices&&Array.isArray(a)?f.concat(e.stringify(a[j],b,c)):f.concat(e.stringify(a[j],b+"["+j+"]",c))}return f},b.exports=function(a,b){b=b||{};var c="undefined"==typeof b.delimiter?e.delimiter:b.delimiter;b.indices="boolean"==typeof b.indices?b.indices:e.indices;var d=[];if("object"!=typeof a||null===a)return"";for(var f=Object.keys(a),g=0,h=f.length;h>g;++g){var i=f[g];d=d.concat(e.stringify(a[i],i,b))}return d.join(c)}},{"./utils":690}],690:[function(a,b,c){c.arrayToObject=function(a){for(var b={},c=0,d=a.length;d>c;++c)"undefined"!=typeof a[c]&&(b[c]=a[c]);return b},c.merge=function(a,b){if(!b)return a;if("object"!=typeof b)return Array.isArray(a)?a.push(b):a[b]=!0,a;if("object"!=typeof a)return a=[a].concat(b);Array.isArray(a)&&!Array.isArray(b)&&(a=c.arrayToObject(a));for(var d=Object.keys(b),e=0,f=d.length;f>e;++e){var g=d[e],h=b[g];a[g]?a[g]=c.merge(a[g],h):a[g]=h}return a},c.decode=function(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(b){return a}},c.compact=function(a,b){if("object"!=typeof a||null===a)return a;b=b||[];var d=b.indexOf(a);if(-1!==d)return b[d];if(b.push(a),Array.isArray(a)){for(var e=[],f=0,g=a.length;g>f;++f)"undefined"!=typeof a[f]&&e.push(a[f]);return e}var h=Object.keys(a);for(f=0,g=h.length;g>f;++f){var i=h[f];a[i]=c.compact(a[i],b)}return a},c.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},c.isBuffer=function(a){return null===a||"undefined"==typeof a?!1:!!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))}},{}],691:[function(a,b,c){b.exports={"chapter-sizes":{header:{xlarge:{height:140},large:{height:100},medium:{height:100},small:{height:100}}}}},{}],692:[function(a,b,c){b.exports={"content-widths":{xlarge:{width:1256},large:{width:1024},medium:{width:768},small:{width:"100%","max-width":414}},"hero-heights":{xlarge:{height:706},large:{height:576},medium:{height:432},small:{height:430}},"hero-heights-small":{xlarge:{height:353},large:{height:288},medium:{height:250},small:{height:280}}}},{}],693:[function(a,b,c){b.exports={hero:{host:"http://p.events-delivery.apple.com.edgesuite.net/15pijbnaefvpoijbaefvpihb06/js_files/event",path:"/"},feed:{host:"",path:"/live/2015-june-event/feed.json"}}},{}],694:[function(a,b,c){b.exports={}},{}],695:[function(a,b,c){b.exports={"bar-heights":{xlarge:{height:120},large:{height:100},medium:{height:90},small:{height:60}},"explore-chapter":{xlarge:{height:48},large:{height:48},medium:{height:48},small:{height:48}}}},{}],696:[function(a,b,c){b.exports={globalnav:{dimentions:{xlarge:{height:47},large:{height:47},medium:{height:47},small:{height:47}}}}},{}],697:[function(a,b,c){b.exports={"tile-sizes":{xlarge:{columns:"2",tile:{height:590},"tile-content":{margin:10,padding:0}},large:{columns:"2",tile:{height:530},"tile-content":{margin:10,padding:0}},medium:{columns:"2",tile:{height:430},"tile-content":{margin:10,padding:0}},small:{columns:"1",tile:{height:500},"tile-content":{margin:10,padding:0}}}}},{}],698:[function(a,b,c){b.exports={"tiles-container":{xlarge:{"margin-top":50},large:{"margin-top":50},medium:{"margin-top":50},small:{"margin-top":50}}}},{}],699:[function(a,b,c){b.exports={viewports:{large:{"min-width":1069,"max-width":1441,content:980,oldie:!0},medium:{"min-width":737,"max-width":1068,content:692},small:{"min-width":320,"max-width":736,content:288,"max-device-width":768},xlarge:{"min-width":1442,content:980}}}},{}],700:[function(a,b,c){"use strict";function d(a){this.player=a,this.sources={},this.currentStubPlayer=null}var e=a("ac-analytics"),f=a("ac-event-emitter").EventEmitter,g=a("ac-dom-traversal"),h=d.prototype;h.activate=function(){this.player.on("play",function(){this.setCurrentStubPlayer(),this._proxyEvent("play")},this),this.player.on("ended",function(){this._proxyEvent("ended")},this),this.player.on("timeupdate",function(){this._proxyEvent("timeupdate")},this,this),this.player.on("texttrackshow",function(){this._proxyEvent("captions-enabled")},this),this.player.on("durationchange",this.setCurrentStubPlayer,this)},h.getEventData=function(){var a=!1,b=this.player.getVisibleTextTracks();return b&&b.models&&b.models.length>0&&(a=!0),{closeCaptionsEnabled:a,currentTime:this.player.getCurrentTime(),duration:this.player.getDuration(),playerType:null,videoType:null}},h._createObserver=function(a){var b;return e&&e.observer&&e.observer.Video&&(b=new e.observer.Video(a,{mediaEventPrefix:""})),b},h._proxyEvent=function(a){this.currentStubPlayer&&this.currentStubPlayer.trigger(a,this.getEventData())},h.setCurrentStubPlayer=function(){var a=this.getCurrentSourceObject();a&&a.stubPlayer&&(this.currentStubPlayer=a.stubPlayer)},h.getSourceObjectByCID=function(a){var b;for(var c in this.sources)if(this.sources.hasOwnProperty(c)&&this.sources[c].cid===a){b=this.sources[c];break}return b},h.getCurrentSourceObject=function(){var a,b=this.player.getCurrentSrc();return b&&(a=this.getSourceObjectByCID(b.cid)),a},h.addSourceObject=function(a,b){var c,d,e,f="data-analytics-id",h="",i="";this.sources[a]||(c=g.querySelector("#"+a),c&&(c.getAttribute(f)?(d=c,h=c.getAttribute(f),i=a):(d=g.querySelector("["+f+"]",c),d&&(h=d.getAttribute(f),i=d.getAttribute("id")||"")),d&&(e=this._createStubPlayer(d,h,i),this.sources[a]={stubPlayer:e,observer:this._createObserver(e),cid:b})))},h._createStubPlayer=function(a,b,c){var d=new f;return d.element=a,d.targetId=b||c||"",d},b.exports=d},{"ac-dom-traversal":96,"ac-event-emitter":263}],701:[function(a,b,c){"use strict";var d={email:"event88",link:"event89",facebook:"event85",twitter:"event84",weibo:"event97",qqweibo:"event98",renren:"event99",qzone:"event100",miniPlay:"event95",miniPause:"event94",reply:"event90",retweet:"event91",favorite:"event92",exploreBarVisible:"event96",exploreBarNotVisible:"event93"};b.exports=d},{}],702:[function(a,b,c){"use strict";var d={streamState:[{key:"prop13",value:"{state}"}],badgeClick:[{key:"prop2",value:"{pageName} - count - {count}"}],miniControls:[{key:"prop2",value:"{videoName} - PiP {playerState}"},{key:"eVar55",value:"{videoName}"}],exploreBarVisibility:[{key:"prop2",value:"{videoName} - {viewType} View"},{key:"eVar55",value:"{videoName}"}],sharedTemplates:[{key:"eVar55",value:"{uuid} - {tileType}"}],socialClick:[{key:"prop2",value:"{uuid} - {tileType} - {socialType}"},{key:"eVar55",value:"{uuid} - {socialType}"}],sharesheetClick:[{key:"prop2",value:"{uuid} - {tileType} - share"},{key:"events",value:"event83"}],sharesheetNetworkClick:[{key:"prop2",value:"{uuid} - {tileType} - {network}"}],expandedTileClick:[{key:"prop2",value:"{uuid} - {tileType} - zoom"},{key:"events",value:"event81"}],heroVideoSharesheetClick:[{key:"prop2",value:"{PAGE_NAME_NO_LOCALE} - {videoName} - share"},{key:"eVar55",value:"{PAGE_NAME_NO_LOCALE} - {videoName}"},{key:"events",value:"event83"}],heroVideoSharesheetMomentClick:[{key:"prop2",value:"{PAGE_NAME_NO_LOCALE} - {videoName} - share - {timeCode}"},{key:"eVar55",value:"{PAGE_NAME_NO_LOCALE} - {videoName}"},{key:"events",value:"event83"}],heroVideoSharesheetNetworkClick:[{key:"prop2",value:"{PAGE_NAME_NO_LOCALE} - {videoName} - {network}"},{key:"eVar55",value:"{PAGE_NAME_NO_LOCALE} - {videoName}"}],chapterNavLinkClick:[{key:"prop3",value:"{videoName} - {chapterName}"}]};b.exports=d},{}],703:[function(a,b,c){"use strict";var d,e=!0,f=a("ac-event-emitter").EventEmitter,g=a("ac-object"),h=a("ac-console").log,i=a("./analytics-templates"),j=a("./analytics-event-string"),k=a("./LegacyAnalyticsTranslator"),l="Keynote - june - 2015";try{d=a("ac-analytics")}catch(m){}var n=function(a){this.options=a||{},d&&this._initialize()};n.prototype=g.create(f.prototype);var o=n.prototype;o.templates=i,o.analyticsObserver=function(a){return"hero"===a.analyticsType?(a.on("hero-rendered",this._handleVideo.bind(this,a)),void a.on("hero-visibility-changed",this._handleExploreBarVisibility.bind(this,a))):"hero-video-control-bar"===a.analyticsType?void a.on("video-share-sheet-clicked",this._handleHeroVideoSharesheetClick.bind(this,a)):"hero-video-share"===a.analyticsType?(a.on("share-clicked",this._handleNetworkClick.bind(this,a,!0)),void a.on("share-moment",this._handleHeroVideoSharesheetClick.bind(this,a))):"post"===a.analyticsType?(a.on("post-video-player-added",this._initPostVideo,this),a.on("post-video-play",this._handlePostVideo,this),a.on("post-share-sheet-clicked",this._handleSharesheetClick.bind(this,a)),a.on("share-clicked",this._handleNetworkClick.bind(this,a,null)),void a.on("expanded-state-clicked",this._handleTileStateChange.bind(this,a))):"badge"===a.analyticsType?void a.on("notifications-badge-clicked",this._handleNotificationBadgeClick.bind(this,a)):"explore-bar"===a.analyticsType?void a.on("mini-control-clicked",this._handleMiniControlClick.bind(this,a)):"explore-bar-chapter-nav"===a.analyticsType?void a.on("chapter-nav-clicked",this._handleChapterNavLinkClick.bind(this,a)):void 0},o._createObservers=function(){this._eventObserver=new d.observer.Event(this,{interactionEvents:["click","expandedTileClick","sharesheetClick","play","pause","view","scroll"]})},o.initializeDefault=function(){new d.observer.Page,new d.observer.Click,new d.observer.Link,new d.observer.Section},o.initializeVideo=function(a){this.videoAnalytics=new k(a),this.videoAnalytics.activate()},o._handleVideo=function(a){var b=a.subView.player;b&&(this.initializeVideo(b),this.videoAnalytics.addSourceObject("hero-video",b.getCurrentSrc().cid))},o._initPostVideo=function(a){this.initializeVideo(a.data)},o._handlePostVideo=function(a){this.videoAnalytics.addSourceObject(a.data.id,a.data.player.getCurrentSrc().cid)},o._handleExploreBarVisibility=function(a,b){var c,d=this._getTemplates("exploreBarVisibility");c="hidden"===b.data.state?!0:!1;var e={pageName:this._getPageName(),videoName:l,viewType:c?"PiP":"Normal"},f=this._getParsedData(d,e,{events:c?j.exploreBarVisible:j.exploreBarNotVisible});this.publishEvent("scroll",f)},o._handleHeroVideoSharesheetClick=function(a,b){var c={videoName:l};b.data?(c.timeCode=b.data,this.clickReporter(a,["heroVideoSharesheetMomentClick"],c)):this.clickReporter(a,["heroVideoSharesheetClick"],c)},o._handleTileStateChange=function(a){this.clickReporter(a,["expandedTileClick",!0])},o._handleSharesheetClick=function(a){this.clickReporter(a,["sharesheetClick",!0])},o._handleNetworkClick=function(a,b,c){var d=c.data.toLowerCase();if("tweet"===a.model.get("type")){var e=d.split("_")[1];this.tweetClickReporter(e,a)}else{var f=d.split("_")[0];b?this.clickReporter(a,["heroVideoSharesheetNetworkClick"],{network:f,videoName:l},{events:j[f]}):this.clickReporter(a,["sharesheetNetworkClick",!0],{network:f},{events:j[f]})}},o._handleNotificationBadgeClick=function(a,b){b.data>0&&this.clickReporter(a,["badgeClick"],{count:b.data},null)},o._handleMiniControlClick=function(a,b){var c;c="pause"===b.data?!1:!0,this.clickReporter(a,["miniControls"],{videoName:l,playerState:b.data},{events:c?j.miniPlay:j.miniPause})},o._handleChapterNavLinkClick=function(a,b){this.clickReporter(a,["chapterNavLinkClick"],{videoName:l,chapterName:b.data})},o.clickReporter=function(a,b,c,d){c=c||{};var e=this._getTemplates.apply(this,b),f=g.extend({},this._getSharedTileData(a),c),h=this._getParsedData(e,f,d);this.publishEvent("click",h)},o.tweetClickReporter=function(a,b){var c=["socialClick"];return"reply"===a?void this.clickReporter(b,c,{socialType:a},{events:j.reply}):"retweet"===a?void this.clickReporter(b,c,{socialType:a},{events:j.retweet}):"favorite"===a?void this.clickReporter(b,c,{socialType:a},{events:j.favorite}):void 0},o._getTemplates=function(a,b){var c=this.templates[a];return b&&(c=c.concat(this.templates.sharedTemplates)),c},o._getSharedTileData=function(a){return a.model?{pageName:this._getPageName(),tileType:a.model.get("type"),uuid:a.model.get("uuid"),tileHeadline:a.model.get("headline")||""}:{pageName:this._getPageName()}},o._getParsedData=function(a,b,c){for(var d,e=g.extend({},c),f=0,h=a.length;h>f;f++)d=a[f],e[d.key]=this._parseTemplate(d.value,b);return e},o._getPageName=function(){return document.title},o._parseTemplate=function(a,b){return this.supplant(a,b)},o.supplant=function(a,b,c){return b?(c=c||/{([^{}]*)}/g,a.replace(c,function(a,c){var d=b[c];return"string"==typeof d||"number"==typeof d?d:a})):a},o.publishEvent=function(a,b){this.options.debug&&h(a,b),b.title=a,this.trigger(a,b)},o._initialize=function(){this.initializeDefault(),this._createObservers()},b.exports=new n({debug:e})},{"./LegacyAnalyticsTranslator":700,"./analytics-event-string":701,"./analytics-templates":702,"ac-console":27,"ac-event-emitter":263,"ac-object":358}],704:[function(a,b,c){"use strict";var d=a("ac-router"),e=(a("ac-dom-events"),d.Router),f=a("./routes/RouteRoot"),g=a("./routes/RoutePost"),h=a("strings"),i=new e({root:h.locale.path+h.page.base+"/",hashChange:!0,resolveInitialHash:!1});new f(i),new g(i);i.start()},{"./routes/RoutePost":744,"./routes/RouteRoot":745,"ac-dom-events":54,"ac-router":382}],705:[function(a,b,c){"use strict";var d,e=a("ac-dom-traversal"),f=a("ac-dom-events"),g=a("ac-keyboard"),h=g.keys,i="a[href], area[href], input:not([disabled]),select:not([disabled]), textarea:not([disabled]),button:not([disabled]), iframe, object, embed, *[tabindex],*[contenteditable]",j=function(){};d=j.prototype,d.getTabableElement=function(a){return e.querySelectorAll(i,a)},d.dialog=function(a){this.tabableElements=this.getTabableElement(a.el),this.post=a,this._boundEscapeCloseState=this._escapeCloseState.bind(a),this._boundFocusOnFirstTab=this._focusOnFirstTab.bind(this);var b=this.tabableElements.length;b>0&&a.el.focus(),f.addEventListener(this.tabableElements[b-1],"keydown",this._boundFocusOnFirstTab),f.addEventListener(document,"keydown",this._boundEscapeCloseState)},d._escapeCloseState=function(a){a.keyCode===h.ESCAPE&&this.handleExpandCloseState(a)},d._focusOnFirstTab=function(a){a.keyCode===h.TAB&&(a.preventDefault(),this.tabableElements[0].focus())},d.destroy=function(){if(this.tabableElements){var a=this.tabableElements.length;a>0&&f.removeEventListener(this.tabableElements[a-1],"keydown",this._boundFocusOnFirstTab),f.removeEventListener(document,"keydown",this._boundEscapeCloseState),this.tabableElements=null,this.post.el.blur()}},b.exports=new j},{"ac-dom-events":54,"ac-dom-traversal":96,"ac-keyboard":310}],706:[function(a,b,c){"use strict";var d,e=a("ac-eclipse").Clip,f=a("ac-dom-styles"),g=function(){this._clips=[]};d=g.prototype,d.fadeIn=function(a,b,c){this.animate(a,b,c,{opacity:0},{opacity:1})},d.fadeOut=function(a,b,c){this.animate(a,b,c,{opacity:1},{opacity:0})},d.slideDown=function(a,b,c,d){this.animate(a,b,d,{height:0},{height:c})},d.slideUp=function(a,b,c){this.animate(a,b,c,f.getStyle(a,"height"),{height:0})},d.animate=function(a,b,c,d,f){var g=this._getClipIndexFromElement(a);g&&this._clips[g].isPlaying()&&this._clips[g].destroy(),this._clips[g||this._clips.length]=new e(a,b,f,{propsFrom:d,onComplete:c}).play()},d._getClipIndexFromElement=function(a){for(var b=this._clips.length;b--;)if(this._clips[b].getTarget()===a)return b;return null},b.exports=new g},{"ac-dom-styles":83,"ac-eclipse":242}],707:[function(a,b,c){"use strict";var d,e=a("ac-feature"),f=a("./VideoPlayerTypeSelector"),g=function(){this._animationType=null};d=g.prototype,d.getAnimationType=function(){return null!==this._animationType?this._animationType:(e.isDesktop()&&f.canPlayMP4Video()&&f.canSupportBlobs()?this._animationType="video":this._animationType="gif",this._animationType)},b.exports=new g},{"./VideoPlayerTypeSelector":729,"ac-feature":268}],708:[function(a,b,c){"use strict";var d=(a("strings"),function(){var a=/(?:\{%.[^\{\}]+%\})/g,b=/\{%|%\}/g;return{render:function(b,c){c=c||{};var d=b.match(a);if(d){var e,f=d.length;for(e=0;f>e;e++)b=this._replaceFoundMatch(d[e],b,c)}return b},_replaceFoundMatch:function(a,c,d){var e=a.replace(b,""),f="";try{var g,h=e.split("."),i=h.length;for(g=0;i>g;g++)d=d[h[g]];f=d||""}catch(j){}return c.replace(a,f)}}}());b.exports=d},{}],709:[function(a,b,c){"use strict";var d=a("ac-dom-traversal"),e=a("ac-object"),f=a("ac-classlist"),g=(a("ac-dom-nodes"),a("ac-event-emitter").EventEmitter),h=function(){this._idRef={},this._sosumis=[],this._footerEl=d.querySelector(".footer-wrapper .sosumi ol"),d.querySelectorAll("li",this._footerEl).forEach(function(a){this._sosumis.push(a.innerHTML)},this)},i=h.prototype=e.create(g.prototype);i.getSosumiForId=function(a){return this._sosumis[this._idRef[a]]},i.addSosumi=function(a,b){var c,e,g,h=this._sosumis.indexOf(a)+1;return 0===h?(g=document.createElement("li"),g.innerHTML=a,this._footerEl.appendChild(g),h=this._sosumis.push(a),this.trigger("footer-updated")):(c=d.querySelectorAll("li",this._footerEl)[h-1],c&&f.contains(c,"is-hidden")&&(f.remove(c,"is-hidden"),this.trigger("footer-updated"))),this._idRef[b]=h-1,e=document.createElement("sup"),e.innerHTML=h,e},i.removeSosumi=function(a,b){var c,e=this._sosumis.indexOf(a);e>-1&&(c=d.querySelectorAll("li",this._footerEl)[e],f.add(c,"is-hidden"),this.trigger("footer-updated")),this._idRef[b]=null},b.exports=new h},{"ac-classlist":21,"ac-dom-nodes":62,"ac-dom-traversal":96,"ac-event-emitter":263,"ac-object":358}],710:[function(a,b,c){"use strict";var d,e=a("ac-event-emitter").EventEmitter,f=a("ac-object"),g=function(){};d=g.prototype=f.create(e.prototype),d.init=function(a){this.timeCodes=[];var b,c=a.length;for(b=0;c>b;b++)a[b].get("timecode")&&this.timeCodes.push(a[b].get("timecode"));return this},d.getTimeCodes=function(){return this.timeCodes},b.exports=new g},{"ac-event-emitter":263,"ac-object":358}],711:[function(a,b,c){"use strict";var d,e=function(){this._commandIDs={}};d=e.prototype,d.handleCommand=function(a){this._commandIDs[a.uuid]||(this.runCommand(a.command),this.registerCommand(a.uuid))},d.registerCommand=function(a){this._commandIDs[a]=!0},d.runCommand=function(a){return"refresh"===a.toLowerCase()?void this._runRefreshCommand():void 0},d._runRefreshCommand=function(){window.location.reload()},b.exports=new e},{}],712:[function(a,b,c){"use strict";var d,e=a("ac-event-emitter").EventEmitter,f=a("ac-object"),g=function(){e.call(this),this.on("expanded-state-opened",this._changeState.bind(this,!0)),this.on("expanded-state-closed",this._changeState.bind(this,!1)),this.on("chapternav-opened",this._changeChapternavState.bind(this,!0)),this.on("chapternav-closed",this._changeChapternavState.bind(this,!1))};d=g.prototype=f.create(e.prototype),d._changeState=function(a){this.expandedStateOpened=a,this.trigger("update",{state:this.expandedStateOpened})},d._changeChapternavState=function(a){this.chapterNavStateOpened=a},d.getFeedIdFromURL=function(){var a=/\?feed=[^&]+/,b=a.exec(window.location.href);return b?b[0]:""},b.exports=new g},{"ac-event-emitter":263,"ac-object":358}],713:[function(a,b,c){"use strict";var d=a("../../config/content-sizes.json"),e=function(){this.heroState=null,this.heightsObjectKey="hero-heights"},f=e.prototype;f.getHeight=function(a){return d[this.heightsObjectKey][a].height},f.setState=function(a){this.heroState=a,this.heightsObjectKey=this.isSmallSize()?"hero-heights-small":"hero-heights"},f.isSmallSize=function(){var a=["unsupported","error","event","full"];return a.indexOf(this.heroState)>-1},b.exports=new e},{"../../config/content-sizes.json":692}],714:[function(a,b,c){"use strict";var d,e=a("ac-event-emitter").EventEmitter,f=a("ac-object"),g=function(){e.call(this)};d=g.prototype=f.create(e.prototype),b.exports=new g},{"ac-event-emitter":263,"ac-object":358}],715:[function(a,b,c){"use strict";var d,e=a("ac-event-emitter").EventEmitter,f=a("ac-object"),g=a("../../config/chapter-sizes.json")["chapter-sizes"],h=a("../../config/tile-sizes.json")["tile-sizes"],i=function(a){};d=i.prototype=f.create(e.prototype),d.tileDimensions={small:{columns:parseInt(h.small.columns,10),height:h.small.tile.height},medium:{columns:parseInt(h.medium.columns,10),height:h.medium.tile.height},large:{columns:parseInt(h.large.columns,10),height:h.large.tile.height},xlarge:{columns:parseInt(h.xlarge.columns,10),height:h.xlarge.tile.height}},d._createBreakpointObject=function(a){a=a||{};var b,c={};for(b in this.tileDimensions)this.tileDimensions.hasOwnProperty(b)&&(c[b]=a.isArray?[]:{});return c},d._addChapterHeaderPosition=function(a,b){var c,d,e;for(c in this._tilePositionInfo)this._tilePositionInfo.hasOwnProperty(c)&&(b?(e=this.tileDimensions[c].height,d=this._tilePosition[c][b-1].top+e):d=0,this._headerPosition[c][a]=d)},d._addTilePosition=function(a,b,c,d){var e,f,h,i,j,k,l,m;for(m in this._tilePositionInfo)this._tilePositionInfo.hasOwnProperty(m)&&(e=0,f=this.tileDimensions[m].columns,h=this.tileDimensions[m].height,i=g.header[m].height,l=d,1===f?l=c:f>1&&(e=Math.floor(d/f)),j=h*(l-l%f-e),j+=i*b,k=1===f||d%f===0?"0":"50%",void 0===this._tilePositionInfo[m][j]&&(this._tilePositionInfo[m][j]=c,this._tilePositionArray[m].push(j)),this._tilePosition[m][c]={top:j,left:k})},d.parse=function(a,b){this._tilePositionArray=this._createBreakpointObject({isArray:!0}),this._tilePositionInfo=this._createBreakpointObject(),this._tilePosition=this._createBreakpointObject({isArray:!0}),this._headerPosition=this._createBreakpointObject();var c,d,e,f=b.length,g=0,h=0;if(0!==f){for(c=0;f>c;c++)d=b[c],void 0===e?(e=d.get("chapter"),this._addChapterHeaderPosition(e),++h):++g,e!==d.get("chapter")&&(e=d.get("chapter"),++h,g%2!==0&&++g,this._addChapterHeaderPosition(e,c)),this._addTilePosition(b[c],h,c,g);this._tilesHeight={small:this._tilePosition.small[f-1].top+this.tileDimensions.small.height,medium:this._tilePosition.medium[f-1].top+this.tileDimensions.medium.height,large:this._tilePosition.large[f-1].top+this.tileDimensions.large.height,xlarge:this._tilePosition.xlarge[f-1].top+this.tileDimensions.xlarge.height}}},d.getHeaderTop=function(a,b){return this._headerPosition[a][b]},d.getAllTilesHeight=function(a){return this._tilesHeight[a]},d.getTilePositionFromIndex=function(a,b){return this._tilePosition[a][b]},d.getTileIndexFromTop=function(a,b){return this._tilePositionInfo[a][b]},d.getTileTopRangeArray=function(a){return this._tilePositionArray[a]},b.exports=new i},{"../../config/chapter-sizes.json":691,"../../config/tile-sizes.json":697,"ac-event-emitter":263,"ac-object":358}],716:[function(a,b,c){"use strict";var d,e=function(){this._onTouchStart=this._onTouchStart.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onScroll=this._onScroll.bind(this)};d=e.prototype,d.enable=function(){document.body.addEventListener("touchstart",this._onTouchStart),document.body.addEventListener("touchmove",this._onTouchMove),window.addEventListener("scroll",this._onScroll),this.setScrollY(window.scrollY)},d.disable=function(){document.body.removeEventListener("touchstart",this._onTouchStart),document.body.removeEventListener("touchmove",this._onTouchMove),window.removeEventListener("scroll",this._onScroll)},d.setScrollY=function(a){this._currentY=a},d._onScroll=function(a){window.scrollY!==this._currentY&&window.scrollTo(0,this._currentY)},d._onTouchStart=function(a){var b=a.touches[0];this._startX=b.screenX,this._startY=b.screenY},d._onTouchMove=function(a){var b=a.touches[0],c=Math.abs(b.screenX-this._startX),d=Math.abs(b.screenY-this._startY);3*d>c&&(this._startX=b.screenX,a.preventDefault())},b.exports=new e},{}],717:[function(a,b,c){"use strict";var d,e=a("qs"),f=function(){};d=f.prototype,d.getQueryStringParameter=function(a){var b=window.location.href.split("?")[1];if(b){var c=e.parse(b);return c[a]?c[a]:null}return null},b.exports=new f},{qs:686}],718:[function(a,b,c){"use strict";function d(a,b){this.sizeHasBeenSet=!1,this.player=b,this.videoContainerEl=a,this._boundOnReadyStateChange=this._onReadyStateChange.bind(this)}var e=a("ac-browser"),f=a("ac-dom-styles"),g=a("ac-video").Player,h=a("ac-classlist"),i="windows"===e.os.toLowerCase(),j="render-off-screen",k=d.prototype;k.renderVideoOffScreen=function(){i&&(h.add(this.videoContainerEl,j),this.player.on("readystatechange",this._boundOnReadyStateChange))},k.renderVideoOnScreen=function(){h.remove(this.videoContainerEl,j)},k._setPlayerSize=function(){this.sizeHasBeenSet||(f.setStyle(this.player.getMediaElement(),{width:screen.width,height:screen.height}),this.sizeHasBeenSet=!0)},k._unsetPlayerSize=function(){f.setStyle(this.player.getMediaElement(),{width:"",height:""}),this.sizeHasBeenSet=!1},k._onReadyStateChange=function(a){a.readyState>=g.LOADEDMETADATA&&this._setPlayerSize(),a.readyState>=g.CANPLAY&&(this._unsetPlayerSize(),this.renderVideoOnScreen(),this.player.off("readystatechange",this._boundOnReadyStateChange))},b.exports=d},{"ac-browser":17,"ac-classlist":21,"ac-dom-styles":83,"ac-video":659}],719:[function(a,b,c){"use strict";var d,e=function(){};d=e.prototype,d.getClosest=function(a,b,c){c=c||0;var d,e=1/0,f=a.length,g=Math.min(c,f);for(g;f>g&&(d=a[g]-b,0>d&&(d*=-1),e>d);g++)e=d;if(g--,g-c>1)return g;for(;g--&&(d=a[g]-b,0>d&&(d*=-1),e>=d);)e=d;return f>g&&g++,g},b.exports=new e},{}],720:[function(a,b,c){"use strict";var d,e=a("ac-event-emitter").EventEmitter,f=a("ac-object"),g=function(){};d=g.prototype=f.create(e.prototype),b.exports=new g},{"ac-event-emitter":263,"ac-object":358}],721:[function(a,b,c){"use strict";
var d,e=a("ac-event-emitter").EventEmitter,f=(a("ac-dom-traversal"),a("ac-object")),g=a("ac-viewport").Viewport,h=a("../application/ExpandedStateProxy"),i=a("../application/RangeManager"),j=a("../application/PositionManager"),k=function(a){this.model=a.model,this.collection=a.collection,this.activeModels={},this._offsets={top:0},this.previousValues={},this.el=a.el||null,this.initialized=!1,this._boundOnScrollAnimationFrame=this._onScrollAnimationFrame.bind(this),this._bindEvents(),h.on("expanded-state-opened",this._unbindEvents,this),h.on("expanded-state-closed",this._bindEvents,this)};d=k.prototype=f.create(e.prototype),d.tileDimensions=j.tileDimensions,d.initialize=function(a){a&&(this.el=a),this.el&&(this._breakpoint=g.getBreakpoint().name,this._offsets={},this._offsets.top=this.el.getBoundingClientRect().top+g.scrollY(),this.initialized=!0)},d._getIndices=function(a,b){var c=this.collection.count(),d=this.tileDimensions[this._breakpoint].height,e=this.tileDimensions[this._breakpoint].columns,f=Math.ceil(a/d*e)-e,g=Math.ceil(b/d*e),h=f%e,i=g%e;return h>0&&(f-=h),i>0&&(g-=i),g>c&&(g=c),0>f&&(f=0),{start:f,end:g}},d._getVODIndices=function(a,b,c){var d=this.collection.count(),e=j.getTileTopRangeArray(this._breakpoint),f=i.getClosest(e,a,this._storedStartRangeIdx),g=i.getClosest(e,b,this._storedEndRangeIdx),h=e[f],k=e[g],l=j.getTileIndexFromTop(this._breakpoint,h),m=j.getTileIndexFromTop(this._breakpoint,k)+c;return 0>l&&(l=0),m>d&&(m=d),this._storedStartRangeIdx=f,this._storedEndRangeIdx=g,{start:l,end:m}},d.publishActiveModelIndexes=function(a){if(this.initialized){var b,c,d={},e=!1,f=this.tileDimensions[this._breakpoint].height,h=this.tileDimensions[this._breakpoint].columns,i=this._offsets.top+f,j=g.innerHeight(),k=g.scrollY()-i,l=j+k+2*i;if(c=this.model.isFeedPostEvent()?this._getVODIndices(k,l,h):this._getIndices(k,l),d={columnCount:h,tileHeight:f,start:c.start,end:c.end},!a){for(b in d)if(d.hasOwnProperty(b)&&this.previousValues[b]!==d[b]){e=!0;break}if(!e)return}this.trigger("update",d),this.previousValues=d}},d._handleCollectionSet=function(a){var b=a.models.length;(!this._modelsLen||this._modelsLen!==b||a.force)&&(this._modelsLen=b,this.publishActiveModelIndexes(!0))},d._handleCollectionRemove=function(a){this._modelsLen=this.collection.count(),this.publishActiveModelIndexes(!0)},d._onScrollAnimationFrame=function(){this.publishActiveModelIndexes(),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},d._handleScroll=function(){this._animationFrame||(this._animationFrame=window.requestAnimationFrame(this._boundOnScrollAnimationFrame))},d._handleBreakpoint=function(){this.initialize(),this.publishActiveModelIndexes(!0)},d._handleResize=function(){this.publishActiveModelIndexes(!0)},d._handlePositionChanged=function(){this.publishActiveModelIndexes(!0)},d._bindEvents=function(){this.collection.on("set",this._handleCollectionSet,this),this.collection.on("remove",this._handleCollectionRemove,this),g.on("scroll",this._handleScroll,this),g.on("breakpoint",this._handleBreakpoint,this),g.on("resize",this._handleResize,this),j.on("updated",this._handlePositionChanged,this),this.initialize()},d._unbindEvents=function(){this.collection.off("set",this._handleCollectionSet,this),this.collection.off("remove",this._handleCollectionRemove,this),g.off("scroll",this._handleScroll,this),g.off("breakpoint",this._handleBreakpoint,this),g.off("resize",this._handleResize,this),j.off("updated",this._handlePositionChanged,this)},d.getTilePositionByIndex=function(a){var b=this.tileDimensions[this._breakpoint].height,c=this.tileDimensions[this._breakpoint].columns,d=this._offsets.top;return a++,d+b*(Math.ceil(a/c)-1)},b.exports=k},{"../application/ExpandedStateProxy":712,"../application/PositionManager":715,"../application/RangeManager":719,"ac-dom-traversal":96,"ac-event-emitter":263,"ac-object":358,"ac-viewport":682}],722:[function(a,b,c){"use strict";var d,e=a("strings"),f=a("ac-object"),g=a("../application/ApplicationStringsRenderer"),h=function(){};d=h.prototype,d.getShareDataFromModel=function(a,b){b=b||{};var c={},d=a.attributes,e=f.clone(a.get("share"));return e.links&&(c.url=e.links[b.action]),e=this._overrideShareAttrValues(e,d,b),e.link&&(c.url=e.link),e.title&&(c.title=e.title),e.description&&(c.description=e.description),e.images&&e.images.share_og&&(c.media=e.images.share_og),e.hashtags&&e.hashtags.length>0&&(c.hashtags=e.hashtags.join(",")),a.get("source")&&(c.messageId=a.get("source").id),c},d._overrideShareAttrValues=function(a,b,c){var d=!1;if(("number"==typeof c.timecode||"string"==typeof c.timecode)&&(d=!0),a.links[c.action]&&d){var f=a.links[c.action],h=f.indexOf("?")>-1?"&":"?";a.link=f+h+"timecode="+c.timecode}return"email"===c.action&&(a.title=e.sharesheet.email.subject,"quote"===b.type?a.description=g.render(e.sharesheet.email.body_quote,b):"hero"===c.type?d?a.description=g.render(e.sharesheet.email.body_moment,a):a.description=g.render(e.sharesheet.email.body_page,a):a.description=g.render(e.sharesheet.email.body,b)),"hero"===c.type&&("twitter"===c.action&&(d?a.description=e.share_moment.share.tweet:a.description=e.share.twitter_description),("qq"===c.action||"weibo"===c.action)&&(d?a.title=e.share_moment.share.tweet:a.title=e.share.twitter_description)),"hero"!==c.type&&("twitter"===c.action&&(a.description=a.tweet),("qq"===c.action||"weibo"===c.action)&&(a.title=a.tweet)),a},d.getShareIconData=function(a){var b,c,d,f=a||[],g=[],h=f.length;for(b=0;h>b;b++)c=f[b],d="email"===c?e.sharesheet[c].label||c:e.sharesheet[c]||c,g.push({name:c,label:d});return g},b.exports=new h},{"../application/ApplicationStringsRenderer":708,"ac-object":358}],723:[function(a,b,c){"use strict";var d,e=a("ac-eclipse").Clip,f=.3,g=function(){};d=g.prototype,d.scrollTo=function(a,b,c){if(this.cancel(),0===b)window.scrollTo(0,a),"function"==typeof c&&c.call();else{b=b||f;var d=window.scrollY||document.documentElement.scrollTop;this._clip=new e({y:d},b,{y:a},{onDraw:this._onDraw.bind(this),onComplete:c}).play()}},d.cancel=function(){this.isScrolling()&&this._clip.destroy()},d.isScrolling=function(){return this._clip&&this._clip.isPlaying()},d._onDraw=function(a){window.scrollTo(0,a.target.y)},b.exports=new g},{"ac-eclipse":242}],724:[function(a,b,c){"use strict";var d=a("../../config/debug.json"),e=a("ac-console").log,f=a("ac-social").Dialog,g=a("ac-social").Debug,h=function(){return{createDialog:function(a,b){return d.DEBUG?void e(a,g.create(a,b)):void f.create(a,b)}}}();b.exports=h},{"../../config/debug.json":694,"ac-console":27,"ac-social":439}],725:[function(a,b,c){"use strict";var d,e=a("ac-event-emitter").EventEmitter,f=a("ac-object"),g=a("ac-feature"),h=a("ac-viewport").Viewport,i=a("../application/HeroSizesHelper"),j=a("../../config/explorebar-sizes.json")["bar-heights"],k=a("../../config/tiles-container.json")["tiles-container"],l=a("../../config/tile-sizes.json")["tile-sizes"],m=a("../../config/globalnav.json").globalnav.dimentions,n=function(a){this.ABOVE_POSITION="above",this.BELOW_POSITION="below",this.position=this.ABOVE_POSITION,this.threshold=0,this._setSweetSpotThreshold(),this._updateStatus(),this._boundOnScrollAnimationFrame=this._onScrollAnimationFrame.bind(this),this._bindEvents()};d=n.prototype=f.create(e.prototype),d.isAbove=function(){return this.position===this.ABOVE_POSITION},d.isBelow=function(){return this.position===this.BELOW_POSITION},d._setSweetSpotThreshold=function(){var a=h.getBreakpoint().name,b=i.getHeight(a),c=j[a].height,d=k[a]["margin-top"],e=l[a].tile.height;this.threshold=b-c+d+e/2,"medium"===a&&g.touchAvailable()&&(this.threshold+=m[a].height)},d._onScrollAnimationFrame=function(){this._updateStatus(),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},d._updateStatus=function(){var a=h.scrollY();a>this.threshold&&this.position===this.ABOVE_POSITION&&(this.position=this.BELOW_POSITION,this.trigger("update",{position:this.BELOW_POSITION})),a<=this.threshold&&this.position===this.BELOW_POSITION&&(this.position=this.ABOVE_POSITION,this.trigger("update",{position:this.ABOVE_POSITION}))},d._handleScroll=function(){this._animationFrame||(this._animationFrame=window.requestAnimationFrame(this._boundOnScrollAnimationFrame))},d._handleBreakpoint=function(){this._setSweetSpotThreshold(),this._updateStatus()},d._bindEvents=function(){h.on("scroll",this._handleScroll,this),h.on("breakpoint",this._handleBreakpoint,this)},d.getPostsTopOffset=function(){var a=h.getBreakpoint().name,b=j[a].height,c=i.getHeight(a),d=c-b+1;return"medium"===a&&g.touchAvailable()&&(d+=m[a].height),d},b.exports=new n},{"../../config/explorebar-sizes.json":695,"../../config/globalnav.json":696,"../../config/tile-sizes.json":697,"../../config/tiles-container.json":698,"../application/HeroSizesHelper":713,"ac-event-emitter":263,"ac-feature":268,"ac-object":358,"ac-viewport":682}],726:[function(a,b,c){"use strict";var d,e=a("ac-event-emitter").EventEmitter,f=a("ac-ajax"),g=a("ac-object"),h=function(){this.response=null,this.promise=null,this.request=null,this.blob=null,this.url=null,this._loading=!1,this._active=!0,this._boundOnRequestSuccess=this._onRequestSuccess.bind(this),this._boundOnRequestFailed=this._onRequestFailed.bind(this)};d=h.prototype=g.create(e.prototype),d.load=function(a){var b=this._xhrRequest(a);b.xhr.responseType="arraybuffer",this.request=b.xhr,this.promise=b.send(),this.promise.then(this._boundOnRequestSuccess,this._boundOnRequestFailed),this.loading=!0},d.abort=function(){this.request&&this.request.abort&&(this.request.abort(),this.loading=!1)},d.destroy=function(){this.off();var a;for(a in this)this.hasOwnProperty(a)&&(this[a]=null)},d.isLoading=function(){return this._loading},d._onRequestSuccess=function(a){if(this.loading=!1,this.request){var b=window.URL||window.webkitURL,c=this.request.response||this.request.responseText,d=new Blob([c],{type:"video/mp4"});this.response=c,this.blob=d,this.url=b.createObjectURL(this.blob),this._active&&this.trigger("success",{url:this.url})}},d._onRequestFailed=function(a){this.loading=!1,this._active&&this.trigger("failed")},d._xhrRequest=function(a){var b;return a=f._getOptions({method:"get"},a),b=f.create(a),b=f._isCrossDomainRequest(a.url)?f.cors(a):f.create(a)},b.exports=h},{"ac-ajax":9,"ac-event-emitter":263,"ac-object":358}],727:[function(a,b,c){"use strict";function d(a){var b=a.getTextTracks(),c=b.models.length,d=a.getTextTracks().at(c-1),f=a.getEnabledTextTracks(),g=e.name.toLowerCase(),h=e.version;f.forEach(function(a){d!==a&&a.disable()}),"disabled"===d.get("mode")&&("safari"===g&&7>h?d.show():d.hide()),"safari"===g&&7>h&&a.mediaController.on("texttrackhide",function(){a.getMediaElement.textTracks[0].mode="disabled"})}var e=a("ac-browser"),f=a("ac-feature"),g=a("ac-video").Player,h=a("../views/ViewVideoControlbar"),i=a("./VideoPlayerTypeSelector"),j={createPlayer:function(a){a=a||{},a.crossorigin="anonymous",a.poster=null;var b,c={type:i.getPlayerType()};return this.needsControlbar()&&(c.controls={el:{parentNode:{}},appendTo:function(){}}),b=g.create(a,c),f.isDesktop()&&b.on("addtrack",function(){d(b)}),b},createControlBar:function(a){if(!this.needsControlbar())return null;var b=new h(a);return b},needsControlbar:function(){return"ios"!==e.os.toLowerCase()}};b.exports=j},{"../views/ViewVideoControlbar":776,"./VideoPlayerTypeSelector":729,"ac-browser":17,"ac-feature":268,"ac-video":659}],728:[function(a,b,c){"use strict";var d,e=a("ac-event-emitter").EventEmitter,f=a("ac-object"),g=function(){e.call(this),this.on("set-dimensions",this._handleSetDimensions,this)};d=g.prototype=f.create(e.prototype),d._handleSetDimensions=function(a){this._width=a.width,this._height=a.height},d.getWidth=function(){return this._width||""},d.getHeight=function(){return this._height||""},b.exports=new g},{"ac-event-emitter":263,"ac-object":358}],729:[function(a,b,c){"use strict";var d,e=a("ac-browser"),f=function(){this._playerType=null,this._shouldUseManualVideoResizing=null,this._useDelayedQuicktimeSetup=null,this._mp4Support=null,this._blobSupport=null};d=f.prototype,d.getPlayerType=function(){return null!==this._playerType?this._playerType:(this._playerType=void 0,this._playerType)},d.shouldUseManualVideoResizing=function(){if(null!==this._shouldUseManualVideoResizing)return this._shouldUseManualVideoResizing;var a=e.name.toLowerCase(),b=e.os.toLowerCase();return"ie"===a||"firefox"===a&&"windows"===b?this._shouldUseManualVideoResizing=!0:this._shouldUseManualVideoResizing=!1,this._shouldUseManualVideoResizing},d.shouldUseDelayedQuicktimeSetup=function(){if(null!==this._useDelayedQuicktimeSetup)return this._useDelayedQuicktimeSetup;var a=e.name.toLowerCase();return"ie"===a||"firefox"===a?this._useDelayedQuicktimeSetup=!0:this._useDelayedQuicktimeSetup=!1,this._useDelayedQuicktimeSetup},d.getQTVideoSetupDelay=function(){var a=e.os.toLowerCase();return"windows"===a?2e3:0},d.getQTVideoSrcSetDelay=function(){var a=e.os.toLowerCase();return"windows"===a?1e3:0},d.canPlayMP4Video=function(){if(null!==this._mp4Support)return this._mp4Support;try{var a=document.createElement("VIDEO");if(a.canPlayType&&a.canPlayType("video/mp4").replace(/no/," "))return this._mp4Support=!0,!0}catch(b){}return this._mp4Support=!1,!1},d.canSupportBlobs=function(){if(null!==this._blobSupport)return this._blobSupport;var a=window.URL||window.webkitURL,b=e.name.toLowerCase(),c=e.version,d=!1;return"safari"===b&&7>c&&(d=!0),"undefined"==typeof window.Blob||"object"!=typeof a&&"function"!=typeof a||"function"!=typeof a.createObjectURL||d!==!1?this._blobSupport=!1:this._blobSupport=!0,this._blobSupport},d.supportsHLS=function(){var a=[null!==e.name.match(/safari/i),null!==e.os.match(/ios|os x/i)];return a.every(function(a){return a===!0})},b.exports=new f},{"ac-browser":17}],730:[function(a,b,c){"use strict";var d=a("ac-string"),e={addLeadingZero:function(a,b){if(b=b||2,10>a||b>2)for(a=String(a);a.length<b;)a="0"+a;return a},formatTime:function(a,b){if(isNaN(a))return"00:00";a=this.splitTime(Math.floor(a),function(a){return this.addLeadingZero(a,b)}.bind(this));var c="{PN}{minutes}:{seconds}",e=d.supplant(c,{PN:a.negativeModifier,minutes:a.minutes,seconds:a.seconds});return e},splitTime:function(a,b){b=b||function(a){return a};var c={negativeModifier:"",minutes:0,seconds:0};if(isNaN(a))return c;c.negativeModifier=0>a?"-":"",a=Math.abs(a),c.minutes=Math.floor(a/60),c.seconds=a%60;for(var d in c)"number"==typeof c[d]&&(c[d]=b(c[d]));return c}};b.exports=e},{"ac-string":460}],731:[function(a,b,c){"use strict";var d,e=a("ac-event-emitter").EventEmitter,f=a("ac-dom-emitter").DOMEmitter,g=a("ac-object"),h=a("ac-viewport").Viewport,i=a("ac-dom-traversal"),j=a("ac-classlist"),k=a("ac-feature"),l=a("ac-eclipse").Clip,m=function(a){e.call(this),this.globalnav=a.globalnav,this.videoControlsQuery=a.videoControlsQuery,this.globalnav&&this.videoControlsQuery&&(this.videoControls=null,this.viewHeroEl=a.viewHeroEl,this._animatedGlobalnavElement=i.querySelector(".globalheader",this.globalnav),this._memoizeGlobalnavHeight(),this._bindEvents(),this.active=!1,this.visible=!0,this.animating=!1,this._animatingShow=!1,this._aboveAnimationThreshold=null,this._mouseover=!1,this._mousemove=!1,this._heroStateVisible=!0,this._timeout=null,this._clip=null,this._boundOnStartHideTimeoutComplete=this._onStartHideTimeoutComplete.bind(this),this._boundOnUIShowComplete=this._onUIShowComplete.bind(this),this._boundOnUIHideComplete=this._onUIHideComplete.bind(this),a.hoverableElements&&(this._hoverableElements=a.hoverableElements))};d=m.prototype=g.create(e.prototype),d.activeClassName="animated-globalheader",d.cursorHiddenClassName="cursor-hidden",d.animationShowDuration=.5,d.animationHideDuration=.5,d.animationShowEasing="ease-out",d.animationHideEasing="ease-out",d.timeoutDuration=1500,d.showUIElements=function(a){if(this.showCursor(),this.active&&(a=a||{},!this._animatingShow&&(this.animating=!0,this._destroyClips(),this._clips=[],this._animatingShow=!0,!a.preventAnimation))){var b,c=[this._showGlobalnav,this._showVideoControls],d=c.length;for(b=0;d>b;b++)this._clips[b]=c[b].call(this,a)}},d.hideUIElements=function(a){if(this.active){a=a||{},this.animating=!0,this._destroyClips(),this._clips=[],this._animatingShow=!1;var b,c=[this._hideGlobalnav,this._hideVideoControls],d=c.length;for(b=0;d>b;b++)this._clips[b]=c[b].call(this,a);this.hideCursor()}},d.showCursor=function(){j.remove(this.viewHeroEl,this.cursorHiddenClassName)},d.hideCursor=function(){j.add(this.viewHeroEl,this.cursorHiddenClassName)},d._showGlobalnav=function(a){var b={transform:{translateY:"0px"},opacity:1},c=this.animationShowDuration,d={ease:this.animationShowEasing,onComplete:this._boundOnUIShowComplete};a.resetStyles&&(d.removeStylesOnComplete=!0);var e=new l(this._animatedGlobalnavElement,c,b,d);return e.play(),a.force&&e.setProgress(1),e},d._hideGlobalnav=function(a){var b={transform:{translateY:-this._globalnavHeight+"px"},opacity:0},c=this.animationHideDuration,d=new l(this._animatedGlobalnavElement,c,b,{ease:this.animationHideEasing,onComplete:this._boundOnUIHideComplete});return d.play(),a.force&&d.setProgress(1),d},d._showVideoControls=function(a){var b={transform:{translateY:"0px"},opacity:1},c=this.animationShowDuration,d={ease:this.animationShowEasing};a.resetStyles&&(d.removeStylesOnComplete=!0);var e=new l(this.videoControls,c,b,d);return e.play(),a.force&&e.setProgress(1),e},d._hideVideoControls=function(a){var b={transform:{translateY:this._videoControlsHeight+"px"},opacity:0},c=this.animationHideDuration,d=new l(this.videoControls,c,b,{ease:this.animationHideEasing});return d.play(),a.force&&d.setProgress(1),d},d.isAboveAnimationThreshold=function(){return this._heroStateVisible},d.initialize=function(){var a=this.activeClassName;return this._destroyHoverEmitters(),this.shouldUseAnimatedGlobalnav()?(this._setVideoControlsTarget(),this.active=!0,j.add(document.documentElement,a),this._setHoverEmitters(),void(this.isAboveAnimationThreshold()?this._handleHeroStateVisible({force:!0}):this._handleHeroStateHidden({force:!0}))):(j.remove(document.documentElement,a),this.showUIElements({force:!0,resetStyles:!0}),this.visible=!0,this.animating=!1,this._animatingShow=!1,void(this.active=!1))},d._setHoverEmitters=function(){if(this._hoverableElements){var a,b,c=this._hoverableElements.length;for(a=0;c>a;a++)b=this._hoverableElements[a],this._setHoverEmitter(b.el,b.delegateQuery,b.options)}},d._setHoverEmitter=function(a,b,c){c=c||{},this._hoverEmitters||(this._hoverEmitters=[]);var d;if(d=b&&this.shouldUseAnimatedGlobalnav()?i.querySelectorAll(b,a):[a],d&&0!==d.length){var e,g,h=d.length;for(e=0;h>e;e++){g=d[e];var j=new f(g);j.on("mouseenter",this._handleMouseenter.bind(this,g)),j.on("mouseleave",this._handleMouseleave.bind(this,g)),c.canTimeout&&j.on("mousemove",this._handleMousemove.bind(this,g)),this._hoverEmitters.push(j)}}},d._destroyHoverEmitters=function(){if(this._hoverEmitters){var a,b=this._hoverEmitters.length;for(a=0;b>a;a++)this._hoverEmitters[a].destroy();this._hoverEmitters=null}},d.destroy=function(){this.trigger("destroy"),h.off("scroll",this._updateAnimationThresholdBoolean,this),h.off("breakpoint",this._memoizeGlobalnavHeight,this),h.off("breakpoint",this.initialize,this),this._destroyHoverEmitters(),this._destroyClips(),this.off();var a;for(a in this)this.hasOwnProperty(a)&&(this[a]=null)},d.shouldUseAnimatedGlobalnav=function(){if(!this.viewHeroEl)return!1;var a=j.contains(this.viewHeroEl,"hero-mode-video");return a&&k.isDesktop()&&"small"!==h.getBreakpoint().name?!0:!1},d._startHideTimeout=function(){this.active&&(this._clearHideTimeout(),this._timeout=setTimeout(this._boundOnStartHideTimeoutComplete,this.timeoutDuration))},d._clearHideTimeout=function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null)},d._onStartHideTimeoutComplete=function(){!this.isAboveAnimationThreshold()||this._mouseover&&!this._mousemove||this.hideUIElements()},d._onUIShowComplete=function(){this.animating=!1,this._animatingShow=!1,this.visible=!0,this.trigger("animation-show-complete animation-complete")},d._onUIHideComplete=function(){this.animating=!1,this._animatingShow=!1,this.visible=!1,this.trigger("animation-hide-complete animation-complete")},d._memoizeGlobalnavHeight=function(){this.globalnav&&(this._globalnavHeight=this.globalnav.getBoundingClientRect().height)},d._memoizeVideoControlsHeight=function(){this.videoControls&&(this._videoControlsHeight=this.videoControls.getBoundingClientRect().height)},d._bindEvents=function(){h.on("breakpoint",this._memoizeGlobalnavHeight,this),h.on("breakpoint",this._memoizeVideoControlsHeight,this),h.on("breakpoint",this.initialize,this),this.on("hero-state-visible",this._handleHeroStateVisible,this),this.on("hero-state-hidden",this._handleHeroStateHidden,this)},d._handleMouseenter=function(a,b){b.target===a&&(this._mouseover=!0,this._mousemove=!1,this.showUIElements())},d._handleMousemove=function(a,b){b.target===a&&(this._mousemove=!0,this.showUIElements(),this._startHideTimeout())},d._handleMouseleave=function(a,b){b.target===a&&(this._mouseover=!1,this._mousemove=!1,this._startHideTimeout())},d._destroyClips=function(){if(this._clips){var a,b=this._clips.length;for(a=0;b>a;a++)this._clips[a].destroy();this._clips=null}},d._setVideoControlsTarget=function(){this.videoControls=i.querySelector(this.videoControlsQuery,this.viewHeroEl),this._memoizeVideoControlsHeight()},d._handleAboveThresholdEnter=function(){this._startHideTimeout()},d._handleBelowThresholdEnter=function(){this._clearHideTimeout(),this._destroyClips(),this._resetClipStyles(),this.showUIElements({force:!0,preventAnimation:!0})},d._resetClipStyles=function(){this._animatedGlobalnavElement&&this._animatedGlobalnavElement.removeAttribute("style"),this.videoControls&&this.videoControls.removeAttribute("style")},d._handleHeroStateVisible=function(a){a=a||{},(!this._heroStateVisible||a.force)&&(this._heroStateVisible=!0,this._handleAboveThresholdEnter(a))},d._handleHeroStateHidden=function(a){a=a||{},(this._heroStateVisible||a.force)&&(this._heroStateVisible=!1,this._handleBelowThresholdEnter())},b.exports=m},{"ac-classlist":21,"ac-dom-emitter":48,"ac-dom-traversal":96,"ac-eclipse":242,"ac-event-emitter":263,"ac-feature":268,"ac-object":358,"ac-viewport":682}],732:[function(a,b,c){"use strict";b.exports='<div class="video-controls-container" role="group" aria-label="video control bar">\n	<div class="left">\n		<input type="button" class="{elementClassPrefix}-play-pause-button {elementClassPrefix}-button" value="{playpause}" aria-label="{playpause}" role="button" tabindex="0">\n\n		<div class="{elementClassPrefix}-time-indicators">\n			<span class="{elementClassPrefix}-elapsed-time" aria-label="elapsed time">00:00</span>\n			<span class="{elementClassPrefix}-time-pipe" aria-hidden="true">|</span>\n			<span class="{elementClassPrefix}-remaining-time" aria-label="remaining time">-00:00</span>\n		</div>\n	</div>\n\n	<div class="center">\n		<div class="{elementClassPrefix}-progress-indicator" aria-label="progress-indicator" role="progressbar" precision="float" min="0" max="{max}" step="auto" value="0" tabindex="0" aria-valuemax="{max}" aria-valuemin="{min}" aria-valuenow="{value}"></div>\n	</div>\n\n	<div class="right" aria-live="polite" role="group">\n		<input type="button" class="{elementClassPrefix}-chapters-button {elementClassPrefix}-button" value="{chapters}" aria-label="toggle chapters menu" role="button" tabindex="0">\n\n		<div class="{elementClassPrefix}-pipe"></div>\n\n		<input type="button" class="{elementClassPrefix}-toggle-mute-volume-button {elementClassPrefix}-button" value="{togglemutevolume}" aria-label="toggle mute volume" role="button" tabindex="0">\n\n		<input type="button" class="{elementClassPrefix}-text-tracks-toggle-button {elementClassPrefix}-button no-text-tracks" value="{textTrackscontrol}" aria-label="text tracks control" role="button" tabindex="0">\n\n		<input type="button" class="{elementClassPrefix}-share-button {elementClassPrefix}-button" value="{share}" aria-label="share" role="button" tabindex="0">\n\n		<input type="button" class="{elementClassPrefix}-full-screen-button {elementClassPrefix}-button fullscreen-unsupported" value="{fullscreen}" aria-label="toggle fullscreen" role="button" tabindex="0">\n	</div>\n</div>\n'},{}],733:[function(a,b,c){"use strict";var d,e=a("ac-mvc-collection").Collection,f=a("ac-object"),g=a("../models/ModelHeroMessage"),h=a("strings"),i=function(a){e.call(this,a)};d=i.prototype=f.create(e.prototype),d.defaultOptions={ModelType:g,models:h.page.states},b.exports=i},{"../models/ModelHeroMessage":740,"ac-mvc-collection":318,"ac-object":358}],734:[function(a,b,c){"use strict";var d,e=a("ac-mvc-collection").Collection,f=a("ac-object"),g=a("ac-mvc-data-provider").DataProvider,h=a("../models/ModelPost"),i=a("../application/SweetSpotManager"),j=a("../../config/data-endpoints-config.json"),k=a("../../config/debug.json"),l=a("../application/PositionManager"),m=a("../application/CommandTileManager"),n=a("../application/QueryStringHelper"),o=a("strings"),p=a("../application/ExpandedStateProxy"),q=function(a){e.call(this,a),a=a||{},this.pageModel=a.pageModel,this._fetchCount=0;var b=j.feed,c=b.host+o.locale.path+b.path;k.DEBUG&&n.getQueryStringParameter("feed")&&(c=n.getQueryStringParameter("feed")),this.dataProvider=new g({url:c}),i.on("update",this._handleSweetSpotUpdate,this),this.dataProvider.on("success",this._onDataProviderSuccess,this),this.once("pending-posts-collection-created",this._bindPendingPostsEvents,this)};d=q.prototype=f.create(e.prototype),d.defaultOptions={ModelType:h},d.fetch=function(a){return this.dataProvider?this.dataProvider.fetch(a):null},d._parseVodData=function(a){var b,c,d,f=[],g=[],i=a.length,j=[];for(b=0;i>b;b++)c=a[b],c._unixTimestamp=new Date(c.get("time")).getTime(),d=c.get("chapter"),"header"!==c.get("type")?(void 0===f[d]&&(f[d]=[]),f[d].push(c)):j[d]=c;var k=function(a,b){return a._unixTimestamp>b._unixTimestamp?1:a._unixTimestamp<b._unixTimestamp?-1:0};for(i=f.length,b=0;i>b;b++)f[b]&&(f[b].sort(k),g=g.concat(f[b]));if(j.length>0){for(this.headerModels||(this.headerModels=new e({ModelType:h})),f=[],i=j.length,b=0;i>b;b++)j[b]&&f.push(j[b]);this.headerModels.set(f)}return this.reversed&&(g=e.prototype.reverse.call({models:g}),this.headerModels.reverse()),g},d.set=function(a,b){if(b=b||{},this._isFeedPostEvent&&this.pendingPosts){var c=this._parseVodData(a);return l.parse(this.getChapters(),c),this.once("set",function(){l.trigger("updated"),this.trigger("chapters-set")}.bind(this)),e.prototype.set.call(this,c,b)}return e.prototype.set.call(this,a,b)},d._onDataProviderSuccess=function(a){if(this._fetchCount++,this.pageModel.set({feedMode:a.data.eventState}),this._isFeedPostEvent=this.pageModel.isFeedPostEvent(),this._isFeedLive=this.pageModel.isFeedLive(),a.data.posts=this._filterPostsData(a.data.posts),this.pendingPosts&&this.pendingPosts.set(a.data.posts,{matchParameter:h.prototype.idAttribute}),this._isFeedPostEvent&&this.dataProvider.clearInterval(),this._isFeedLive){if(this._fetchCount>1&&(i.isBelow()||p.expandedStateOpened))return;if(this.pendingPosts)return void this.set(this.pendingPosts.models)}this.set(this.pendingPosts.models)},d._filterPostsData=function(a){var b=0,c=a.length,d=!1;for(1===this._fetchCount&&(d=!0);c>b;)a[b]&&"command"===a[b].type?(d?m.registerCommand(a[b].uuid):m.handleCommand(a[b]),a.splice(b,1),c--):a[b]&&"header"===a[b].type&&this._isFeedLive?(a.splice(b,1),c--):b++;return a},d.reverse=function(){this.reversed=!this.reversed,e.prototype.reverse.apply(this,arguments),this.headerModels.reverse(),l.parse(this.getChapters(),this.models),this.trigger("set",{models:this.models}),l.trigger("updated")},d._handleSweetSpotUpdate=function(a){i.isAbove()&&this.pendingPosts&&this.pendingPosts.count()>0&&this.set(this.pendingPosts.models)},d._handlePendingPostsModelRemove=function(a){this.pageModel.isFeedPostEvent()&&l.parse(this.getChapters(),this.models);var b,c,d=a.models.length;for(b=0;d>b;b++)c=a.models[b],this.remove(c),c.destroy()},d._bindPendingPostsEvents=function(){this.pendingPosts.on("remove",this._handlePendingPostsModelRemove,this)},d.getChapters=function(){return this.headerModels?this.headerModels.models:[]},b.exports=q},{"../../config/data-endpoints-config.json":693,"../../config/debug.json":694,"../application/CommandTileManager":711,"../application/ExpandedStateProxy":712,"../application/PositionManager":715,"../application/QueryStringHelper":717,"../application/SweetSpotManager":725,"../models/ModelPost":741,"ac-mvc-collection":318,"ac-mvc-data-provider":324,"ac-object":358}],735:[function(a,b,c){"use strict";var d,e=a("./CollectionPosts"),f=a("ac-object"),g=function(a){e.call(this,a)};d=g.prototype=f.create(e.prototype),b.exports=g},{"./CollectionPosts":734,"ac-object":358}],"dust-functions":[function(a,b,c){b.exports=a("FU/0Xb")},{}],"FU/0Xb":[function(a,b,c){"use strict";var d=a("dustjs-helpers"),e=["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],f={link:{find:/\[([^\]]*)\]\((\S*)\)/gi,replace:'<a href="$2" target="_blank">$1</a>'},escape:{find:/(\\\*)/gi,replace:"%%%"},bold:{find:/[*]{2}([^*]*)[*]{2}/gi,replace:"<strong>$1</strong>"},italics:{find:/[*]([^*]*)[*]/gi,replace:"<em>$1</em>"},asterisk:{find:/%%%/gi,replace:"*"}},g=function(a,b,c){var d,e;return 10>b&&(b="0"+b),e=a%12,0===e&&(e=12),"zh-CN"===c?(d=12>a?"上午":"下午",d+" "+e+":"+b):(d=12>a?"a.m.":"p.m.",e+":"+b+" "+d)};d.filters.tweet=function(a){return a=a.replace(/\B#(\w*[a-z]\w*)/gi,'<a href="https://twitter.com/hashtag/$1" class="link-hashtag" target="_blank"><s>#</s><b>$1</b></a>'),a=a.replace(/\B@(\w*[a-z]\w*)/gi,'<a href="https://twitter.com/$1" class="link-mention" target="_blank"><s>@</s><b>$1</b></a>'),a=a.replace(f.link.find,f.link.replace)},d.filters.weibo=function(a){return a=a.replace(/#([^#]+)#/gi,function(a,b){var c="http://huati.weibo.com/k/"+b.replace(/\s/gi,"+");return'<a href="'+c+'" class="link-hashtag" target="_blank"><s>#</s><b>'+b+"</b><s>#</s></a>"}),a=a.replace(/\B@([a-z0-9\u4e00-\u9eff]+)/gi,'<a href="http://www.weibo.com/n/$1" class="link-mention" target="_blank"><s>@</s><b>$1</b></a>'),a=a.replace(f.link.find,f.link.replace)},d.filters.at=function(a){return a=a.trim(),"@"!==a.charAt(0)&&(a="@"+a),a},d.filters.ok=function(a){return a.replace(/\s+(\S{0,12})$/gi," $1")},d.filters.md=function(a){var b;for(b in f)a=a.replace(f[b].find,f[b].replace);return a},d.filters._uc=d.filters.uc,d.filters.uc=function(a){return a=a.replace(/&amp;/,"&"),d.filters._uc(a)},d.filters.abbreviation=function(a){return a.slice(0,2).toLowerCase()},d.helpers.time=function(a,b,c,d){var e,f,h=this.tap(d.timestamp,a,b),i=d.locale?this.tap(d.locale,a,b):!1,j=d.offset?parseInt(this.tap(d.offset,a,b),10):!1,k=new Date(h);return j?(k.setTime(k.getTime()+j),e=k.getUTCHours(),f=k.getUTCMinutes()):(e=k.getHours(),f=k.getMinutes()),a.write(g(e,f,i))},d.helpers.date=function(a,b,c,d){var f,g=parseInt(this.tap(d.offset,a,b),10),h=this.tap(d.timestamp,a,b),i=new Date(h);return i.setTime(i.getTime()+g),f=e[i.getUTCMonth()],i=i.getUTCDate(),a.write(f+" "+i)},d.helpers.email=function(a,b,c,e){var f;return e&&e.cid&&(f="?cid="+this.tap(e.cid,a,b)),a.tap(function(a){var c=/(?:\{%.[^\{\}]+%\})/g,e=a.match(c);return e&&e.forEach(function(c){var d=c.replace(/\{%|%\}/g,""),e=b.get(d)||"";"url"==d&&f&&(e+=f),a=a.replace(c,e)}),d.filters.uc(a)}).render(c.block,b).untap()},b.exports=d},{"dustjs-helpers":"l4G/EW"}],738:[function(a,b,c){"use strict";function d(a){a=a||{},e.call(this,a)}var e=a("ac-mvc-model").Model,f=a("ac-object"),g=d.prototype=f.create(e.prototype);g.defaultAttributes={theme:"default",heroConfigPollingInterval:6e4,feedMode:"",feedEnabled:!0,postsPollingInterval:2e4},g.isFeedPostEvent=function(){return"post"===this.get("feedMode")},g.isFeedLive=function(){return"live"===this.get("feedMode")},b.exports=d},{"ac-mvc-model":330,"ac-object":358
}],739:[function(a,b,c){"use strict";function d(a){e.call(this,a);var b=h.hero,c=b.host+b.path+"url.json";this.dataProvider=new g({url:c}),this.dataProvider.on("success",this._onDataProviderSuccess,this)}var e=a("ac-mvc-model").Model,f=a("../application/QueryStringHelper"),g=a("ac-mvc-data-provider").DataProvider,h=a("../../config/data-endpoints-config.json"),i=a("../../config/debug.json"),j=a("ac-object"),k=d.prototype=j.create(e.prototype);k.defaultAttributes={state:"error",videoSrc:{hls:null,nonhls:null},videoCC:null},k._onDataProviderSuccess=function(a){this.isSupportedState(a.data.state)||(a.data.state=this.defaultAttributes.state),this.set(a.data),"vod"===this.get("state")&&this.dataProvider.clearInterval()},k.fetch=function(a){if(i.DEBUG&&f.getQueryStringParameter("state")){var b=f.getQueryStringParameter("state"),c={state:b};return i.states[b]&&(c=i.states[b]),this._onDataProviderSuccess({data:c}),Promise.resolve()}return this.dataProvider?this.dataProvider.fetch(a):Promise.reject()},k.isSupportedState=function(a){var b=["before","pending","live","vod","error","unsupported","event","full"];return b.indexOf(a)>-1},b.exports=d},{"../../config/data-endpoints-config.json":693,"../../config/debug.json":694,"../application/QueryStringHelper":717,"ac-mvc-data-provider":324,"ac-mvc-model":330,"ac-object":358}],740:[function(a,b,c){"use strict";function d(a){e.call(this,a)}var e=a("ac-mvc-model").Model,f=a("ac-object"),g=d.prototype=f.create(e.prototype);g.defaultAttributes={state:"",state_headline:"",state_subhead:""},b.exports=d},{"ac-mvc-model":330,"ac-object":358}],741:[function(a,b,c){"use strict";function d(a){e.call(this,a)}var e=a("ac-mvc-model").Model,f=a("ac-object"),g=d.prototype=f.create(e.prototype);g.defaultAttributes={title:"",type:"text",test:"",active:!1},g.idAttribute="uuid",g.set=function(a){this.get("timestamp")!==a.timestamp&&e.prototype.set.apply(this,arguments)},g.getImageSrc=function(a){return this.get("images")?this.get("images")[a]:void 0},g.getDefault=function(){return this.defaultAttributes},b.exports=d},{"ac-mvc-model":330,"ac-object":358}],742:[function(a,b,c){"use strict";function d(a){e.call(this,a)}var e=a("ac-mvc-model").Model,f=a("strings"),g=a("ac-object"),h=d.prototype=g.create(e.prototype);h.defaultAttributes={share:{links:f.share.links,title:f.share.title,description:f.share.description,tweet:f.share.tweet,images:{share_og:f.share.images.share_og,share_pt:f.share.images.share_pt}}},h.reset=function(){this.set(this.defaultAttributes,{silent:!0})},b.exports=d},{"ac-mvc-model":330,"ac-object":358}],743:[function(a,b,c){"use strict";function d(a){this.router=a}var e=a("ac-router"),f=e.Route,g=a("ac-object"),h=a("ac-viewport").Viewport,i=a("ac-dom-events"),j=a("../../config/viewports.json").viewports,k=a("../models/ModelEventPage"),l=a("../views/ViewEventPage"),m=d.prototype=g.create(f.prototype);m.createRoute=function(a,b){this.path=a,f.call(this,a,b),this.router.add(this)},m.initialize=function(){h.setBreakpoints(j),this.mEventPage=new k,this.vEventPage=new l({model:this.mEventPage}),window.mEventPage=this.mEventPage,window.vEventPage=this.vEventPage,this.vEventPage.render()},m.navigate=function(a){this.router.navigate(a.path)},m.isPopstateSupported=function(){return"onpopstate"in window},m.addPopstateHandler=function(){this.isPopstateSupported()?i.addEventListener(window,"popstate",this.onHandlePopstate.bind(this)):i.addEventListener(window,"hashchange",this.onHandlePopstate.bind(this))},m.matchPath=function(a){return this.router.history.fragment()===a},m.onHandlePopstate=function(){},b.exports=d},{"../../config/viewports.json":699,"../models/ModelEventPage":738,"../views/ViewEventPage":749,"ac-dom-events":54,"ac-object":358,"ac-router":382,"ac-viewport":682}],744:[function(a,b,c){"use strict";function d(a){e.call(this,a),this.createRoute(":id",this.displayPost)}var e=a("./RouteBase"),f=a("ac-object"),g=a("../application/RouteManager"),h=d.prototype=f.create(e.prototype);h.displayPost=function(a){g.initialized||(g.initialized=!0,e.prototype.initialize.call(this),g.postID=a)},b.exports=d},{"../application/RouteManager":720,"./RouteBase":743,"ac-object":358}],745:[function(a,b,c){"use strict";function d(a){e.call(this,a),this.createRoute("/",this.initializeApp),h.on("update-route",this.navigate.bind(this))}var e=a("./RouteBase"),f=a("ac-object"),g=a("../application/ExpandedStateProxy"),h=a("../application/RouteManager"),i=d.prototype=f.create(e.prototype);i.initializeApp=function(){h.initialized||(h.initialized=!0,this.addPopstateHandler(),e.prototype.initialize.call(this))},i.onHandlePopstate=function(){g.expandedStateOpened&&this.matchPath("/")&&g.trigger("close-expanded-state")},b.exports=d},{"../application/ExpandedStateProxy":712,"../application/RouteManager":720,"./RouteBase":743,"ac-object":358}],746:[function(a,b,c){"use strict";var d,e=a("./ViewDust"),f=(a("../application/ChaptersManager"),a("ac-dom-traversal"),a("ac-object")),g=function(a){e.call(this,a)};d=g.prototype=f.create(e.prototype),d.template="template-chapter",d.tagName="li",d.className="chapter",d.render=function(a,b){return void 0!==this.model.get("chapter")&&this.el.setAttribute("data-chapter",this.model.get("chapter")),e.prototype.render.call(this,a,b)},b.exports=g},{"../application/ChaptersManager":710,"./ViewDust":748,"ac-dom-traversal":96,"ac-object":358}],747:[function(a,b,c){"use strict";var d,e=a("./ViewDust"),f=a("./ViewChapter"),g=a("ac-object"),h=a("ac-dom-traversal"),i=a("ac-classlist"),j=(a("templates"),function(a){e.call(this,a),this.chapters=a.chapters,this.subView=[]});d=j.prototype=g.create(e.prototype),d.template="template-chapters",d.tagName="nav",d.className="chapternav",d._onRender=function(a,b,c,d){var f,g=this.chapters.length;for(f=0;g>f;f++)d?this.chapters[f].get("timecode")&&this._createChapter(f):this._createChapter(f);e.prototype._onRender.call(this,a,b,c)},d.destroy=function(){var a;for(a in this.subView)this.subView.hasOwnProperty(a)&&this.subView[a].destroy();e.prototype.destroy.call(this)},d._createChapter=function(a){var b=new f({model:this.chapters[a]});this._renderChapter(b)},d._renderChapter=function(a){a.render().then(this._appendChapterViewToDOM.bind(this,a)),a.on("click",this._onChapterClicked.bind(this,a)),this.subView.push(a)},d._appendChapterViewToDOM=function(a){h.querySelector("ul",this.el).appendChild(a.el)},d.highlightChapter=function(a){this._currentChapterElement&&i.remove(this._currentChapterElement,"current"),i.add(a,"current"),this._currentChapterElement=a},d._onChapterClicked=function(a,b){b.preventDefault()},b.exports=j},{"./ViewChapter":746,"./ViewDust":748,"ac-classlist":21,"ac-dom-traversal":96,"ac-object":358,templates:"dt6s00"}],748:[function(a,b,c){"use strict";var d,e=a("ac-object"),f=a("ac-mvc-view").View,g=a("templates"),h=a("../analytics/analytics"),i=a("../application/AnimationHelper"),j=a("strings"),k=function(a){f.call(this,a),this._boundOnRender=this._onRender.bind(this,{}),this._boundPromiseExecutor=this._renderPromiseExecutor.bind(this)};d=k.prototype=e.create(f.prototype),d.analyticsType="post",d._onRender=function(a,b,c){return b?void this.renderPromiseReject(b):(this.el.innerHTML=c,this.renderPromiseResolve(c),void(a.silent||this.emitterTrigger("render",{string:c,el:this.el})))},d._renderPromiseExecutor=function(a,b){this.renderPromiseResolve=a,this.renderPromiseReject=b},d.fadeIn=function(a,b){i.fadeIn(this.el,a,b)},d.fadeOut=function(a,b,c){i.fadeOut(this.el,a,function(){c||this.destroy(),b&&b()}.bind(this))},d.slideDown=function(a,b,c){i.slideDown(this.el,a,b,c)},d.slideUp=function(a,b,c){i.slideUp(this.el,a,function(){c||this.destroy(),b&&b()}.bind(this))},d.render=function(a,b){if(this.template){a||(a={},this.model&&(a=this.model.attributes)),a.strings||(a.strings=j);var c=this._boundOnRender,d=new Promise(this._boundPromiseExecutor);return b&&(c=this._onRender.bind(this,b)),g.render(this.template,a,c),d}},d.analyticsObserver=function(){return h?h.analyticsObserver.bind(h):void 0}(),b.exports=k},{"../analytics/analytics":703,"../application/AnimationHelper":706,"ac-mvc-view":355,"ac-object":358,templates:"dt6s00"}],749:[function(a,b,c){"use strict";var d,e=a("./ViewDust"),f=a("ac-object"),g=a("ac-classlist"),h=(a("templates"),a("./ViewPosts")),i=a("./ViewHeaders"),j=a("./ViewHero"),k=a("ac-dom-traversal"),l=a("ac-dom-nodes"),m=a("../application/ChaptersManager"),n=a("../collections/CollectionPosts"),o=a("../models/ModelHero"),p=a("../collections/PendingCollectionPosts"),q=a("../application/RouteManager"),r=function(a){e.call(this,a),this.cPosts=new n({pageModel:this.model}),this.cPosts.pendingPosts=new p({pageModel:this.model}),this.cPosts.trigger("pending-posts-collection-created"),this.vPosts=new h({collection:this.cPosts,model:this.model}),this.vHero=null,this._bindEvents()};d=r.prototype=f.create(e.prototype),d.render=function(a,b){e.prototype.render.call(this,a,b),this.setTheme(),this.renderHero().then(function(){this.model.get("feedEnabled")&&this.renderPosts(),this.vHero.emitterTrigger("hero-rendered")}.bind(this))},d._bindEvents=function(){this.model&&this.model.on("change:theme",this.setTheme,this),this.cPosts.once("set",this.collectionReady,this),this.cPosts.on("chapters-set",this._onChaptersSet,this),window.addEventListener("pageshow",this._onPageShow)},d._onPageShow=function(a){a.persisted&&window.location.reload()},d.renderHero=function(){var a=new o;this.vHero=new j({model:a,mEventPage:this.model,cPosts:this.cPosts});var b,c={interval:this.model.get("heroConfigPollingInterval")};return b=a.fetch(c).then(function(){return this.vHero.render()}.bind(this),function(){return this.vHero.render()}.bind(this)).then(function(){this._onViewHeroRendered(this.vHero)}.bind(this))},d._onViewHeroRendered=function(a){var b=k.querySelector("main");b.appendChild(this.vHero.el),this.vHero.trigger("appended")},d.renderPosts=function(){var a=k.querySelector("main");this.vPosts.render().then(function(){a.appendChild(this.vPosts.el),this.vPosts.emitterTrigger("appended"),this.emitterTrigger("render-posts"),this.cPosts.fetch({interval:this.model.get("postsPollingInterval")})}.bind(this))},d._onChaptersSet=function(){var a=this.cPosts.getChapters();a.length>0&&m.init(a).trigger("chaptersModelsReady",a),this.createHeaders()},d.createHeaders=function(){this.vHeaders=new i({collection:this.cPosts,model:this.model}),this.vHeaders.render().then(function(){l.insertBefore(this.vHeaders.el,this.vPosts.el)}.bind(this))},d.collectionReady=function(){q.postID&&this.vPosts.loadPostById(q.postID)},d.setTheme=function(){if(this.model.get("theme")){var a=k.querySelector("body"),b=a.className.match(/^theme-.*$/);b&&g.remove(a,b),g.add(a,"theme-"+this.model.get("theme"))}},b.exports=r},{"../application/ChaptersManager":710,"../application/RouteManager":720,"../collections/CollectionPosts":734,"../collections/PendingCollectionPosts":735,"../models/ModelHero":739,"./ViewDust":748,"./ViewHeaders":752,"./ViewHero":753,"./ViewPosts":774,"ac-classlist":21,"ac-dom-nodes":62,"ac-dom-traversal":96,"ac-object":358,templates:"dt6s00"}],750:[function(a,b,c){"use strict";var d,e=a("./ViewDust"),f=a("./ViewNotificationsBadge"),g=a("./ViewExploreBarChapters"),h=a("../application/ChaptersManager"),i=a("ac-object"),j=(a("templates"),a("../application/HeroVideoPlayerMessageProxy")),k=a("ac-dom-traversal"),l=a("../application/ExpandedStateProxy"),m=a("../application/SmoothScroll"),n=a("ac-classlist"),o=function(a){e.call(this,a),this.cPosts=a.cPosts,this._bindEvents(),this.analyticsObserver&&this.analyticsObserver(this)};d=o.prototype=i.create(e.prototype),d.analyticsType="explore-bar",d.defaultOptions={events:{"click : .video-control":"_onVideoMiniControlClicked","click : .explore-trigger":"toggleChapters","click : .video-title":"scrollToTop"}},d.template="template-explore-bar",d.tagName="aside",d.className="explore-bar paused",o.CHAPTER_NAV_SLIDE_DURATION=.2,d._onVideoMiniControlClicked=function(a){a.preventDefault();var b=n.contains(this.el,"paused");j.trigger("hero-video-mini-controls-clicked",{isPaused:b}),this.emitterTrigger("mini-control-clicked",b?"play":"pause")},d.scrollToTop=function(a){l.trigger("video-title-clicked",a),a.preventDefault();var b=0,c=.2;l.expandedStateOpened?l.once("expanded-state-closed",function(){m.scrollTo(b,c)}):m.scrollTo(b,c)},d._onMiniVideoControlsToggle=function(a){a.isPaused?n.add(this.el,"paused"):n.remove(this.el,"paused")},d._bindEvents=function(){j.on("hero-video-mini-controls-toggle",this._onMiniVideoControlsToggle,this),h.once("chaptersModelsReady",this._setChaptersModels,this)},d._onRender=function(a,b,c){e.prototype._onRender.call(this,a,b,c),this.renderNotificationsBadge()},d.renderNotificationsBadge=function(){if(this.model.isFeedLive()){var a=new f({cPosts:this.cPosts});return a.on("render",function(){var b=k.querySelector(".explore-menu",this.el);b.appendChild(a.el)}.bind(this)),a.render(),a}},d.destroy=function(){this.model.off(),j.off("hero-video-mini-controls-toggle",this._onMiniVideoControlsToggle,this),e.prototype.destroy.call(this)},d._setChaptersModels=function(a){this.chapterModels=a.slice(0)},d.renderChapters=function(){this.model.isFeedPostEvent()&&(this.vChapters=new g({cPosts:this.cPosts,chapters:this.chapterModels}),this.vChapters.render().then(function(){this.el.appendChild(this.vChapters.el),this.vChapters.slideDown(o.CHAPTER_NAV_SLIDE_DURATION,this.vChapters.getChapterHeight()+"px")}.bind(this)))},d.toggleChapters=function(a){a.preventDefault();var b="show-explorebar-chapternav",c=document.body;this.chapterModels&&(this.vChapters?(l.trigger("chapternav-closed"),n.remove(c,b),this.vChapters.slideUp(.2,function(){this.vChapters=null}.bind(this))):(l.trigger("chapternav-opened"),n.add(c,b),this.renderChapters()))},b.exports=o},{"../application/ChaptersManager":710,"../application/ExpandedStateProxy":712,"../application/HeroVideoPlayerMessageProxy":714,"../application/SmoothScroll":723,"./ViewDust":748,"./ViewExploreBarChapters":751,"./ViewNotificationsBadge":759,"ac-classlist":21,"ac-dom-traversal":96,"ac-object":358,templates:"dt6s00"}],751:[function(a,b,c){"use strict";var d,e=a("./ViewChapters"),f=a("./ViewChapter"),g=a("../application/ChaptersManager"),h=a("../application/SweetSpotManager"),i=a("../models/ModelPost"),j=a("ac-object"),k=a("ac-classlist"),l=a("ac-viewport").Viewport,m=(a("../../config/explorebar-sizes.json")["bar-heights"],a("../../config/explorebar-sizes.json")["explore-chapter"]),n=a("../application/ExpandedStateProxy"),o=a("../application/SmoothScroll"),p=a("../application/PositionManager"),q=.2,r=function(a){this.cPosts=a.cPosts,this._boundSmoothScrollComplete=this._onSmoothScrollComplete.bind(this),e.call(this,a),this.analyticsObserver&&this.analyticsObserver(this)};d=r.prototype=j.create(e.prototype),d.template="template-chapters",d.tagName="nav",d.className="chapternav",d.analyticsType="explore-bar-chapter-nav",d._onRender=function(a,b,c){e.prototype._onRender.call(this,a,b,c),this.renderSort(),"number"==typeof p.currentChapter&&this.higlightCurrentChapter(p.currentChapter),p.on("highlight-chapter",this.higlightCurrentChapter,this),g.on("sort-posts",this.cPosts.reverse,this.cPosts)},d.destroy=function(){p.off("highlight-chapter",this.higlightCurrentChapter,this),g.off("sort-posts",this.cPosts.reverse,this.cPosts),e.prototype.destroy.call(this)},d.renderSort=function(){var a=new i({headline:"Order"}),b=new f({model:a,className:"sort"});this._renderChapter(b)},d.getChapterHeight=function(){var a=l.getBreakpoint().name;return m[a].height},d.postsThreshold=function(){return h.getPostsTopOffset()},d._onSortClick=function(a){g.trigger("sort-posts"),k.contains(a,"desc")?(k.remove(a,"desc"),this._goToChapter(this.subView[0].el)):(k.add(a,"desc"),this._goToChapter(this.subView[this.subView.length-2].el))},d._onChapterClicked=function(a,b){e.prototype._onChapterClicked.call(this,a,b),n.trigger("chapternav-clicked",b);var c=n.expandedStateOpened?300:0;setTimeout(function(){this._clickHandler(a,b)}.bind(this),c)},d._clickHandler=function(a,b){this.clicked=!0,k.contains(b.currentTarget,"sort")?this._onSortClick(b.currentTarget):(this._goToChapter(b.currentTarget),this.emitterTrigger("chapter-nav-clicked",a.model.get("headline")))},d._goToChapter=function(a){this.ChapterNumber=parseInt(a.getAttribute("data-chapter"),10),this.highlightChapter(a),this.scrollToChapter(a)},d.scrollToChapter=function(a){var b=l.getBreakpoint().name,c=a.getAttribute("data-chapter"),d=p.getHeaderTop(b,c),e=d+this.postsThreshold();n.expandedStateOpened?n.once("expanded-state-closed",function(){o.scrollTo(e,q)}):o.scrollTo(e,q,this._boundSmoothScrollComplete)},d._onSmoothScrollComplete=function(){setTimeout(function(){this.clicked=!1,p.currentChapter=this.ChapterNumber}.bind(this),300)},d.higlightCurrentChapter=function(a){if(!this.clicked){var b=0,c=this.subView.length;for(b;c>b;b++)parseInt(this.subView[b].el.getAttribute("data-chapter"),10)===a&&this.highlightChapter(this.subView[b].el)}},b.exports=r},{"../../config/explorebar-sizes.json":695,"../application/ChaptersManager":710,"../application/ExpandedStateProxy":712,"../application/PositionManager":715,"../application/SmoothScroll":723,"../application/SweetSpotManager":725,"../models/ModelPost":741,"./ViewChapter":746,"./ViewChapters":747,"ac-classlist":21,"ac-object":358,"ac-viewport":682}],752:[function(a,b,c){"use strict";var d,e=a("./ViewDust"),f=a("ac-object"),g=a("./ViewPostFactory"),h=a("../application/PositionManager"),i=a("ac-viewport").Viewport,j=a("../../config/explorebar-sizes.json"),k=j["bar-heights"],l=j["explore-chapter"],m=function(a){e.call(this,a),a.collection&&(this.collection=a.collection),this.views=[],this._boundOnScrollAnimationFrame=this._onScrollAnimationFrame.bind(this),this.breakpoint=i.getBreakpoint().name,this._setScrollOffSet(),this._bindEvents()};d=m.prototype=f.create(e.prototype),d.className="headers",d.template="template-posts",d._onRender=function(a,b,c){this._addHeaders(this.collection),e.prototype._onRender.call(this,a,b,c),this.el.setAttribute("aria-hidden",!0)},d._addHeaders=function(a){var b,c,d,e=this.collection.getChapters(),f=e.length,g=function(a){this.el.appendChild(a.el)};for(b=0;f>b;b++)c=e[b],d=this.createPost(c),d.once("render",g.bind(this,d)),this.views[b]=d;this._positionHeader(),this.updateCurrentChapter()},d._onSetPosition=function(a){this._positionHeader(),this.updateCurrentChapter()},d._handleBreakpoint=function(a){this._positionHeader()},d._positionHeader=function(){this.breakpoint=i.getBreakpoint().name;var a,b,c,d,e=this.views.length;for(a=0;e>a;a++)c=this.views[a],b=c.model,d=h.getHeaderTop(this.breakpoint,b.get("chapter")),c.setPosition(d,"0",!1,!1,0,this.breakpoint);this._setScrollOffSet()},d.createPost=function(a){var b=g.create({model:a});return b.render().then(this._appendViewToDOM.bind(this,b)),b},d._appendViewToDOM=function(a){this.el.appendChild(a.el)},d._bindEvents=function(){i.on("breakpoint",this._handleBreakpoint,this),i.on("scroll",this._handleScroll,this),h.on("updated",this._onSetPosition,this)},d._handleScroll=function(){this._animationFrame||(this._animationFrame=window.requestAnimationFrame(this._boundOnScrollAnimationFrame))},d._onScrollAnimationFrame=function(){this.updateCurrentChapter(),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},d._setScrollOffSet=function(){var a=5;this._scrollOffSet=k[this.breakpoint].height+l[this.breakpoint].height+a},d.updateCurrentChapter=function(){var a=0,b=this.views.length;this.collection.reversed?this._loopFoward(a,b):(a=b-1,b=-1,this._loopBackward(a,b))},d._loopFoward=function(a,b){for(a;b>a;a++)if(this.views[a].el.getBoundingClientRect().top<=this._scrollOffSet){this.calculateCurrentChapter(a);break}},d._loopBackward=function(a,b){for(a;a>b;a--)if(this.views[a].el.getBoundingClientRect().top<=this._scrollOffSet){this.calculateCurrentChapter(a);break}},d.calculateCurrentChapter=function(a){this.currentIndex!==a&&(h.currentChapter=this.views[a].model.get("chapter"),h.trigger("highlight-chapter",h.currentChapter),this.currentIndex=a)},b.exports=m},{"../../config/explorebar-sizes.json":695,"../application/PositionManager":715,"./ViewDust":748,"./ViewPostFactory":765,"ac-object":358,"ac-viewport":682}],753:[function(a,b,c){"use strict";var d,e=a("./ViewDust"),f=a("ac-object"),g=(a("templates"),a("../models/ModelHeroMessage"),a("./ViewHeroVOD")),h=a("./ViewHeroLive"),i=a("./ViewHeroMessage"),j=a("./ViewHeroTouch"),k=a("ac-viewport").Viewport,l=a("./ViewExploreBar"),m=a("ac-dom-nodes"),n=a("ac-classlist"),o=a("../../config/explorebar-sizes.json")["bar-heights"],p=a("../application/AnimationTypeSelector"),q=a("../application/VideoUIAnimationManager"),r=a("../application/VideoPlayerTypeSelector"),s=a("../application/HeroSizesHelper"),t=a("ac-dom-traversal"),u=(a("ac-feature"),a("ac-browser")),v=function(a){this.mEventPage=a.mEventPage,e.call(this,a);var b=t.querySelector(".globalheader-container"),c=".ac-video-controls";this.videoUIAnimationManager=new q({globalnav:b,videoControlsQuery:c,viewHeroEl:this.el,hoverableElements:[{el:this.el,delegateQuery:".ac-video-media-controller",options:{canTimeout:!0}},{el:this.el,delegateQuery:c},{el:b}]}),this.cPosts=a.cPosts,this.heroIsVisible=!0,this.userClickedToPlayVideo=!1,this.analyticsObserver&&this.analyticsObserver(this),this._bindEvents()};d=v.prototype=f.create(e.prototype),d.tagName="section",d.className="section-hero no-hero-mode-video",d.analyticsType="hero",d._bindEvents=function(){this.mEventPage.on("change:feedMode",this.renderExploreBar,this),this.on("hero-visibility-changed",this._onHeroVisibilityChange,this),this.once("appended",this.videoUIAnimationManager.initialize,this.videoUIAnimationManager),this.on("hero-mode-video-css-set",this.videoUIAnimationManager.initialize,this.videoUIAnimationManager),k.on("scroll",this._spyOnHeroVisibility,this),k.on("breakpoint",this._spyOnHeroVisibility,this)},d._spyOnHeroVisibility=function(){var a=k.getBreakpoint().name,b=o[a].height,c=s.getHeight(a)-b;k.scrollY()>c&&this.heroIsVisible&&(this.trigger("hero-visibility-changed",{state:"hidden"}),this.heroIsVisible=!1),k.scrollY()<c&&!this.heroIsVisible&&(this.trigger("hero-visibility-changed",{state:"visible"}),this.heroIsVisible=!0)},d.render=function(a,b){return this.model&&this.model.on("change",this.render,this),"video"===p.getAnimationType()&&n.add(this.el,"video-animations-active"),this.loadMode().then(function(b){return m.insertFirstChild(this.subView.el,this.el),e.prototype.render.call(this,a,b)}.bind(this,b))},d.loadMode=function(){var a=this.model.get("state");return this.setDataState(a),this.subView&&(this.subView.destroy(),this.subView=null),this.subView=this.getSubView(a),this.subView.on("hero-state-overwritten",this._onDataStateOverwritten,this),this.subView.render()},d._onDataStateOverwritten=function(a){this.setDataState(a.data.state)},d.setDataState=function(a){this.el.setAttribute("data-state",a),s.setState(a)},d.getSubView=function(a){var b={model:this.model,parentEl:this.el};return"live"===a&&this.canPlayLiveStream()&&this.canImmediatelyPlayVideo()?new h(b):"live"!==a&&"vod"!==a||this.canImmediatelyPlayVideo()?"live"!==a||this.canPlayLiveStream()?"vod"!==a||r.supportsHLS()||this.model.get("videoSrc").nonhls?"vod"===a?new g(b):(b.state=a,new i(b)):(b.state="pending",new i(b)):(b.state="unsupported",new i(b)):(b.state=a,new j(b))},d.canPlayLiveStream=function(){var a=u.name.toLowerCase();return a.match(/safari/)?!0:!1},d.canImmediatelyPlayVideo=function(){var a=u.os.toLowerCase();return a.match(/ios/)?!1:!0},d.renderExploreBar=function(){return this.vExploreBar&&(this.vExploreBar.destroy(),this.vExploreBar=null),this.vExploreBar=new l({model:this.mEventPage,cPosts:this.cPosts}),this.vExploreBar.on("render",function(){this.el.appendChild(this.vExploreBar.el)}.bind(this)),this.vExploreBar.render(),l},d._onHeroVisibilityChange=function(a){var b=a.data.state,c="mini-controls-enabled";"visible"===b&&(n.remove(this.el,c),this.videoUIAnimationManager.trigger("hero-state-visible")),"hidden"===b&&(n.add(this.el,c),this.videoUIAnimationManager.trigger("hero-state-hidden")),this.subView&&this.subView.trigger("hero-state-changed",{state:b})},d.destroy=function(){this.subView&&(this.subView.off("hero-state-overwritten",this._onDataStateOverwritten,this),this.subView.destroy()),this.videoUIAnimationManager.destroy(),e.prototype.destroy.call(this)},b.exports=v},{"../../config/explorebar-sizes.json":695,"../application/AnimationTypeSelector":707,"../application/HeroSizesHelper":713,"../application/VideoPlayerTypeSelector":729,"../application/VideoUIAnimationManager":731,"../models/ModelHeroMessage":740,"./ViewDust":748,"./ViewExploreBar":750,"./ViewHeroLive":754,"./ViewHeroMessage":755,"./ViewHeroTouch":756,"./ViewHeroVOD":757,"ac-browser":17,"ac-classlist":21,"ac-dom-nodes":62,"ac-dom-traversal":96,"ac-feature":268,"ac-object":358,"ac-viewport":682,templates:"dt6s00"}],754:[function(a,b,c){"use strict";var d,e=a("./ViewHeroVideo"),f=a("ac-object"),g=function(a){a.controlbarTheme="theme-hero-live",e.call(this,a)};d=g.prototype=f.create(e.prototype),d.className="video-container",d.template="template-hero-live",b.exports=g},{"./ViewHeroVideo":758,"ac-object":358}],755:[function(a,b,c){"use strict";var d=a("./ViewDust"),e=a("ac-object"),f=a("../collections/CollectionHeroMessages"),g=function(a){d.call(this,a);var b=new f,c=a.state;this.messageModel=b.find({state:c},1)[0]},h=g.prototype=e.create(d.prototype);h.render=function(a,b){return!a&&this.messageModel&&(a=this.messageModel.attributes),this.trigger("hero-state-overwritten",{state:this.options.state}),d.prototype.render.call(this,a,b)},h.template="template-hero-message",h.className="hero-message",b.exports=g},{"../collections/CollectionHeroMessages":733,"./ViewDust":748,"ac-object":358}],756:[function(a,b,c){"use strict";var d=a("./ViewHeroVideo"),e=a("ac-object"),f=a("ac-classlist"),g=a("../collections/CollectionHeroMessages"),h=function(a){d.call(this,a);var b=new g,c=a.state;this.messageModel=b.find({state:c},1)[0]},i=h.prototype=e.create(d.prototype);i.template="template-hero-touch",i.className="hero-touch",i.heroTouchCssClass="hero-touch-mode",i.defaultOptions={events:{"click : .play-video":"playVideo"}},i.render=function(a,b){return!a&&this.messageModel&&(a=this.messageModel.attributes),this.trigger("hero-state-overwritten",{state:this.options.state}),d.prototype.render.call(this,a,b)},i._onRender=function(a,b,c){d.prototype._onRender.call(this,a,b,c),f.add(this._parentEl,this.heroTouchCssClass)},i.playVideo=function(a){a.preventDefault(),this.player.play()},i.destroy=function(){f.remove(this._parentEl,this.heroTouchCssClass),d.prototype.destroy.call(this)},i.getTextTrackSrc=function(){var a=this.model.get("videoSrc"),b=this.model.get("state");return"vod"===b?a.hls:null},b.exports=h},{"../collections/CollectionHeroMessages":733,"./ViewHeroVideo":758,"ac-classlist":21,"ac-object":358}],757:[function(a,b,c){"use strict";var d,e=a("./ViewHeroVideo"),f=a("./ViewVideoChapters"),g=(a("./ViewVideoControlbar"),a("../application/ChaptersManager")),h=a("ac-dom-traversal"),i=a("ac-object"),j=a("ac-classlist"),k=a("ac-browser"),l=function(a){e.call(this,a)};d=l.prototype=i.create(e.prototype),d.className="video-container",d.template="template-hero-vod",d.renderChapters=function(a){this.vChapters=new f({chapters:a,player:this.player}),this.vChapters.render().then(function(){this._appendChapterNav()}.bind(this))},d._appendChapterNav=function(){var a=h.querySelector(".controls-pipe",this.el),b=h.querySelector(".right",this.el);h.querySelector(".controls-chapters-button",this.el);b.insertBefore(this.vChapters.el,a),this.vChapters.fadeIn(.2,this._moveVoiceOverChapterMenuFocus)},d._moveVoiceOverChapterMenuFocus=function(){var a=h.querySelector(".chapter",this.el).firstElementChild;a.focus(),j.add(a,"no-outline")},d._setChaptersModels=function(a){this.chapterModels=a},d._onToggleVideoChapters=function(a){this.chapterModels&&(this.vChapters?this._removeChapters():(this.vVideoControlbar.removeShareSheet(),this.renderChapters(this.chapterModels,a)))},d.getTextTrackSrc=function(){var a=this.model.get("videoCC");return a&&this.needTextTrackVTT()?a:null},d.needTextTrackVTT=function(){var a=k.name.toLowerCase(),b=["chrome"];return b.indexOf(a)>-1},d._removeChapters=function(){this.vChapters&&this.vChapters.fadeOut(.2,function(){this.vChapters=null}.bind(this))},d._bindEvents=function(){g.once("chaptersModelsReady",this._setChaptersModels,this),g.on("toggle-video-chapters",this._onToggleVideoChapters,this),g.on("remove-video-chapters",this._removeChapters,this),e.prototype._bindEvents.call(this)},d.destroy=function(){g.off(),e.prototype.destroy.call(this)},b.exports=l},{"../application/ChaptersManager":710,"./ViewHeroVideo":758,"./ViewVideoChapters":775,"./ViewVideoControlbar":776,"ac-browser":17,"ac-classlist":21,"ac-dom-traversal":96,"ac-object":358}],758:[function(a,b,c){"use strict";var d,e=a("./ViewDust"),f=a("ac-object"),g=a("ac-classlist"),h=a("ac-video").Player,i=a("ac-dom-traversal"),j=a("../application/VideoCreationHelper"),k=a("../application/HeroVideoPlayerMessageProxy"),l=a("../application/VideoPlayerTypeSelector"),m=a("ac-browser"),n=a("ac-feature"),o=a("../application/QueryStringHelper"),p=a("../application/QuicktimeVideoHelper"),q=function(a){e.call(this,a),this.options=a,this._parentEl=a.parentEl,this._boundOnReadyStateChange=this._onReadyStateChange.bind(this),this._readyStateEvent=h.CANPLAY,"windows"===m.os.toLowerCase()&&(this._readyStateEvent=h.CANPLAYTHROUGH)};d=q.prototype=f.create(e.prototype),d.videoHeroCSSClass="hero-mode-video",d.videoHeroCSSSetEvent="hero-mode-video-css-set",d.createPlayer=function(){if(!this.player){var a=this.getTextTrackSrc();this.player=j.createPlayer();var b=new p(this.el,this.player);b.renderVideoOffScreen(),a?this.player.addTextTrackFromRemoteVTT({src:a,mode:"hidden",label:"English",srclang:"en"}):this.player.on("addtrack",function(a){this.player.getTextTracks().at(0).set({mode:"hidden"})},this),this.vVideoControlbar=j.createControlBar({model:this.model,controlbarTheme:this.options.controlbarTheme})}},d._onRender=function(a,b,c){return b?void this.renderPromiseReject(b):(this.el.innerHTML=c,l.shouldUseDelayedQuicktimeSetup()?void setTimeout(function(){this._appendPlayerComponents(),setTimeout(function(){this._resolveOnRenderPromise(a,c),this._setPlayerSrc()}.bind(this),l.getQTVideoSrcSetDelay())}.bind(this),l.getQTVideoSetupDelay()):(this._appendPlayerComponents(),this._resolveOnRenderPromise(a,c),void this._setPlayerSrc()))},d._resolveOnRenderPromise=function(a,b){this.renderPromiseResolve(b),a.silent||this.emitterTrigger("render",{string:b,el:this.el})},d._appendPlayerComponents=function(){this.createPlayer();var a=i.querySelector(".hero-video-content",this.el);this.vVideoControlbar&&(this.player.controls=this.vVideoControlbar.getPlayerControls(this.player,a),this.player.el.appendChild(this.player.controls.el),this.vVideoControlbar.bindControlbarButtonEvents()),this._bindEvents(),this._playOnceReady(),a.appendChild(this.player.el)},d._setPlayerSrc=function(){this.player.setSrc(this.getVideoSrc())},d._bindEvents=function(){this.player.on("pause",this._triggerMiniControlToggle,this),this.player.on("play",this._triggerMiniControlToggle,this),k.on("hero-video-mini-controls-clicked",this._onMiniControlsClicked,this);var a=m.os.toLowerCase();n.isHandheld()&&a.match(/ios/)?(this.player.on("play",this._addHeroCssClass,this),this.player.on("exitfullscreen",this._onExitFullscreen,this)):this.player.once("play",this._addHeroCssClass,this),n.isTablet()&&(this.heroVideoElement=i.querySelector("video",this.player.el),this.on("hero-state-changed",this._toggleNativeControls,this))},d.getVideoSrc=function(){var a=this.model.get("videoSrc"),b="nonhls";return l.supportsHLS()&&(b="hls"),a[b]},d.getTextTrackSrc=function(){return null},d._playOnceReady=function(){this.player.on("readystatechange",this._boundOnReadyStateChange);
},d._onReadyStateChange=function(a){if(a.readyState>=this._readyStateEvent){var b=o.getQueryStringParameter("timecode");this.player.play(),b&&this.player.setCurrentTime(b),this.player.off("readystatechange",this._boundOnReadyStateChange)}},d._toggleNativeControls=function(a){var b=a.data.state;"visible"===b&&this.heroVideoElement.setAttribute("controls","controls"),"hidden"===b&&this.heroVideoElement.removeAttribute("controls")},d._triggerMiniControlToggle=function(){k.trigger("hero-video-mini-controls-toggle",{isPaused:this.player.getPaused()})},d._addHeroCssClass=function(){if(!this._heroCssActive){this._heroCssActive=!0;var a=this.videoHeroCSSClass;g.add(this._parentEl,a),g.remove(this._parentEl,"no-"+a),this.trigger(this.videoHeroCSSSetEvent)}},d._removeHeroCssClass=function(){if(this._heroCssActive){this._heroCssActive=!1;var a=this.videoHeroCSSClass;g.add(this._parentEl,"no-"+a),g.remove(this._parentEl,a),this.trigger(this.videoHeroCSSSetEvent)}},d._onExitFullscreen=function(a){this._removeHeroCssClass(),window.scrollTo(0,window.scrollY)},d._onMiniControlsClicked=function(a){a.isPaused?this.player.play():this.player.pause()},d._getVideoPlayerType=function(){var a=this.player.getMediaElement();return a.tagName.toLowerCase()},d.destroy=function(){this.vVideoControlbar&&this.vVideoControlbar.destroy(),this.player.off(),this._removeHeroCssClass(),k.off("hero-video-mini-controls-clicked",this._onMiniControlsClicked,this),e.prototype.destroy.call(this)},b.exports=q},{"../application/HeroVideoPlayerMessageProxy":714,"../application/QueryStringHelper":717,"../application/QuicktimeVideoHelper":718,"../application/VideoCreationHelper":727,"../application/VideoPlayerTypeSelector":729,"./ViewDust":748,"ac-browser":17,"ac-classlist":21,"ac-dom-traversal":96,"ac-feature":268,"ac-object":358,"ac-video":659}],759:[function(a,b,c){"use strict";var d,e=a("./ViewDust"),f=a("ac-object"),g=(a("templates"),a("../application/SmoothScroll")),h=a("../application/SweetSpotManager"),i=a("ac-dom-traversal"),j=a("ac-dom-events"),k=(a("ac-viewport").Viewport,a("ac-dom-styles"),a("../../config/explorebar-sizes.json")["bar-heights"],a("ac-eclipse").Clip),l=a("../application/ExpandedStateProxy"),m=function(a){e.call(this,a),this.cPosts=a.cPosts,this.isBadgeVisible=!1,this._firstSet=!0,this._bindEvents(),this.analyticsObserver&&this.analyticsObserver(this)};d=m.prototype=f.create(e.prototype),d.template="template-notifications-badge",d.className="badge-container",d.analyticsType="badge",d.defaultOptions={events:{click:"_onBadgeClick"}},d._bindEvents=function(){l.on("expanded-state-closed",this._onExpandedStateClosed,this),this.cPosts.pendingPosts.on("add",this._handleCollectionSet,this),h.on("update",this._handleBadgeVisibility,this),l.on("update",this._handleBadgeVisibility,this)},d._handleBadgeVisibility=function(){if(h.isAbove()&&!l.expandedStateOpened&&this.isBadgeVisible){this.isBadgeVisible=!1;var a=i.querySelector(".badge",this.el),b=.4,c={transform:{scale:1.5}};this.fadeOut(b,null,!0),new k(a,b,c,{yoyo:!0,easing:"ease-out",removeStylesOnComplete:!0}).play()}else(h.isBelow()||l.expandedStateOpened)&&!this.isBadgeVisible&&this._getRemaining()>0&&this.fadeIn(.2,function(){this.isBadgeVisible=!0}.bind(this))},d._handleCollectionSet=function(a){var b=a.models.length;return 0>=b||this._firstSet?void(this._firstSet=!1):void this._updateBadgeCount(b)},d.destroy=function(){l.off("expanded-state-closed",this._onExpandedStateClosed,this),e.prototype.destroy.call(this)},d._getRemaining=function(){return this.cPosts.pendingPosts.count()-this.cPosts.count()},d._updateBadgeCount=function(a){var b,c=i.querySelector(".badge-count",this.el),d=i.querySelector(".badge",this.el),e={transform:{scale:1.1}},f=.36,g="cubic-bezier(0.54, 0.00, 0.85, 1.00)";this._handleBadgeVisibility();var h=this._getRemaining();h>99&&(h='<span class="badge-count-small">99+</span>'),c.innerHTML=h,b=new k(d,f,e,{yoyo:!0,easing:g,removeStylesOnComplete:!0}).play()},d._onBadgeClick=function(a){j.preventDefault(a),l.trigger("notifications-badge-clicked",a),this.emitterTrigger("notifications-badge-clicked",this._getRemaining()),this._scrollToPostsTop()},d._onExpandedStateClosed=function(a){a.currentTarget===this.el&&this._scrollToPostsTop()},d._scrollToPostsTop=function(){var a=h.getPostsTopOffset();l.expandedStateOpened||g.scrollTo(a)},b.exports=m},{"../../config/explorebar-sizes.json":695,"../application/ExpandedStateProxy":712,"../application/SmoothScroll":723,"../application/SweetSpotManager":725,"./ViewDust":748,"ac-dom-events":54,"ac-dom-styles":83,"ac-dom-traversal":96,"ac-eclipse":242,"ac-object":358,"ac-viewport":682,templates:"dt6s00"}],760:[function(a,b,c){"use strict";var d,e=a("./ViewDust"),f=a("ac-object"),g=(a("templates"),function(a){e.call(this,a)});d=g.prototype=f.create(e.prototype),d.template="template-overlay",d.tagName="a",d.className="overlay",b.exports=g},{"./ViewDust":748,"ac-object":358,templates:"dt6s00"}],761:[function(a,b,c){"use strict";var d,e=a("./ViewDust"),f=a("./ViewOverlay"),g=a("./ViewExploreBar"),h=a("ac-eclipse").Clip,i=a("../application/RouteManager"),j=a("ac-object"),k=a("ac-classlist"),l=a("ac-dom-styles"),m=a("ac-dom-traversal"),n=(a("ac-dom-nodes"),a("ac-browser")),o=a("ac-feature"),p=a("ac-viewport").Viewport,q=a("../application/SocialShareManager"),r=a("ac-social").Dialog,s=a("ac-social").Focus,t=a("../application/ShareDataHelper"),u=a("../application/SmoothScroll"),v=(a("templates"),a("../../config/explorebar-sizes.json")["bar-heights"]),w=a("../../config/explorebar-sizes.json")["explore-chapter"],x=a("../application/HeroSizesHelper"),y=a("../../config/tiles-container.json")["tiles-container"],z=a("../../config/tile-sizes.json")["tile-sizes"],A=a("../../config/viewports.json").viewports,B=a("../../config/globalnav.json").globalnav.dimentions,C=a("../../config/content-sizes.json")["content-widths"],D=a("../application/ExpandedStateProxy"),E=a("../application/PreventTouchScroll"),F=a("../application/Attorney"),G=a("../application/AccessibilityHelper"),H=a("strings"),I=1.25,J=430,K=100,L=.6,M=.0015,N=.5,O=.15,P=.5,Q=.5,R=.5,S=.1,T=A.medium["min-width"],U=function(a){e.call(this,a),this.feedId=D.getFeedIdFromURL(),this._bindEvents(),this.analyticsObserver&&this.analyticsObserver(this,"post")};d=U.prototype=j.create(e.prototype),d.template="template-post",d.tagName="article",d.className="post",d.sosumiSelector=".tile-copy",d.animatedShareSheet=!0,d.canExpand=!1,d.defaultOptions={events:{"click : .share-toggle":"showShareMenu","click : .close-sharesheet":"hideShareMenu","click : .post-footer .icon-facebook":"_handleFacebookShareAction","click : .post-footer .icon-twitter":"_handleTwitterTweetAction","click : .post-footer .icon-email":"_handleEmailShareAction","click : .post-footer .icon-reply":"_handleTwitterReplyAction","click : .post-footer .icon-retweet":"_handleTwitterRetweetAction","click : .post-footer .icon-favorite":"_handleTwitterFavoriteAction","click : .post-footer .icon-weibo":"_handleWeiboShareAction","click : .post-footer .icon-qqweibo":"_handleQQWeiboShareAction","click : .post-footer .icon-qzone":"_handleQZoneShareAction","click : .post-footer .icon-link":"_handleLinkCopyAction","click : .copy-link-close":"_closeLinkCopyUI","click : .copy-link-field":"_focusCopyLinkUI"}},d.render=function(a,b){if(this.model){var c="post-",d=this.model.get("type");if(k.add(this.el,c+d),this.el.setAttribute("aria-label",d+" post"),this.el.setAttribute("role","group"),!a){var f=this.getShareIcons(),g=t.getShareIconData(f);a=this.model.attributes,g.length>0&&(a.shareIcons=g)}this.model.get("images")&&(a.initialImageSrc=this._getImageSrc()),this.animatedShareSheet&&(a.animatedShareSheet=!0)}return e.prototype.render.call(this,a,b)},d._addSosumi=function(){var a,b,c=this.model.get("sosumi");c?(a=F.addSosumi(c,this.model.id),b=m.querySelector(this.sosumiSelector,this.el),b&&b.appendChild(a),this.sosumi=c):(c=F.getSosumiForId(this.model.id),c&&this._removeSosumi(c))},d._removeSosumi=function(a){var b=function(b){return b.get("sosumi")===a}.bind(this),c=this.options.collection.filter(b);0===c.length&&F.removeSosumi(a,this.model.id)},d.getChildElement=function(a,b){if(b=b||{},!a)return null;if(!this._getChildReference(a)){var c=m.querySelector;b.all&&(c=m.querySelectorAll),this._setChildReference(a,c.apply(m,[a,this.el]))}return this._getChildReference(a)},d.showShareMenu=function(a){a&&a.preventDefault&&a.preventDefault(),this._animateHideShareToggle(),this._animateShowShareListItems(),this._shareIconsActive=!0,k.add(this.el,"share-active"),this.emitterTrigger("post-share-sheet-clicked")},d.hideShareMenu=function(a){a&&a.preventDefault&&a.preventDefault(),this._animateHideShareListItems(),this._animateShowShareToggle(),this._shareIconsActive=!1,k.remove(this.el,"share-active")},d._destroyShareClips=function(){this._destroyShareToggleClip(),this._destroyShareIconClips()},d._destroyShareToggleClip=function(){this._shareToggleClip&&this._shareToggleClip.destroy(),this._shareToggleClip=null},d._destroyShareIconClips=function(){if(this._shareIconClips){var a,b=this._shareIconClips.length;for(a=0;b>a;a++)this._shareIconClips[a].destroy()}this._shareIconClips=null},d._animateShowShareToggle=function(a){var b=this._getShareToggle();this._destroyShareToggleClip();var c={opacity:1},d={delay:O};a&&(d.onComplete=a),this._shareToggleClip=new h(b,N,c,d),this._shareToggleClip.play()},d._animateHideShareToggle=function(a){var b=this._getShareToggle();this._destroyShareToggleClip();var c={opacity:0},d={removeStylesOnComplete:"opacity"};a&&(d.onComplete=a),this._shareToggleClip=new h(b,P,c,d),this._shareToggleClip.play()},d._animateShowShareListItems=function(a){var b=this._getShareListItems();this._destroyShareIconClips(),this._shareIconClips=[];var c,d,e=0,f=b.length,g={transform:{scale:1},opacity:1};for(c=0;f>c;c++)d={delay:e},a&&c===f-1&&(d.onComplete=a),this._shareIconClips.push(new h(b[c],Q,g,{delay:e})),e+=S,this._shareIconClips[c].play()},d._animateHideShareListItems=function(a){var b=this._getShareListItems();this._destroyShareIconClips(),this._shareIconClips=[];var c,d=b.length,e={opacity:0},f={removeStylesOnComplete:["transform","opacity"]};for(c=0;d>c;c++)a&&c===d-1&&(f.onComplete=a),this._shareIconClips.push(new h(b[c],R,e,f)),this._shareIconClips[c].play()},d._getChildReference=function(a){var b=null;return this._children&&this._children[a]&&(b=this._children[a]),b},d._setChildReference=function(a,b){this._children||(this._children={}),this._children[a]=b},d._clearChildReferences=function(){this._children&&(this._children=null)},d._getShareToggle=function(){return this.getChildElement(".share-toggle")},d._getShareListItems=function(){return this.getChildElement(".post-share-links li",{all:!0})},d._bindEvents=function(){this.model&&(this.model.on("change",this._handleModelChange,this),this.model.on("destroy",this.destroy,this)),this.on("render",this._handleRender,this),this.on("rerender",this._handleRerender,this),this.defaultOptions.events!==d.defaultOptions.events&&this.delegateEvents(d.defaultOptions.events),p.on("breakpoint",this._handleBreakpoint,this)},d.getShareIcons=function(){return[]},d.needsChinaShareIcons=function(){return"zh-CN"===H.locale.lang},d.destroy=function(){this.model.off("change",this._handleModelChange,this),this.model.off("destroy",this.destroy,this),this._cancelCurrentTransition(),this._fadeInClip&&this._fadeInClip.destroy(),this._positionClip&&this._positionClip.destroy(),this._destroyShareClips(),e.prototype.destroy.call(this)},d._handleModelChange=function(a){e.prototype.render.call(this)},d._handleRender=function(){return this._rendered?void this.trigger("rerender"):(this._addSosumi(),void(this._rendered=!0))},d._handleRerender=function(){this.sosumi&&this.sosumi!==this.model.get("sosumi")&&this._removeSosumi(this.sosumi),this._addSosumi(),this._clearChildReferences(),this._setImage(),this._destroyShareClips()},d._handleShareAction=function(a,b,c){a.preventDefault(),c=c||{},this.emitterTrigger("share-clicked",b),q.createDialog(b,t.getShareDataFromModel(this.model,c))},d._handleTwitterReplyAction=function(a){this._handleShareAction(a,r.TWITTER_REPLY)},d._handleTwitterRetweetAction=function(a){this._handleShareAction(a,r.TWITTER_RETWEET)},d._handleTwitterFavoriteAction=function(a){this._handleShareAction(a,r.TWITTER_FAVORITE)},d._handleFacebookShareAction=function(a){var b={action:"facebook"};this._handleShareAction(a,r.FACEBOOK_SHARE,b)},d._handleTwitterTweetAction=function(a){var b={action:"twitter"};this._handleShareAction(a,r.TWITTER_TWEET,b)},d._handleWeiboShareAction=function(a){var b={action:"weibo"};this._handleShareAction(a,r.WEIBO_SHARE,b)},d._handleQQWeiboShareAction=function(a){var b={action:"qq"};this._handleShareAction(a,r.QQWEIBO_SHARE,b)},d._handleQZoneShareAction=function(a){var b={action:"qzone"};this._handleShareAction(a,r.QZONE_SHARE,b)},d._handleEmailShareAction=function(a){a.preventDefault();var b={action:"email"};this._handleShareAction(a,r.EMAIL_SHARE,b)},d._handleLinkCopyAction=function(a){return a.preventDefault(),this._linkCopyActive?void this._closeLinkCopyUI():(this._openLinkCopyUI(),void this.emitterTrigger("share-clicked","LINK_SHARE"))},d._openLinkCopyUI=function(){this._linkCopyActive=!0,k.add(this.el,"link-copy-active"),this._focusCopyLinkUI()},d._focusCopyLinkUI=function(){var a=this.getChildElement(".copy-link-field"),b=t.getShareDataFromModel(this.model,{action:"directLink"});a.textContent=b.url,s(a)},d._closeLinkCopyUI=function(a){a.preventDefault&&a.preventDefault(),this._linkCopyActive=!1,k.remove(this.el,"link-copy-active")},d.renderOverlay=function(){this.vOverlay=new f,this.vOverlay.render().then(function(){document.body.appendChild(this.vOverlay.el)}.bind(this)),this.vOverlay.fadeIn(.8),this.vOverlay.on("click",this.handleExpandCloseState,this)},d._getExpandedStyles=function(a){var b=v[a].height,c=D.chapterNavStateOpened,d=c?w[a].height:0,e=z[a]["tile-content"].margin,f=this.getTopScrollPosition(),g=window.scrollY||document.documentElement.scrollTop,h=Math.max(p.innerHeight()-(b+d+2*e),J),i=h*I,j=this._position.top;if(f!==g){var k=f-g;j-=k}i+K>p.innerWidth()&&(i=p.innerWidth()-K,h=i*(1/I)),p.innerWidth()<T&&(i=T-K,h=i*(1/I));var l=.5*(C[a].width-i);return{width:Math.round(i)+"px",height:Math.round(h)+"px",left:Math.round(l)+"px",top:Math.round(j)+"px"}},d.isTransitioning=function(){return this.isAnimatingPosition||this._isTransitioningToExpandedState||!1},d.setPosition=function(a,b,c,d,e,f){var g,i;if(this._position&&(c||this._isTransitioningToExpandedState)&&(g={top:this._position.top,left:this._position.left},i=a===g.top&&b===g.left),this._position={top:a,left:b},d=d&&!g&&this.isInView(f),c=!d&&c&&g&&!i&&this.isInView(f),this._isExpanded){if(this._isTransitioningToExpandedState&&i)return;var j=this.getTopScrollPosition();E.setScrollY(j),window.scrollTo(0,j),l.setStyle(this.el,this._getExpandedStyles(f))}else i||l.setStyle(this.el,{display:null,top:a+"px",left:b,opacity:null});if(d||c){this.isAnimatingPosition=!0;var k=function(){this.isAnimatingPosition=!1}.bind(this);if(d)this._fadeInClip=new h(this.el,L,null,{delay:e+.5*L,propsFrom:{opacity:0},removeStylesOnComplete:!0,onComplete:k,destroyOnComplete:!0}),this._fadeInClip.setProgress(0),this._fadeInClip.play();else{var m=0,n=g.top-this._position.top;"0"===this._position.left&&"50%"===g.left?m=.5*C[f].width:"50%"===this._position.left&&"0"===g.left&&(m=.5*C[f].width*-1),this._positionClip=new h(this.el,L,null,{delay:e,propsFrom:{transform:{translateX:m+"px",translateY:n+"px"}},removeStylesOnComplete:!0,onComplete:k,destroyOnComplete:!0}),this._positionClip.setProgress(0),this._positionClip.play()}}},d._handleBreakpoint=function(){this._setImage()},d._getImageSrc=function(a){var b=this.getAssetPrefix(a);if(this.model)return this.model.getImageSrc(b)},d.getAssetPrefix=function(a){var b,c=p.getBreakpoint().name;return b=a?"expanded_":"",b+=c,o.isRetina()&&(b+="_2x"),b},d._setImageReference=function(){},d._setImage=function(a){var b=this._getImageSrc(a);if(b){var c=this.getChildElement(".expandable-post img");c.src=b}},d._isiPhone=function(){if(void 0!==this._storeIsiPhone)return this._storeIsiPhone;var a=o.isHandheld(),b=n.os.toLowerCase();return this._storeIsiPhone=a&&b.match(/ios/),this._storeIsiPhone},d.handleExpandState=function(a,b){a&&a.preventDefault(),(!this._isExpanded||this._isiPhone())&&(this.emitterTrigger("expanded-state-clicked"),this.animateExpandState(a.currentTarget,b))},d._resetVoiceOverOptionsForExandState=function(){this.el.setAttribute("role","dialog"),this.el.setAttribute("tabindex","0"),this.el.setAttribute("aria-label",this.model.get("type")+" post expanded"),G.dialog(this)},d.animateExpandState=function(a,b){this._isExpanded=!0,this._cancelCurrentTransition(),this._isTransitioningToExpandedState=!0,b=b||function(){};var c=function(){var c=p.getBreakpoint().name;if("small"!==c){this._setImage(!0),this.renderOverlay(),this.expandedTile=a,k.add(a,"expanded"),k.add(document.body,"tile-expanded"),E.enable(),this._bindExpandedStateEvents();var d={left:.25*C[c].width+"px"},e=function(){D.trigger("expanded-state-opened",this),d=this._getExpandedStyles(c),this._transitionClip=new h(a,.45,d,{onComplete:function(){b(),this._isTransitioningToExpandedState=!1,this._removeIsExpandingClass(),this._resetVoiceOverOptionsForExandState()}.bind(this)}).play(),this._addIsExpandingClass()};this._transitionClip=new h(a,.35,d,{onComplete:e.bind(this)}).play()}};o.touchAvailable()&&b(),this.scrollPostToTop(null,c.bind(this)),i.trigger("update-route",{path:this.model.id+"/"+this.feedId})},d._addIsExpandingClass=function(){this._isExpanding||(this._isExpanding=!0,k.add(this.el,"is-expanding"))},d._removeIsExpandingClass=function(){this._isExpanding&&(this._isExpanding=!1,k.remove(this.el,"is-expanding"))},d.onChapterNavOpenedAndClosed=function(){var a=p.getBreakpoint().name,b=g.CHAPTER_NAV_SLIDE_DURATION,c=function(){var c=this._getExpandedStyles(a);this._transitionClip=new h(this.expandedTile,b,c,{onStart:this._addIsExpandingClass.bind(this),onComplete:this._removeIsExpandingClass.bind(this)}).play(),E.enable.bind(E)};E.disable(),this.scrollPostToTop(b,c.bind(this))},d.scrollPostToTop=function(a,b){var c=this.getTopScrollPosition();if(null===a||isNaN(a)){var d=window.scrollY||document.documentElement.scrollTop;a=Math.min(.4,Math.abs(d-c)*M),a=.2>a&&0!==a?.2:a}u.scrollTo(c,a,b)},d.getTopScrollPosition=function(){if(void 0===this._position)return 0;var a=p.getBreakpoint().name,b=x.getHeight(a),c=v[a].height,d=y[a]["margin-top"],e=z[a]["tile-content"].margin,f=this._position.top+b+d-(c+e);return!o.touchAvailable()||"medium"!==a&&"small"!==a||(f+=B[a].height),D.chapterNavStateOpened&&(f-=w[a].height),f},d.isInView=function(a){if(void 0===this._position)return!1;var b=v[a].height,c=window.scrollY||document.documentElement.scrollTop,d=this.getTopScrollPosition()+b-c;return d>-z[a].tile.height&&d<p.innerHeight()},d._bindExpandedStateEvents=function(){D.on("notifications-badge-clicked",this.handleExpandCloseState,this),D.on("chapternav-clicked",this.handleExpandCloseState,this),D.on("video-title-clicked",this.handleExpandCloseState,this),D.on("close-expanded-state",this.handleExpandCloseState,this),D.on("chapternav-opened",this.onChapterNavOpenedAndClosed,this),D.on("chapternav-closed",this.onChapterNavOpenedAndClosed,this)},d._unbindExpandedStateEvents=function(){D.off("notifications-badge-clicked",this.handleExpandCloseState,this),D.off("chapternav-clicked",this.handleExpandCloseState,this),D.off("video-title-clicked",this.handleExpandCloseState,this),D.off("close-expanded-state",this.handleExpandCloseState,this),D.off("chapternav-opened",this.onChapterNavOpenedAndClosed,this),D.off("chapternav-closed",this.onChapterNavOpenedAndClosed,this)},d.handleExpandCloseState=function(a){if(a&&a.preventDefault(),this._isExpanded){this._isExpanded=!1,this._isTransitioningToExpandedState&&this._cancelCurrentTransition(),this._unbindExpandedStateEvents();var b=p.getBreakpoint().name,c=z[b].tile.height,d=.5*C[b].width;this.vOverlay.fadeOut(.2,function(){this.expandedTile&&(k.remove(this.expandedTile,"expanded"),this.expandedTile=null),k.remove(document.body,"tile-expanded"),E.disable(),i.trigger("update-route",{path:"/"+this.feedId})}.bind(this));var e=function(a){this.el&&(l.setStyle(this.el,{left:this._position.left,width:"",height:""}),this._setImage()),this._removeIsExpandingClass(),D.trigger("expanded-state-closed",a)},f="50%"===this._position.left?d+"px":"0px",g={top:this._position.top+"px",left:f,width:d+"px",height:c+"px"};this._transitionClip=new h(this.el,.25,g,{onComplete:e.bind(this,a)}).play(),this._addIsExpandingClass(),this._resetVoiceOverOptionsForExpandCloseState()}},d._resetVoiceOverOptionsForExpandCloseState=function(){this.el.setAttribute("role","group"),this.el.removeAttribute("tabindex"),this.el.setAttribute("aria-label",this.model.get("type")+" post"),G.destroy()},d._cancelCurrentTransition=function(){this._transitionClip&&(this._transitionClip.destroy(),this._removeIsExpandingClass(),this._isTransitioningToExpandedState=!1)},b.exports=U},{"../../config/content-sizes.json":692,"../../config/explorebar-sizes.json":695,"../../config/globalnav.json":696,"../../config/tile-sizes.json":697,"../../config/tiles-container.json":698,"../../config/viewports.json":699,"../application/AccessibilityHelper":705,"../application/Attorney":709,"../application/ExpandedStateProxy":712,"../application/HeroSizesHelper":713,"../application/PreventTouchScroll":716,"../application/RouteManager":720,"../application/ShareDataHelper":722,"../application/SmoothScroll":723,"../application/SocialShareManager":724,"./ViewDust":748,"./ViewExploreBar":750,"./ViewOverlay":760,"ac-browser":17,"ac-classlist":21,"ac-dom-nodes":62,"ac-dom-styles":83,"ac-dom-traversal":96,"ac-eclipse":242,"ac-feature":268,"ac-object":358,"ac-social":439,"ac-viewport":682,templates:"dt6s00"}],762:[function(a,b,c){"use strict";var d,e=a("./ViewPost"),f=a("ac-object"),g=(a("templates"),function(a){e.call(this,a)});d=g.prototype=f.create(e.prototype),d.sosumiSelector=".tile-paragraph",d.canExpand=!0,d.defaultOptions={events:{"click : .expandable-post":"handleExpandState","click : .icon-closealt":"handleExpandCloseState"}},d.getShareIcons=function(){var a=["facebook","twitter","email","link"];return this.needsChinaShareIcons()&&(a=["weibo","qqweibo","qzone","link"]),a},d._setImage=function(a){},b.exports=g},{"./ViewPost":761,"ac-object":358,templates:"dt6s00"}],763:[function(a,b,c){"use strict";var d,e=a("./ViewPostAnimation"),f=a("ac-object"),g=(a("templates"),function(a){e.call(this,a)});d=g.prototype=f.create(e.prototype),d.template="template-post-animation-image",b.exports=g},{"./ViewPostAnimation":762,"ac-object":358,templates:"dt6s00"}],764:[function(a,b,c){"use strict";var d,e=a("./ViewPostAnimation"),f=a("../application/VideoBlobLoader"),g=a("ac-video").Player,h=a("ac-object"),i=(a("ac-dom-traversal"),a("ac-classlist")),j=(a("templates"),function(a){e.call(this,a),this.loader=new f,this.player=null,this.playerContainer=null,this.on("render",this._loadVideo,this),this.on("destroy",this._destroyVideo,this),this._boundAppendAndAutoplay=this._appendAndAutoplay.bind(this)});d=j.prototype=h.create(e.prototype),d.template="template-post-animation-video",d._loadVideo=function(){var a=this.model.get("animations").video;this._didBindLoaderEvents||(this.loader.on("success",this._handleLoaderSuccess,this),this._didBindLoaderEvents=!0),this.loader.load({url:a})},d._createVideo=function(a){var b={src:a,poster:null},c={type:"html5",controls:null,preventCollection:!0};this.player?this.player.setSrc(a):(this.player=g.create(b,c),this.player.setMuted(!0),this.player.setLoop(!0),this.player.setPreload("auto")),this.player.once("canplay",this._boundAppendAndAutoplay,this)},d._destroyVideo=function(){this.loader&&(this.loader.isLoading()&&this.loader.abort(),this.loader.destroy()),this.player&&(this.player.getPaused()===!1&&this.player.pause(),this.player.destroy())},d._appendAndAutoplay=function(){this._appendPlayerEl(),this._autoplayVideo()},d._autoplayVideo=function(){this.player&&this.player.play()},d._appendPlayerEl=function(){var a=this.getChildElement(".animation-container");a&&(a.appendChild(this.player.el),i.add(a,"fade-in"))},d._handleLoaderSuccess=function(a){this._createVideo(a.url)},b.exports=j},{"../application/VideoBlobLoader":726,"./ViewPostAnimation":762,"ac-classlist":21,"ac-dom-traversal":96,"ac-object":358,"ac-video":659,templates:"dt6s00"}],765:[function(a,b,c){"use strict";var d=a("../application/AnimationTypeSelector"),e=a("./ViewPostText"),f=a("./ViewPostImage"),g=a("./ViewPostTweet"),h=a("./ViewPostVideo"),i=a("./ViewPostAnimationImage"),j=a("./ViewPostAnimationVideo"),k=a("./ViewPostQuote"),l=a("./ViewPostWeibo"),m=a("./ViewPostHeader"),n=a("./ViewPost"),o={text:e,image:f,tweet:g,video:h,animation:{image:i,video:j},quote:k,weibo:l,header:m},p={create:function(a){var b=n;return a.model&&(b=this._getViewConstructor(a.model)),new b(a)},_getViewConstructor:function(a){var b=a.get("type");return b?"animation"!==b?o[b]:"video"===d.getAnimationType()?o[b].video:o[b].image:n}};b.exports=p},{"../application/AnimationTypeSelector":707,"./ViewPost":761,"./ViewPostAnimationImage":763,"./ViewPostAnimationVideo":764,"./ViewPostHeader":766,"./ViewPostImage":767,"./ViewPostQuote":768,"./ViewPostText":769,"./ViewPostTweet":770,"./ViewPostVideo":771,"./ViewPostWeibo":773}],766:[function(a,b,c){"use strict";var d,e=a("./ViewPost"),f=a("ac-object"),g=(a("templates"),function(a){e.call(this,a)});d=g.prototype=f.create(e.prototype),d.template="template-post-header",b.exports=g},{"./ViewPost":761,"ac-object":358,templates:"dt6s00"}],767:[function(a,b,c){"use strict";var d,e=a("./ViewPost"),f=a("ac-object"),g=(a("templates"),function(a){e.call(this,a)});d=g.prototype=f.create(e.prototype),d.template="template-post-image",d.sosumiSelector=".tile-paragraph",d.canExpand=!0,d.defaultOptions={events:{"click : .expandable-post":"handleExpandState","click : .icon-closealt":"handleExpandCloseState"}},d.handleExpandState=function(a,b){this.model.get("imageLink")||e.prototype.handleExpandState.call(this,a,b)},d.getShareIcons=function(){var a=["facebook","twitter","email","link"];return this.needsChinaShareIcons()&&(a=["weibo","qqweibo","qzone","link"]),a},b.exports=g},{"./ViewPost":761,"ac-object":358,templates:"dt6s00"}],768:[function(a,b,c){"use strict";var d,e=a("./ViewPost"),f=a("ac-object"),g=(a("templates"),function(a){e.call(this,a)});d=g.prototype=f.create(e.prototype),d.template="template-post-quote",d.getShareIcons=function(){var a=["twitter","email"];return this.needsChinaShareIcons()&&(a=["weibo","qqweibo","qzone"]),a},b.exports=g},{"./ViewPost":761,"ac-object":358,templates:"dt6s00"}],769:[function(a,b,c){"use strict";var d,e=a("./ViewPost"),f=a("ac-eclipse").Clip,g=a("ac-object"),h=a("ac-dom-styles"),i=a("ac-dom-traversal"),j=(a("templates"),.9),k=.7,l=j-k,m=function(a){e.call(this,a),this._itemCount=this.model.get("copy").length,this.on("rerender",this._handleTextUpdate,this)};d=m.prototype=g.create(e.prototype),d.template="template-post-text",d.sosumiSelector=".post-text-item h3",d._handleTextUpdate=function(a){var b=this.model.get("copy").length;this._itemCount<b?this._addItem(b):this._itemCount>b&&this._removeItem(b),this._itemCount=b},d._addItem=function(a){this._itemsContainer=i.querySelector(".post-text-items",this.el);var b=i.querySelectorAll(".post-text-item",this.el),c=b[a-1],d=parseInt(h.getStyle(c,"height").height,10),e=(new f(this._itemsContainer,j,null,{propsFrom:{transform:{translateY:.5*d+"px"}},removeStylesOnComplete:!0}).play(),new f(c,k,null,{delay:l,propsFrom:{opacity:0},removeStylesOnComplete:!0}));e.setProgress(0),e.play()},d._removeItem=function(a){},b.exports=m},{"./ViewPost":761,"ac-dom-styles":83,"ac-dom-traversal":96,"ac-eclipse":242,"ac-object":358,templates:"dt6s00"}],770:[function(a,b,c){"use strict";var d,e=a("./ViewPost"),f=a("ac-object"),g=(a("templates"),function(a){e.call(this,a)});d=g.prototype=f.create(e.prototype),d.template="template-post-tweet",d.animatedShareSheet=!1,d.getShareIcons=function(){return["reply","retweet","favorite"]},b.exports=g},{"./ViewPost":761,"ac-object":358,templates:"dt6s00"}],771:[function(a,b,c){"use strict";var d,e=a("./ViewPost"),f=a("ac-object"),g=(a("templates"),a("ac-viewport").Viewport),h=a("../application/VideoPlayerMessageProxy"),i=a("../application/VideoPlayerTypeSelector"),j=a("../application/videoControlbarTemplate"),k=function(a){e.call(this,a),this.vPostVideoPlayer=a.vPostVideoPlayer};d=k.prototype=f.create(e.prototype),d.template="template-post-video",d.sosumiSelector=".tile-paragraph",d.canExpand=!0,d.defaultOptions={controlbarTemplate:j,events:{"click : .expandable-post":"handleExpandState","click : .icon-closealt":"handleExpandCloseState"}},d._bindEvents=function(){i.shouldUseManualVideoResizing()&&g.on("resize",this.setMediaElementDimensions,this),e.prototype._bindEvents.call(this)},d.handleExpandState=function(a){this.isLoadedFromPostURL?(a.preventDefault(),this.playVideo(),this.isLoadedFromPostURL=null):e.prototype.handleExpandState.call(this,a,this._onVideoTileExpanded.bind(this))},d._onVideoTileExpanded=function(){this.setMediaElementDimensions(),this.playVideo()},d.playVideo=function(){var a=this.model.get("video");h.trigger("video-play-clicked",{videoSrc:a,videoPostElement:this.el})},d.handleExpandCloseState=function(a){a&&a.preventDefault(),h.once("post-video-removed",function(){window.requestAnimationFrame(function(){e.prototype.handleExpandCloseState.call(this,a)}.bind(this))}.bind(this)),h.trigger("remove-post-video"),this.isLoadedFromPostURL=null},d._onRender=function(a,b,c){return this._isExpanded?(h.once("post-video-removed",function(){e.prototype._onRender.call(this,a,b,c)}.bind(this)),void h.trigger("remove-post-video")):e.prototype._onRender.call(this,a,b,c)},d._handleRerender=function(a){e.prototype._handleRerender.call(this,a),this._isExpanded&&!this._isiPhone()&&this.playVideo()},d.getShareIcons=function(){var a=["facebook","twitter","email","link"];return this.needsChinaShareIcons()&&(a=["weibo","qqweibo","qzone","link"]),a},d.setMediaElementDimensions=function(){if(this._isExpanded&&i.shouldUseManualVideoResizing()){var a=this.getChildElement(".media-container"),b=a.getBoundingClientRect(),c=Math.round(b.width),d=Math.round(b.height);h.trigger("set-dimensions",{width:c+"px",height:d+"px"})}},b.exports=k},{"../application/VideoPlayerMessageProxy":728,"../application/VideoPlayerTypeSelector":729,"../application/videoControlbarTemplate":732,"./ViewPost":761,"ac-object":358,"ac-viewport":682,templates:"dt6s00"}],772:[function(a,b,c){"use strict";var d,e=a("./ViewDust"),f=a("ac-object"),g=(a("templates"),a("ac-classlist")),h=a("ac-dom-traversal"),i=a("ac-dom-nodes"),j=a("ac-dom-styles"),k=a("ac-browser"),l=a("ac-feature"),m=a("ac-vatman"),n=a("ac-video").Player,o=m.vatResource,p=a("../application/VideoCreationHelper"),q=a("../application/VideoPlayerTypeSelector"),r=a("../application/VideoPlayerMessageProxy"),s=function(a){e.call(this,a),this.currentPostPlaying=null,r.on("video-play-clicked",this.onVideoPlayClicked,this),r.on("remove-post-video",this.onVideoRemove,this),r.on("set-dimensions",this.onSetDimensions,this),this._boundOnReadyStateChange=this._onReadyStateChange.bind(this),this._readyStateEvent=n.CANPLAY,"windows"===k.os.toLowerCase()&&(this._readyStateEvent=n.CANPLAYTHROUGH),this._isQuicktime=g.contains(document.documentElement,"quicktime"),this._queryString=1,this._videoHolding=document.createElement("div"),g.add(this._videoHolding,"post-video-holder"),this._videoHolding.innerHTML='<div class="media-container"></div>',i.insertFirstChild(this._videoHolding,document.body),this.analyticsObserver&&this.analyticsObserver(this)};d=s.prototype=f.create(e.prototype),d.onVideoPlayClicked=function(a){var b=a.videoSrc;if(this.vVideoControlbar=p.createControlBar(),this.player?g.remove(this.currentPostPlaying,"playing"):(this.player=p.createPlayer(),
this.vVideoControlbar&&(this.player.controls=this.vVideoControlbar.getPlayerControls(this.player,this.player.el),this.vVideoControlbar.bindControlbarButtonEvents()),g.add(this.player.el,"theme-post-video"),this.emitterTrigger("post-video-player-added",this.player)),this.player.on("readystatechange",this._boundOnReadyStateChange),this._isQuicktime)this._isIE()&&(this._queryString++,b+="?"+this._queryString),this.player.setSrc(b);else{var c=o.create(b);c.setPlayerSrc(this.player,window.innerWidth)}this.emitterTrigger("post-video-play",{id:h.querySelector(".media-container",a.videoPostElement).getAttribute("id"),player:this.player}),this.insertVideoPlayer(a.videoPostElement),this.player.getReadyState()>=this._readyStateEvent&&(this._isQuicktime?setTimeout(this._startVideoPlayback.bind(this),500):window.requestAnimationFrame(this._startVideoPlayback.bind(this)))},d.insertVideoPlayer=function(a){var b=h.querySelector(".media-container",a);g.add(a,"playing"),(a!==this.currentPostPlaying||this._isiOS())&&(i.insertFirstChild(this.player.el,b),this.vVideoControlbar&&this.player.el.appendChild(this.player.controls.el)),this._playVideoOnMobile(),this.currentPostPlaying=a},d._playVideoOnMobile=function(){l.touchAvailable()&&(this.player.play(),this._isiPhoneVideoPlayer()&&this.player.on("exitfullscreen",this.onVideoRemove,this))},d._isiPhoneVideoPlayer=function(){var a=l.isHandheld();return a&&this._isiOS()?!0:!1},d._isiPadVideoPlayer=function(){var a=l.isHandheld();return!a&&this._isiOS()?!0:!1},d._isiOS=function(){var a=k.os.toLowerCase();return a.match(/ios/)?!0:!1},d._isIE=function(){var a=k.name.toLowerCase();return a.match(/ie/)?!0:!1},d._playOnceReady=function(){this.player.on("readystatechange",this._boundOnReadyStateChange)},d._onReadyStateChange=function(a){a.readyState>=this._readyStateEvent&&this._startVideoPlayback()},d._startVideoPlayback=function(){this.onSetDimensions(),this.player.play(),this.player.off("readystatechange",this._boundOnReadyStateChange)},d.onVideoRemove=function(a){if(this.currentPostPlaying&&this.player)if(this.player.off("exitfullscreen",this.onVideoRemove,this),this.player.getVisibleTextTracks().forEach(function(a){a.hide()}),this._isiOS())i.remove(this.player.el),g.remove(this.currentPostPlaying,"playing"),r.trigger("post-video-removed");else{var b=function(){this.insertVideoPlayer(this._videoHolding),r.trigger("post-video-removed")};this.player.getPaused()?window.requestAnimationFrame(b.bind(this)):(this.player.once("pause",b,this),this.player.pause()),g.remove(this.currentPostPlaying,"playing")}},d.onSetDimensions=function(a){q.shouldUseManualVideoResizing()&&this.player&&this.player.getMediaElement()&&j.setStyle(this.player.getMediaElement(),{width:r.getWidth(),height:r.getHeight()})},b.exports=s},{"../application/VideoCreationHelper":727,"../application/VideoPlayerMessageProxy":728,"../application/VideoPlayerTypeSelector":729,"./ViewDust":748,"ac-browser":17,"ac-classlist":21,"ac-dom-nodes":62,"ac-dom-styles":83,"ac-dom-traversal":96,"ac-feature":268,"ac-object":358,"ac-vatman":467,"ac-video":659,templates:"dt6s00"}],773:[function(a,b,c){"use strict";var d,e=a("./ViewPost"),f=a("ac-object"),g=(a("templates"),function(a){e.call(this,a)});d=g.prototype=f.create(e.prototype),d.template="template-post-weibo",d.getShareIcons=function(){return[]},b.exports=g},{"./ViewPost":761,"ac-object":358,templates:"dt6s00"}],774:[function(a,b,c){"use strict";var d,e=a("./ViewDust"),f=a("ac-object"),g=(a("templates"),a("../application/SweetSpotManager")),h=a("./ViewPostFactory"),i=a("./ViewPostVideoPlayer"),j=(a("../models/ModelPost"),a("ac-dom-styles")),k=a("ac-dom-traversal"),l=a("ac-viewport").Viewport,m=(a("ac-feature"),a("../application/ExpandedStateProxy")),n=a("../application/ScrollViewManager"),o=a("../application/PositionManager"),p=a("../application/Attorney"),q=a("../../config/tile-sizes.json")["tile-sizes"],r=a("../../config/explorebar-sizes.json")["bar-heights"],s=function(a){e.call(this,a),this.el.setAttribute("role","group"),this.el.setAttribute("aria-label","posts"),this.el.setAttribute("aria-live","polite"),a.collection&&(this.collection=a.collection),this.views={},this._renderedViews={},this.lastTopOffset=0,this.totalTilesInView=0,this.firstTimePosition=!0,this._breakpoint=l.getBreakpoint().name,this.scrollViewManager=new n({model:this.model,collection:this.collection}),this.vPostVideoPlayer=new i,this._bindEvents()};d=s.prototype=f.create(e.prototype),d.className="posts",d.template="template-posts",d._bindEvents=function(){this.scrollViewManager.on("update",this._handleViewManagerUpdate,this),this.once("appended",this._handleViewPostsAppended,this),p.on("footer-updated",this._setContainerHeight,this),l.on("breakpoint",this._onBreakpointChanged,this),this.collection.on("chapters-set",this._setContainerHeight,this),m.on("expanded-state-opened",this._bindExpandedStateEvents,this),m.on("expanded-state-closed",this._unbindExpandedStateEvents,this)},d._bindExpandedStateEvents=function(a){l.on("resize",this._onResizeInExpandedState,this)},d._unbindExpandedStateEvents=function(a){l.off("resize",this._onResizeInExpandedState,this)},d._onBreakpointChanged=function(a){this._breakpoint=l.getBreakpoint().name,this._setContainerHeight()},d._onResizeInExpandedState=function(a){this._setPostPositions({columnCount:o.tileDimensions[this._breakpoint].columns,tileHeight:q[this._breakpoint].tile.height})},d._setContainerHeight=function(a){var b;if(this.model.isFeedPostEvent())b=o.getAllTilesHeight(this._breakpoint);else{var c=q[this._breakpoint].tile.height,d=o.tileDimensions[this._breakpoint].columns,e=Math.ceil(this.collection.count()/d);b=e*c}void 0===this.footerEl&&(this.footerEl=k.querySelector(".footer-wrapper"));var f=parseInt(j.getStyle(this.footerEl,"height").height,10);b+=f,j.setStyle(this.el,{height:b+"px"})},d._setLivePostPosition=function(a,b,c,d,e){var f,h,i,j=0,k=d.columnCount,l=d.tileHeight,m=g.isAbove()&&(void 0===c||!c),n=g.isAbove()&&c&&e;f=this.firstTimePosition?.1*b:.1*(this.totalTilesInView-b-1),k>1&&(j=Math.floor(b/k)),h=l*(b-b%k-j),i=b%k===0?"0":"50%",a.setPosition(h,i,n,m,f,this._breakpoint)},d._setPostEventPostPosition=function(a,b,c){var d=g.isAbove()&&(void 0===c||!c),e=.1*b,f=o.getTilePositionFromIndex(this._breakpoint,b);a.setPosition(f.top,f.left,!1,d,e,this._breakpoint)},d._handleViewManagerUpdate=function(a){this.totalTilesInView=a.end-a.start;var b,c,d,e,f={},h=this.collection.slice(a.start,a.end),i=!1,k=h.length;for(b=0;k>b;b++)c=h[b],d=c.cid,e=this.views[d],e||(e=this.createPost(c,a),this.el.appendChild(e.el),j.setStyle(e.el,{display:"none"})),i=i||e.isTransitioning(),f[d]=e;i=i&&g.isAbove();for(b in this.views)this.views.hasOwnProperty(b)&&!f.hasOwnProperty(b)&&(this.views[b].destroy(),this.views[b]=null);this.views=f,i||this._setPostPositions(a)},d._setPostPositions=function(a){var b,c,d,e,f=this.collection.count(),g=this.totalTiles<f,h=this.model.isFeedPostEvent();for(b in this.views)this.views.hasOwnProperty(b)&&(c=this.views[b],d=c.model,e=this.collection.indexOf(d),h?this._setPostEventPostPosition(this.views[b],e,this._renderedViews[d.id]):this._setLivePostPosition(this.views[b],e,this._renderedViews[d.id],a,g),this._renderedViews[d.id]=!0);this.totalTiles!==f&&(this.totalTiles=f,this._setContainerHeight()),this.firstTimePosition=!1},d.createPost=function(a,b){var c=h.create({model:a,collection:this.collection});return c.render().then(this._appendViewToDOM.bind(this,c)),c},d._appendViewToDOM=function(a){this.el&&a&&a.el&&this.el.appendChild(a.el)},d._handleViewPostsAppended=function(){this.scrollViewManager.initialize(this.el)},d.removePosts=function(a){var b=a.models;b.forEach(this.removePost.bind(this))},d.removePost=function(a){a.destroy()},d.displayPostByCid=function(a){var b=this.views[a];b.isLoadedFromPostURL=!0,b.canExpand?b.animateExpandState(b.el):b.scrollPostToTop(null)},d.getPostPositionById=function(a){var b=this.collection.get(a),c=this.collection.indexOf(b);return{cid:b.cid,position:this.scrollViewManager.getTilePositionByIndex(c)}},d.loadPostById=function(a){var b=this.getPostPositionById(a),c=r[this._breakpoint].height,d=q[this._breakpoint]["tile-content"].margin;this.views[b.cid]?this.displayPostByCid(b.cid):(this.scrollViewManager.once("update",this.displayPostByCid.bind(this,b.cid)),window.scrollTo(0,b.position-(c+d)))},d.destroy=function(){this.scrollViewManager.off("update",this._handleViewManagerUpdate,this),this.collection.off("chapters-set",this._setContainerHeight,this),p.off("footer-updated",this._setContainerHeight,this),l.off("breakpoint",this._onBreakpointChanged,this),e.prototype.destroy.call(this)},b.exports=s},{"../../config/explorebar-sizes.json":695,"../../config/tile-sizes.json":697,"../application/Attorney":709,"../application/ExpandedStateProxy":712,"../application/PositionManager":715,"../application/ScrollViewManager":721,"../application/SweetSpotManager":725,"../models/ModelPost":741,"./ViewDust":748,"./ViewPostFactory":765,"./ViewPostVideoPlayer":772,"ac-dom-styles":83,"ac-dom-traversal":96,"ac-feature":268,"ac-object":358,"ac-viewport":682,templates:"dt6s00"}],775:[function(a,b,c){"use strict";var d,e=a("./ViewChapters"),f=a("../application/ChaptersManager"),g=a("ac-object"),h=a("ac-dom-traversal"),i=(a("templates"),function(a){e.call(this,a),this.player=a.player});d=i.prototype=g.create(e.prototype),d.template="template-chapters",d.tagName="nav",d.className="chapternav",d._onRender=function(a,b,c){e.prototype._onRender.call(this,a,b,c,!0),this.player.on("timeupdate",this.updateCurrentChapter,this)},d.destroy=function(){this.player.off("timeupdate",this.updateCurrentChapter,this),e.prototype.destroy.call(this)},d._onChapterClicked=function(a,b){e.prototype._onChapterClicked.call(this,a,b);var c=h.querySelector("a",b.currentTarget),d=parseInt(c.getAttribute("data-timecode"),10);this.jumpToTimeCode(d),this.highlightChapter(b.currentTarget),this._pauseTimeUpdate=function(a){a=Math.floor(a),a!==this.lastUpdateTime||a!==d?this.lastUpdateTime=a:(this.lastUpdateTime=null,delete this._pauseTimeUpdate)}},d.jumpToTimeCode=function(a){this.player.getCurrentTime()>a?(this.player.setCurrentTime(a),this.player.play()):this.player.setCurrentTime(a)},d.updateCurrentChapter=function(a){if(this._pauseTimeUpdate)return void this._pauseTimeUpdate(a.currentTime);var b=f.getTimeCodes(),c=0,d=b.length;for(c;d-1>c&&!(a.currentTime<b[c+1]);c++);this.highlightChapter(this.subView[c].el)},b.exports=i},{"../application/ChaptersManager":710,"./ViewChapters":747,"ac-dom-traversal":96,"ac-object":358,templates:"dt6s00"}],776:[function(a,b,c){"use strict";var d=a("./ViewDust"),e=a("ac-object"),f=a("ac-video-controls"),g=a("ac-dom-traversal"),h=a("ac-dom-styles"),i=a("ac-classlist"),j=a("ac-fullscreen"),k=a("../application/videoControlbarTemplate"),l=a("../application/ChaptersManager"),m=a("./ViewVideoShareSheet"),n=a("../models/ModelVideoShare"),o=function(a){var b={controlbarTemplate:k};this.options=e.extend(b,a),this.customButtons=this._createCustomButtonsArray(),this.mutedClass="is-mute",this.fullScreenClass="fullscreen-enabled",d.call(this,this.options),this.analyticsObserver&&this.analyticsObserver(this)},p=o.prototype=e.create(d.prototype);p.template="",p.analyticsType="hero-video-control-bar",p.getPlayerControls=function(a,b){var c=f.create({player:a,fullScreenElement:b,template:this.options.controlbarTemplate,skin:this.options.controlbarTheme});return c.render(),this.el=c.el,this.player=a,c},p._toggleVolume=function(){var a=g.querySelector(".controls-toggle-mute-volume-button",this.el),b=this.player.getMuted();return b?void i.add(a,this.mutedClass):void i.remove(a,this.mutedClass)},p._toggleShareSheet=function(){this.vShareSheet?this.removeShareSheet():(l.trigger("remove-video-chapters",this),this.vShareSheet=this._createShareSheet(),this.emitterTrigger("video-share-sheet-clicked"))},p._toggleChaptersMenu=function(){l.trigger("toggle-video-chapters",this)},p._createShareSheet=function(){var a=(this.el.parentElement,new n),b=new m({model:a,mHero:this.model,player:this.player});return b.render().then(function(){var a=g.querySelector(".controls-full-screen-button",this.el),c=g.querySelector(".right",this.el);c.insertBefore(b.el,a),b.handleTimeUpdate(),b.fadeIn(.2,function(){this._moveVoiceOverSharesheetFocus()}.bind(this)),i.add(b.el,"active")}.bind(this)),b},p._moveVoiceOverSharesheetFocus=function(){var a=g.querySelector(".share-tab-video",this.el);a&&(a.focus(),i.add(a,"no-outline"))},p.removeShareSheet=function(){this.vShareSheet&&this.vShareSheet.fadeOut(.2,function(){this.vShareSheet=null}.bind(this))},p._toggleFullScreen=function(){var a=g.querySelector(".hero-video-content",this.el);i.toggle(a,this.fullScreenClass)},p._onEnterFullScreen=function(){var a=this.el.parentElement;i.add(a,this.fullScreenClass),"video"!==this._getVideoPlayerType()&&this._setFullscreenMediaSize()},p._onExitFullScreen=function(){var a=this.el.parentElement;i.remove(a,this.fullScreenClass),"video"!==this._getVideoPlayerType()&&this._unsetFullscreenMediaSize()},p._setFullscreenMediaSize=function(){var a=this.player.getMediaElement(),b=window.screen.width,c=window.screen.height,d=c/b,e=this.player.getMediaWidth(),f=this.player.getMediaHeight(),g=f/e,i=b,j=c;g>d?i=Math.round(g*c):j=Math.round(g*b),h.setStyle(a,{width:i+"px",height:j+"px"})},p._unsetFullscreenMediaSize=function(){var a=this.player.getMediaElement();h.setStyle(a,{width:"",height:""})},p._getVideoPlayerType=function(){var a=this.player.getMediaElement();return a.tagName.toLowerCase()},p._createCustomButtonsArray=function(){var a={events:[{type:"click",callback:this._toggleShareSheet}],el:".controls-share-button"},b={events:[{type:"click",callback:this._toggleChaptersMenu}],el:".controls-chapters-button"};return[a,b]},p.bindControlbarButtonEvents=function(){this.customButtons.forEach(function(a){a.events.forEach(function(b){this.on(b.type,a.el,b.callback,this)},this)},this),this.player.on("volumechange",this._toggleVolume,this),j.on("enterfullscreen",this._onEnterFullScreen,this),j.on("exitfullscreen",this._onExitFullScreen,this)},p.destroy=function(){this.player.off(),j.off(),d.prototype.destroy.call(this)},b.exports=o},{"../application/ChaptersManager":710,"../application/videoControlbarTemplate":732,"../models/ModelVideoShare":742,"./ViewDust":748,"./ViewVideoShareSheet":777,"ac-classlist":21,"ac-dom-styles":83,"ac-dom-traversal":96,"ac-fullscreen":294,"ac-object":358,"ac-video-controls":478}],777:[function(a,b,c){"use strict";var d,e=a("./ViewDust"),f=a("ac-object"),g=(a("ac-dom-events"),a("ac-dom-traversal")),h=(a("ac-dom-nodes"),a("../application/SocialShareManager")),i=a("ac-social").Dialog,j=a("ac-social").Focus,k=a("ac-classlist"),l=a("../application/ShareDataHelper"),m=a("../application/VideoTimecodeFormatter"),n=(a("templates"),a("../models/ModelEventPage"),a("strings")),o=function(a){this.mHero=a.mHero,this.player=a.player,e.call(this,a),this.on("moment-change",this._handleMomentChange,this),this.analyticsObserver&&this.analyticsObserver(this)};d=o.prototype=f.create(e.prototype),d.template="template-video-sharesheet",d.className="sharesheet",d.analyticsType="hero-video-share",d.defaultOptions={events:{"click : .share-tab-video":"_onShareVideo","click : .share-tab-moment":"_onShareMoment","click : .icon-facebook":"_handleFacebookShareAction","click : .icon-twitter":"_handleTwitterTweetAction","click : .icon-weibo":"_handleWeiboShareAction","click : .icon-qqweibo":"_handleQQWeiboShareAction","click : .icon-qzone":"_handleQZoneShareAction","click : .icon-email":"_handleEmailShareAction","click : .icon-link":"_handleLinkShareAction","click : .link-copy-text":"_focusLinkCopyText"}},d.render=function(a,b){if(!a){a={};var c=this.getShareIcons(),d=l.getShareIconData(c);d.length>0&&(a.shareIcons=d),"vod"===this.mHero.get("state")&&(a.vod=!0)}return e.prototype.render.call(this,a,b)},d.handleTimeUpdate=function(){"vod"===this.mHero.get("state")&&(this.timecodeElementUpdate(),this.player.on("timeupdate",this.timecodeElementUpdate,this))},d.timecodeElementUpdate=function(){var a=m.formatTime(this.player.getCurrentTime());this._timecodeElement=g.querySelector(".videoshare-timecode",this.el),this._timecodeElement.innerText=a,this._linkCopyActive&&this._momentActive&&(this._setLinkCopyText(),this._focusLinkCopyText())},d.destroy=function(){this.player&&this.player.off("timeupdate",this.timecodeElementUpdate,this),e.prototype.destroy.call(this)},d._bindEvents=function(){this.model.on("change:share",this._setLinkCopyText,this)},d._onShareVideo=function(a){a.preventDefault(),this.model.reset(),this._disableShareMoment()},d._onShareMoment=function(a){a.preventDefault(),this._enableShareMoment(),this.emitterTrigger("share-moment",this._getTimecodeValue())},d._enableShareMoment=function(){this._momentActive||(this.player.pause(),this._momentActive=!0,k.add(this.el,"moment"),this.trigger("moment-change"))},d._disableShareMoment=function(){this._momentActive&&(this._momentActive=!1,k.remove(this.el,"moment"),this.trigger("moment-change"))},d._handleMomentChange=function(){this._setLinkCopyText(),this._linkCopyActive&&this._focusLinkCopyText()},d._getTimecodeValue=function(){return this._momentActive&&this.player?Math.floor(this.player.getCurrentTime()):null},d._handleShareAction=function(a,b,c){a.preventDefault(),c=c||{},c.timecode=this._getTimecodeValue(),h.createDialog(b,l.getShareDataFromModel(this.model,c)),this.emitterTrigger("share-clicked",b)},d._handleFacebookShareAction=function(a){var b={action:"facebook",type:"hero"};this._handleShareAction(a,i.FACEBOOK_SHARE,b)},d._handleWeiboShareAction=function(a){var b={action:"weibo",type:"hero"};this._handleShareAction(a,i.WEIBO_SHARE,b)},d._handleQQWeiboShareAction=function(a){var b={action:"qq",type:"hero"};this._handleShareAction(a,i.QQWEIBO_SHARE,b)},d._handleQZoneShareAction=function(a){var b={action:"qzone",type:"hero"};this._handleShareAction(a,i.QZONE_SHARE,b)},d._handleTwitterTweetAction=function(a){var b={timecode:this._getTimecodeValue(),action:"twitter",type:"hero"};this._handleShareAction(a,i.TWITTER_TWEET,b)},d._handleEmailShareAction=function(a){var b={timecode:this._getTimecodeValue(),action:"email",type:"hero"};this._handleShareAction(a,i.EMAIL_SHARE,b)},d._handleLinkShareAction=function(a){a.preventDefault(),this._linkCopyActive=!0,this._setLinkCopyText(),this._focusLinkCopyText(),k.add(this.el,"link-copy-active"),this.emitterTrigger("share-clicked","LINK_SHARE")},d._focusLinkCopyText=function(){var a=this._getLinkCopyEl();a&&j(a)},d._setLinkCopyText=function(){var a=this._getLinkCopyEl(),b={action:"directLink",timecode:this._getTimecodeValue()},c=l.getShareDataFromModel(this.model,b),d=c.url;a&&d&&(a.textContent=d)},d._getLinkCopyEl=function(){return this._linkCopyEl||(this._linkCopyEl=g.querySelector(".link-copy-text",this.el)),this._linkCopyEl},d.getShareIcons=function(){var a=["facebook","twitter","email"];return"zh-CN"===n.locale.lang&&(a=["weibo","qqweibo","qzone"]),a.push("link"),a},d._getShareIconData=function(){},b.exports=o},{"../application/ShareDataHelper":722,"../application/SocialShareManager":724,"../application/VideoTimecodeFormatter":730,"../models/ModelEventPage":738,"./ViewDust":748,"ac-classlist":21,"ac-dom-events":54,"ac-dom-nodes":62,"ac-dom-traversal":96,"ac-object":358,"ac-social":439,templates:"dt6s00"}]},{},[704]);